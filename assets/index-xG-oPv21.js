(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const _ of d)if(_.type==="childList")for(const p of _.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function o(d){const _={};return d.integrity&&(_.integrity=d.integrity),d.referrerPolicy&&(_.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?_.credentials="include":d.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function u(d){if(d.ep)return;d.ep=!0;const _=o(d);fetch(d.href,_)}})();function Q_(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Dh={exports:{}},ko={};var d_;function Bg(){if(d_)return ko;d_=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(u,d,_){var p=null;if(_!==void 0&&(p=""+_),d.key!==void 0&&(p=""+d.key),"key"in d){_={};for(var b in d)b!=="key"&&(_[b]=d[b])}else _=d;return d=_.ref,{$$typeof:l,type:u,key:p,ref:d!==void 0?d:null,props:_}}return ko.Fragment=a,ko.jsx=o,ko.jsxs=o,ko}var m_;function Pg(){return m_||(m_=1,Dh.exports=Bg()),Dh.exports}var G=Pg(),Nh={exports:{}},St={};var __;function Hg(){if(__)return St;__=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.iterator;function q(A){return A===null||typeof A!="object"?null:(A=k&&A[k]||A["@@iterator"],typeof A=="function"?A:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function W(A,Z,F){this.props=A,this.context=Z,this.refs=Q,this.updater=F||V}W.prototype.isReactComponent={},W.prototype.setState=function(A,Z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Z,"setState")},W.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function it(){}it.prototype=W.prototype;function Y(A,Z,F){this.props=A,this.context=Z,this.refs=Q,this.updater=F||V}var dt=Y.prototype=new it;dt.constructor=Y,P(dt,W.prototype),dt.isPureReactComponent=!0;var zt=Array.isArray;function mt(){}var ot={H:null,A:null,T:null,S:null},Kt=Object.prototype.hasOwnProperty;function Wt(A,Z,F){var et=F.ref;return{$$typeof:l,type:A,key:Z,ref:et!==void 0?et:null,props:F}}function yn(A,Z){return Wt(A.type,Z,A.props)}function Yt(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function It(A){var Z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(F){return Z[F]})}var zn=/\/+/g;function _e(A,Z){return typeof A=="object"&&A!==null&&A.key!=null?It(""+A.key):Z.toString(36)}function Nt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(mt,mt):(A.status="pending",A.then(function(Z){A.status==="pending"&&(A.status="fulfilled",A.value=Z)},function(Z){A.status==="pending"&&(A.status="rejected",A.reason=Z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function B(A,Z,F,et,st){var rt=typeof A;(rt==="undefined"||rt==="boolean")&&(A=null);var At=!1;if(A===null)At=!0;else switch(rt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(A.$$typeof){case l:case a:At=!0;break;case C:return At=A._init,B(At(A._payload),Z,F,et,st)}}if(At)return st=st(A),At=et===""?"."+_e(A,0):et,zt(st)?(F="",At!=null&&(F=At.replace(zn,"$&/")+"/"),B(st,Z,F,"",function(ui){return ui})):st!=null&&(Yt(st)&&(st=yn(st,F+(st.key==null||A&&A.key===st.key?"":(""+st.key).replace(zn,"$&/")+"/")+At)),Z.push(st)),1;At=0;var ae=et===""?".":et+":";if(zt(A))for(var re=0;re<A.length;re++)et=A[re],rt=ae+_e(et,re),At+=B(et,Z,F,rt,st);else if(re=q(A),typeof re=="function")for(A=re.call(A),re=0;!(et=A.next()).done;)et=et.value,rt=ae+_e(et,re++),At+=B(et,Z,F,rt,st);else if(rt==="object"){if(typeof A.then=="function")return B(Nt(A),Z,F,et,st);throw Z=String(A),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return At}function tt(A,Z,F){if(A==null)return A;var et=[],st=0;return B(A,et,"","",function(rt){return Z.call(F,rt,st++)}),et}function $(A){if(A._status===-1){var Z=A._result;Z=Z(),Z.then(function(F){(A._status===0||A._status===-1)&&(A._status=1,A._result=F)},function(F){(A._status===0||A._status===-1)&&(A._status=2,A._result=F)}),A._status===-1&&(A._status=0,A._result=Z)}if(A._status===1)return A._result.default;throw A._result}var Ht=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},at={map:tt,forEach:function(A,Z,F){tt(A,function(){Z.apply(this,arguments)},F)},count:function(A){var Z=0;return tt(A,function(){Z++}),Z},toArray:function(A){return tt(A,function(Z){return Z})||[]},only:function(A){if(!Yt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return St.Activity=R,St.Children=at,St.Component=W,St.Fragment=o,St.Profiler=d,St.PureComponent=Y,St.StrictMode=u,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,St.__COMPILER_RUNTIME={__proto__:null,c:function(A){return ot.H.useMemoCache(A)}},St.cache=function(A){return function(){return A.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(A,Z,F){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var et=P({},A.props),st=A.key;if(Z!=null)for(rt in Z.key!==void 0&&(st=""+Z.key),Z)!Kt.call(Z,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&Z.ref===void 0||(et[rt]=Z[rt]);var rt=arguments.length-2;if(rt===1)et.children=F;else if(1<rt){for(var At=Array(rt),ae=0;ae<rt;ae++)At[ae]=arguments[ae+2];et.children=At}return Wt(A.type,st,et)},St.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:_,_context:A},A},St.createElement=function(A,Z,F){var et,st={},rt=null;if(Z!=null)for(et in Z.key!==void 0&&(rt=""+Z.key),Z)Kt.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(st[et]=Z[et]);var At=arguments.length-2;if(At===1)st.children=F;else if(1<At){for(var ae=Array(At),re=0;re<At;re++)ae[re]=arguments[re+2];st.children=ae}if(A&&A.defaultProps)for(et in At=A.defaultProps,At)st[et]===void 0&&(st[et]=At[et]);return Wt(A,rt,st)},St.createRef=function(){return{current:null}},St.forwardRef=function(A){return{$$typeof:b,render:A}},St.isValidElement=Yt,St.lazy=function(A){return{$$typeof:C,_payload:{_status:-1,_result:A},_init:$}},St.memo=function(A,Z){return{$$typeof:S,type:A,compare:Z===void 0?null:Z}},St.startTransition=function(A){var Z=ot.T,F={};ot.T=F;try{var et=A(),st=ot.S;st!==null&&st(F,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(mt,Ht)}catch(rt){Ht(rt)}finally{Z!==null&&F.types!==null&&(Z.types=F.types),ot.T=Z}},St.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},St.use=function(A){return ot.H.use(A)},St.useActionState=function(A,Z,F){return ot.H.useActionState(A,Z,F)},St.useCallback=function(A,Z){return ot.H.useCallback(A,Z)},St.useContext=function(A){return ot.H.useContext(A)},St.useDebugValue=function(){},St.useDeferredValue=function(A,Z){return ot.H.useDeferredValue(A,Z)},St.useEffect=function(A,Z){return ot.H.useEffect(A,Z)},St.useEffectEvent=function(A){return ot.H.useEffectEvent(A)},St.useId=function(){return ot.H.useId()},St.useImperativeHandle=function(A,Z,F){return ot.H.useImperativeHandle(A,Z,F)},St.useInsertionEffect=function(A,Z){return ot.H.useInsertionEffect(A,Z)},St.useLayoutEffect=function(A,Z){return ot.H.useLayoutEffect(A,Z)},St.useMemo=function(A,Z){return ot.H.useMemo(A,Z)},St.useOptimistic=function(A,Z){return ot.H.useOptimistic(A,Z)},St.useReducer=function(A,Z,F){return ot.H.useReducer(A,Z,F)},St.useRef=function(A){return ot.H.useRef(A)},St.useState=function(A){return ot.H.useState(A)},St.useSyncExternalStore=function(A,Z,F){return ot.H.useSyncExternalStore(A,Z,F)},St.useTransition=function(){return ot.H.useTransition()},St.version="19.2.3",St}var p_;function cf(){return p_||(p_=1,Nh.exports=Hg()),Nh.exports}var _t=cf();const Kn=Q_(_t);var jh={exports:{}},Do={},Uh={exports:{}},Bh={};var g_;function qg(){return g_||(g_=1,(function(l){function a(B,tt){var $=B.length;B.push(tt);t:for(;0<$;){var Ht=$-1>>>1,at=B[Ht];if(0<d(at,tt))B[Ht]=tt,B[$]=at,$=Ht;else break t}}function o(B){return B.length===0?null:B[0]}function u(B){if(B.length===0)return null;var tt=B[0],$=B.pop();if($!==tt){B[0]=$;t:for(var Ht=0,at=B.length,A=at>>>1;Ht<A;){var Z=2*(Ht+1)-1,F=B[Z],et=Z+1,st=B[et];if(0>d(F,$))et<at&&0>d(st,F)?(B[Ht]=st,B[et]=$,Ht=et):(B[Ht]=F,B[Z]=$,Ht=Z);else if(et<at&&0>d(st,$))B[Ht]=st,B[et]=$,Ht=et;else break t}}return tt}function d(B,tt){var $=B.sortIndex-tt.sortIndex;return $!==0?$:B.id-tt.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var _=performance;l.unstable_now=function(){return _.now()}}else{var p=Date,b=p.now();l.unstable_now=function(){return p.now()-b}}var y=[],S=[],C=1,R=null,k=3,q=!1,V=!1,P=!1,Q=!1,W=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function dt(B){for(var tt=o(S);tt!==null;){if(tt.callback===null)u(S);else if(tt.startTime<=B)u(S),tt.sortIndex=tt.expirationTime,a(y,tt);else break;tt=o(S)}}function zt(B){if(P=!1,dt(B),!V)if(o(y)!==null)V=!0,mt||(mt=!0,It());else{var tt=o(S);tt!==null&&Nt(zt,tt.startTime-B)}}var mt=!1,ot=-1,Kt=5,Wt=-1;function yn(){return Q?!0:!(l.unstable_now()-Wt<Kt)}function Yt(){if(Q=!1,mt){var B=l.unstable_now();Wt=B;var tt=!0;try{t:{V=!1,P&&(P=!1,it(ot),ot=-1),q=!0;var $=k;try{e:{for(dt(B),R=o(y);R!==null&&!(R.expirationTime>B&&yn());){var Ht=R.callback;if(typeof Ht=="function"){R.callback=null,k=R.priorityLevel;var at=Ht(R.expirationTime<=B);if(B=l.unstable_now(),typeof at=="function"){R.callback=at,dt(B),tt=!0;break e}R===o(y)&&u(y),dt(B)}else u(y);R=o(y)}if(R!==null)tt=!0;else{var A=o(S);A!==null&&Nt(zt,A.startTime-B),tt=!1}}break t}finally{R=null,k=$,q=!1}tt=void 0}}finally{tt?It():mt=!1}}}var It;if(typeof Y=="function")It=function(){Y(Yt)};else if(typeof MessageChannel<"u"){var zn=new MessageChannel,_e=zn.port2;zn.port1.onmessage=Yt,It=function(){_e.postMessage(null)}}else It=function(){W(Yt,0)};function Nt(B,tt){ot=W(function(){B(l.unstable_now())},tt)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kt=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return k},l.unstable_next=function(B){switch(k){case 1:case 2:case 3:var tt=3;break;default:tt=k}var $=k;k=tt;try{return B()}finally{k=$}},l.unstable_requestPaint=function(){Q=!0},l.unstable_runWithPriority=function(B,tt){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=k;k=B;try{return tt()}finally{k=$}},l.unstable_scheduleCallback=function(B,tt,$){var Ht=l.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Ht+$:Ht):$=Ht,B){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=$+at,B={id:C++,callback:tt,priorityLevel:B,startTime:$,expirationTime:at,sortIndex:-1},$>Ht?(B.sortIndex=$,a(S,B),o(y)===null&&B===o(S)&&(P?(it(ot),ot=-1):P=!0,Nt(zt,$-Ht))):(B.sortIndex=at,a(y,B),V||q||(V=!0,mt||(mt=!0,It()))),B},l.unstable_shouldYield=yn,l.unstable_wrapCallback=function(B){var tt=k;return function(){var $=k;k=tt;try{return B.apply(this,arguments)}finally{k=$}}}})(Bh)),Bh}var v_;function Zg(){return v_||(v_=1,Uh.exports=qg()),Uh.exports}var Ph={exports:{}},Ze={};var y_;function Ig(){if(y_)return Ze;y_=1;var l=cf();function a(y){var S="https://react.dev/errors/"+y;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)S+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+y+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var u={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function _(y,S,C){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:R==null?null:""+R,children:y,containerInfo:S,implementation:C}}var p=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,S){if(y==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ze.createPortal=function(y,S){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(a(299));return _(y,S,null,C)},Ze.flushSync=function(y){var S=p.T,C=u.p;try{if(p.T=null,u.p=2,y)return y()}finally{p.T=S,u.p=C,u.d.f()}},Ze.preconnect=function(y,S){typeof y=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,u.d.C(y,S))},Ze.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},Ze.preinit=function(y,S){if(typeof y=="string"&&S&&typeof S.as=="string"){var C=S.as,R=b(C,S.crossOrigin),k=typeof S.integrity=="string"?S.integrity:void 0,q=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;C==="style"?u.d.S(y,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:R,integrity:k,fetchPriority:q}):C==="script"&&u.d.X(y,{crossOrigin:R,integrity:k,fetchPriority:q,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},Ze.preinitModule=function(y,S){if(typeof y=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var C=b(S.as,S.crossOrigin);u.d.M(y,{crossOrigin:C,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&u.d.M(y)},Ze.preload=function(y,S){if(typeof y=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var C=S.as,R=b(C,S.crossOrigin);u.d.L(y,C,{crossOrigin:R,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},Ze.preloadModule=function(y,S){if(typeof y=="string")if(S){var C=b(S.as,S.crossOrigin);u.d.m(y,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:C,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else u.d.m(y)},Ze.requestFormReset=function(y){u.d.r(y)},Ze.unstable_batchedUpdates=function(y,S){return y(S)},Ze.useFormState=function(y,S,C){return p.H.useFormState(y,S,C)},Ze.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var b_;function $_(){if(b_)return Ph.exports;b_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Ph.exports=Ig(),Ph.exports}var w_;function Gg(){if(w_)return Do;w_=1;var l=Zg(),a=cf(),o=$_();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(_(t)!==t)throw Error(u(188))}function S(t){var e=t.alternate;if(!e){if(e=_(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,s=e;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(s=h.return,s!==null){i=s;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return y(h),t;if(f===s)return y(h),e;f=f.sibling}throw Error(u(188))}if(i.return!==s.return)i=h,s=f;else{for(var v=!1,T=h.child;T;){if(T===i){v=!0,i=h,s=f;break}if(T===s){v=!0,s=h,i=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===i){v=!0,i=f,s=h;break}if(T===s){v=!0,s=f,i=h;break}T=T.sibling}if(!v)throw Error(u(189))}}if(i.alternate!==s)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function C(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=C(t),e!==null)return e;t=t.sibling}return null}var R=Object.assign,k=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Wt=Symbol.for("react.activity"),yn=Symbol.for("react.memo_cache_sentinel"),Yt=Symbol.iterator;function It(t){return t===null||typeof t!="object"?null:(t=Yt&&t[Yt]||t["@@iterator"],typeof t=="function"?t:null)}var zn=Symbol.for("react.client.reference");function _e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===zn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case W:return"Profiler";case Q:return"StrictMode";case zt:return"Suspense";case mt:return"SuspenseList";case Wt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case Y:return t.displayName||"Context";case it:return(t._context.displayName||"Context")+".Consumer";case dt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ot:return e=t.displayName||null,e!==null?e:_e(t.type)||"Memo";case Kt:e=t._payload,t=t._init;try{return _e(t(e))}catch{}}return null}var Nt=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Ht=[],at=-1;function A(t){return{current:t}}function Z(t){0>at||(t.current=Ht[at],Ht[at]=null,at--)}function F(t,e){at++,Ht[at]=t.current,t.current=e}var et=A(null),st=A(null),rt=A(null),At=A(null);function ae(t,e){switch(F(rt,e),F(st,t),F(et,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?jm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=jm(e),t=Um(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(et),F(et,t)}function re(){Z(et),Z(st),Z(rt)}function ui(t){t.memoizedState!==null&&F(At,t);var e=et.current,i=Um(e,t.type);e!==i&&(F(st,t),F(et,i))}function Bi(t){st.current===t&&(Z(et),Z(st)),At.current===t&&(Z(At),Ro._currentValue=$)}var ci,wr;function hi(t){if(ci===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ci=e&&e[1]||"",wr=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ci+t+wr}var Sr=!1;function Tr(t,e){if(!t||Sr)return"";Sr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var U=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){U=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){U=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var x=v.split(`
`),N=T.split(`
`);for(h=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(s===x.length||h===N.length)for(s=x.length-1,h=N.length-1;1<=s&&0<=h&&x[s]!==N[h];)h--;for(;1<=s&&0<=h;s--,h--)if(x[s]!==N[h]){if(s!==1||h!==1)do if(s--,h--,0>h||x[s]!==N[h]){var I=`
`+x[s].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=s&&0<=h);break}}}finally{Sr=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?hi(i):""}function As(t,e){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==e&&e!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Tr(t.type,!1);case 11:return Tr(t.type.render,!1);case 1:return Tr(t.type,!0);case 31:return hi("Activity");default:return""}}function xa(t){try{var e="",i=null;do e+=As(t,i),i=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Os=Object.prototype.hasOwnProperty,Er=l.unstable_scheduleCallback,Aa=l.unstable_cancelCallback,Ko=l.unstable_shouldYield,Yo=l.unstable_requestPaint,Ie=l.unstable_now,ju=l.unstable_getCurrentPriorityLevel,xr=l.unstable_ImmediatePriority,Cs=l.unstable_UserBlockingPriority,Oa=l.unstable_NormalPriority,Uu=l.unstable_LowPriority,Rs=l.unstable_IdlePriority,Xo=l.log,Bu=l.unstable_setDisableYieldValue,Pi=null,ke=null;function Mn(t){if(typeof Xo=="function"&&Bu(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pi,t)}catch{}}var Ge=Math.clz32?Math.clz32:Hu,Ca=Math.log,Pu=Math.LN2;function Hu(t){return t>>>=0,t===0?32:31-(Ca(t)/Pu|0)|0}var Ra=256,La=262144,za=4194304;function fi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ar(t,e,i){var s=t.pendingLanes;if(s===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=s&134217727;return T!==0?(s=T&~f,s!==0?h=fi(s):(v&=T,v!==0?h=fi(v):i||(i=T&~t,i!==0&&(h=fi(i))))):(T=s&~f,T!==0?h=fi(T):v!==0?h=fi(v):i||(i=s&~t,i!==0&&(h=fi(i)))),h===0?0:e!==0&&e!==h&&(e&f)===0&&(f=h&-h,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:h}function Ma(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function qu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var t=za;return za<<=1,(za&62914560)===0&&(za=4194304),t}function Ls(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function di(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zu(t,e,i,s,h,f){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,N=t.hiddenUpdates;for(i=v&~i;0<i;){var I=31-Ge(i),J=1<<I;T[I]=0,x[I]=-1;var U=N[I];if(U!==null)for(N[I]=null,I=0;I<U.length;I++){var H=U[I];H!==null&&(H.lane&=-536870913)}i&=~J}s!==0&&Qo(t,s,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~e))}function Qo(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ge(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|i&261930}function $o(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-Ge(i),h=1<<s;h&e|t[s]&e&&(t[s]|=e),i&=~h}}function Wo(t,e){var i=e&-e;return i=(i&42)!==0?1:Xe(i),(i&(t.suspendedLanes|e))!==0?0:i}function Xe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ct(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zs(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:s_(t.type))}function Ms(t,e){var i=tt.p;try{return tt.p=t,e()}finally{tt.p=i}}var kn=Math.random().toString(36).slice(2),ve="__reactFiber$"+kn,Re="__reactProps$"+kn,mi="__reactContainer$"+kn,Yn="__reactEvents$"+kn,Fo="__reactListeners$"+kn,Iu="__reactHandles$"+kn,tl="__reactResources$"+kn,ka="__reactMarker$"+kn;function ks(t){delete t[ve],delete t[Re],delete t[Yn],delete t[Fo],delete t[Iu]}function _i(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[mi]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Gm(t);t!==null;){if(i=t[ve])return i;t=Gm(t)}return e}t=i,i=t.parentNode}return null}function Hi(t){if(t=t[ve]||t[mi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Xn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function qi(t){var e=t[tl];return e||(e=t[tl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[ka]=!0}var el=new Set,nl={};function pi(t,e){Jn(t,e),Jn(t+"Capture",e)}function Jn(t,e){for(nl[t]=e,t=0;t<e.length;t++)el.add(e[t])}var Da=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ds={},Ns={};function Na(t){return Os.call(Ns,t)?!0:Os.call(Ds,t)?!1:Da.test(t)?Ns[t]=!0:(Ds[t]=!0,!1)}function Ot(t,e,i){if(Na(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Xt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Je(t,e,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+s)}}function xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function js(t,e,i){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wt(t){if(!t._valueTracker){var e=gi(t)?"checked":"value";t._valueTracker=js(t,e,""+t[e])}}function se(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=gi(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function Zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function ne(t){return t.replace(Or,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Us(t,e,i,s,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+xe(e)):t.value!==""+xe(e)&&(t.value=""+xe(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?Dn(t,v,xe(e)):i!=null?Dn(t,v,xe(i)):s!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+xe(T):t.removeAttribute("name")}function ja(t,e,i,s,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){wt(t);return}i=i!=null?""+xe(i):"",e=e!=null?""+xe(e):i,T||e===t.value||(t.value=e),t.defaultValue=e}s=s??h,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=T?t.checked:!!s,t.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),wt(t)}function Dn(t,e,i){e==="number"&&Zi(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ft(t,e,i,s){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&s&&(t[i].defaultSelected=!0)}else{for(i=""+xe(i),e=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,s&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function Qn(t,e,i){if(e!=null&&(e=""+xe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+xe(i):""}function Ii(t,e,i,s){if(e==null){if(s!=null){if(i!=null)throw Error(u(92));if(Nt(s)){if(1<s.length)throw Error(u(93));s=s[0]}i=s}i==null&&(i=""),e=i}i=xe(e),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s),wt(t)}function bn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gi(t,e,i){var s=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,i):typeof i!="number"||i===0||Bs.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Cr(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var h in e)s=e[h],e.hasOwnProperty(h)&&i[h]!==s&&Gi(t,h,s)}else for(var f in e)e.hasOwnProperty(f)&&Gi(t,f,e[f])}function Ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qe(){}var Lr=null;function Ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,bt=null;function on(t){var e=Hi(t);if(e&&(t=e.stateNode)){var i=t[Re]||null;t:switch(t=e.stateNode,e.type){case"input":if(Us(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ne(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var h=s[Re]||null;if(!h)throw Error(u(90));Us(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<i.length;e++)s=i[e],s.form===t.form&&se(s)}break t;case"textarea":Qn(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ft(t,!!i.multiple,e,!1)}}}var Zt=!1;function Hs(t,e,i){if(Zt)return t(e,i);Zt=!0;try{var s=t(e);return s}finally{if(Zt=!1,(Ki!==null||bt!==null)&&(Wl(),Ki&&(e=Ki,t=bt,bt=Ki=null,on(e),t)))for(e=0;e<t.length;e++)on(t[e])}}function vi(t,e){var i=t.stateNode;if(i===null)return null;var s=i[Re]||null;if(s===null)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pa=!1;if(ln)try{var un={};Object.defineProperty(un,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Pa=!1}var wn=null,yi=null,ce=null;function $n(){if(ce)return ce;var t,e=yi,i=e.length,s,h="value"in wn?wn.value:wn.textContent,f=h.length;for(t=0;t<i&&e[t]===h[t];t++);var v=i-t;for(s=1;s<=v&&e[i-s]===h[f-s];s++);return ce=h.slice(t,1<s?1-s:void 0)}function Ha(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qa(){return!0}function il(){return!1}function De(t){function e(i,s,h,f,v){this._reactName=i,this._targetInst=h,this.type=s,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qa:il,this.isPropagationStopped=il,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),e}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=De(Nn),Yi=R({},Nn,{view:0,detail:0}),Mt=De(Yi),qs,Ve,jn,Za=R({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(qs=t.screenX-jn.screenX,Ve=t.screenY-jn.screenY):Ve=qs=0,jn=t),qs)},movementY:function(t){return"movementY"in t?t.movementY:Ve}}),al=De(Za),Zs=R({},Za,{dataTransfer:0}),Gu=De(Zs),rl=R({},Yi,{relatedTarget:0}),Is=De(rl),Vu=R({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=De(Vu),Ku=R({},Nn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sn=De(Ku),Yu=R({},Nn,{data:0}),Vs=De(Yu),Wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ol[t])?!!e[t]:!1}function Ys(){return Ks}var ll=R({},Yi,{key:function(t){if(t.key){var e=Wn[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ul=De(ll),Xu=R({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=De(Xu),Xs=R({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),Ju=De(Xs),hl=R({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fl=De(hl),Mr=R({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bi=De(Mr),Qu=R({},Nn,{newState:0,oldState:0}),Ia=De(Qu),$e=[9,13,27,32],kr=ln&&"CompositionEvent"in window,Xi=null;ln&&"documentMode"in document&&(Xi=document.documentMode);var $u=ln&&"TextEvent"in window&&!Xi,Dr=ln&&(!kr||Xi&&8<Xi&&11>=Xi),Nr=" ",dl=!1;function ml(t,e){switch(t){case"keyup":return $e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Js(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function cn(t,e){switch(t){case"compositionend":return Js(e);case"keypress":return e.which!==32?null:(dl=!0,Nr);case"textInput":return t=e.data,t===Nr&&dl?null:t;default:return null}}function Qi(t,e){if(Ji)return t==="compositionend"||!kr&&ml(t,e)?(t=$n(),ce=yi=wn=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dr&&e.locale!=="ko"?null:e.data;default:return null}}var Wu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wu[t.type]:e==="textarea"}function _l(t,e,i,s){Ki?bt?bt.push(s):bt=[s]:Ki=s,e=ru(e,"onChange"),0<e.length&&(i=new zr("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var En=null,Ga=null;function Va(t){Lm(t,0)}function Ka(t){var e=Xn(t);if(se(e))return t}function Ya(t,e){if(t==="change")return e}var pl=!1;if(ln){var xn;if(ln){var $i="oninput"in document;if(!$i){var gl=document.createElement("div");gl.setAttribute("oninput","return;"),$i=typeof gl.oninput=="function"}xn=$i}else xn=!1;pl=xn&&(!document.documentMode||9<document.documentMode)}function jr(){En&&(En.detachEvent("onpropertychange",vl),Ga=En=null)}function vl(t){if(t.propertyName==="value"&&Ka(Ga)){var e=[];_l(e,Ga,t,Ba(t)),Hs(Va,e)}}function Un(t,e,i){t==="focusin"?(jr(),En=e,Ga=i,En.attachEvent("onpropertychange",vl)):t==="focusout"&&jr()}function Fu(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(Ga)}function Wi(t,e){if(t==="click")return Ka(e)}function tc(t,e){if(t==="input"||t==="change")return Ka(e)}function Bn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Le=typeof Object.is=="function"?Object.is:Bn;function Fi(t,e){if(Le(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var h=i[s];if(!Os.call(e,h)||!Le(t[h],e[h]))return!1}return!0}function Ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xa(t,e){var i=Ur(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Ur(i)}}function Br(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Br(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ja(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Zi(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Zi(t.document)}return e}function Fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Pr=ln&&"documentMode"in document&&11>=document.documentMode,ti=null,Hr=null,Qa=null,ta=!1;function yl(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ta||ti==null||ti!==Zi(s)||(s=ti,"selectionStart"in s&&Fn(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qa&&Fi(Qa,s)||(Qa=s,s=ru(Hr,"onSelect"),0<s.length&&(e=new zr("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=ti)))}function ei(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ea={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},qr={},bl={};ln&&(bl=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function ze(t){if(qr[t])return qr[t];if(!ea[t])return t;var e=ea[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in bl)return qr[t]=e[i];return t}var $a=ze("animationend"),wl=ze("animationiteration"),Wa=ze("animationstart"),ec=ze("transitionrun"),Sl=ze("transitionstart"),nc=ze("transitioncancel"),na=ze("transitionend"),Tl=new Map,ni="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ni.push("scrollEnd");function We(t,e){Tl.set(t,e),pi(e,[t])}var Fa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fe=[],He=0,Zr=0;function tr(){for(var t=He,e=Zr=He=0;e<t;){var i=Fe[e];Fe[e++]=null;var s=Fe[e];Fe[e++]=null;var h=Fe[e];Fe[e++]=null;var f=Fe[e];if(Fe[e++]=null,s!==null&&h!==null){var v=s.pending;v===null?h.next=h:(h.next=v.next,v.next=h),s.pending=h}f!==0&&ia(i,h,f)}}function ii(t,e,i,s){Fe[He++]=t,Fe[He++]=e,Fe[He++]=i,Fe[He++]=s,Zr|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Qs(t,e,i,s){return ii(t,e,i,s),er(t)}function An(t,e){return ii(t,null,null,e),er(t)}function ia(t,e,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var h=!1,f=t.return;f!==null;)f.childLanes|=i,s=f.alternate,s!==null&&(s.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&e!==null&&(h=31-Ge(i),t=f.hiddenUpdates,s=t[h],s===null?t[h]=[e]:s.push(e),e.lane=i|536870912),f):null}function er(t){if(50<So)throw So=0,ah=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var wi={};function ic(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,i,s){return new ic(t,e,i,s)}function Ir(t){return t=t.prototype,!(!t||!t.isReactComponent)}function On(t,e){var i=t.alternate;return i===null?(i=qe(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function $s(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function nr(t,e,i,s,h,f){var v=0;if(s=t,typeof t=="function")Ir(t)&&(v=1);else if(typeof t=="string")v=Ag(t,i,et.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Wt:return t=qe(31,i,e,h),t.elementType=Wt,t.lanes=f,t;case P:return Si(i.children,h,f,e);case Q:v=8,h|=24;break;case W:return t=qe(12,i,e,h|2),t.elementType=W,t.lanes=f,t;case zt:return t=qe(13,i,e,h),t.elementType=zt,t.lanes=f,t;case mt:return t=qe(19,i,e,h),t.elementType=mt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:v=10;break t;case it:v=9;break t;case dt:v=11;break t;case ot:v=14;break t;case Kt:v=16,s=null;break t}v=29,i=Error(u(130,t===null?"null":typeof t,"")),s=null}return e=qe(v,i,e,h),e.elementType=t,e.type=s,e.lanes=f,e}function Si(t,e,i,s){return t=qe(7,t,s,e),t.lanes=i,t}function Gr(t,e,i){return t=qe(6,t,null,e),t.lanes=i,t}function Ws(t){var e=qe(18,null,null,0);return e.stateNode=t,e}function Fs(t,e,i){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function r(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:xa(e)},n.set(t,e),e)}return{value:t,source:e,stack:xa(e)}}var c=[],m=0,g=null,w=0,E=[],M=0,j=null,X=1,nt="";function ht(t,e){c[m++]=w,c[m++]=g,g=t,w=e}function Et(t,e,i){E[M++]=X,E[M++]=nt,E[M++]=j,j=t;var s=X;t=nt;var h=32-Ge(s)-1;s&=~(1<<h),i+=1;var f=32-Ge(e)+h;if(30<f){var v=h-h%5;f=(s&(1<<v)-1).toString(32),s>>=v,h-=v,X=1<<32-Ge(e)+h|i<<h|s,nt=f+t}else X=1<<f|i<<h|s,nt=t}function Ae(t){t.return!==null&&(ht(t,1),Et(t,1,0))}function he(t){for(;t===g;)g=c[--m],c[m]=null,w=c[--m],c[m]=null;for(;t===j;)j=E[--M],E[M]=null,nt=E[--M],E[M]=null,X=E[--M],E[M]=null}function Ke(t,e){E[M++]=X,E[M++]=nt,E[M++]=j,X=e.id,nt=e.overflow,j=t}var jt=null,Ut=null,Ct=!1,ai=null,tn=!1,Vr=Error(u(519));function ri(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ir(r(e,t)),Vr}function to(t){var e=t.stateNode,i=t.type,s=t.memoizedProps;switch(e[ve]=t,e[Re]=s,i){case"dialog":Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":case"embed":Lt("load",e);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Lt(Eo[i],e);break;case"source":Lt("error",e);break;case"img":case"image":case"link":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"input":Lt("invalid",e),ja(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Lt("invalid",e);break;case"textarea":Lt("invalid",e),Ii(e,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||s.suppressHydrationWarning===!0||Dm(e.textContent,i)?(s.popover!=null&&(Lt("beforetoggle",e),Lt("toggle",e)),s.onScroll!=null&&Lt("scroll",e),s.onScrollEnd!=null&&Lt("scrollend",e),s.onClick!=null&&(e.onclick=Qe),e=!0):e=!1,e||ri(t,!0)}function le(t){for(jt=t.return;jt;)switch(jt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:jt=jt.return}}function Pn(t){if(t!==jt)return!1;if(!Ct)return le(t),Ct=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||yh(t.type,t.memoizedProps)),i=!i),i&&Ut&&ri(t),le(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Ut=Im(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Ut=Im(t)}else e===27?(e=Ut,ga(t.type)?(t=Eh,Eh=null,Ut=t):Ut=e):Ut=jt?Rn(t.stateNode.nextSibling):null;return!0}function Ti(){Ut=jt=null,Ct=!1}function eo(){var t=ai;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),ai=null),t}function ir(t){ai===null?ai=[t]:ai.push(t)}var ar=A(null),si=null,Hn=null;function aa(t,e,i){F(ar,e._currentValue),e._currentValue=i}function Ei(t){t._currentValue=ar.current,Z(ar)}function ac(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function rc(t,e,i,s){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var x=0;x<e.length;x++)if(T.context===e[x]){f.lanes|=i,T=f.alternate,T!==null&&(T.lanes|=i),ac(f.return,i,t),s||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(u(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),ac(v,i,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Kr(t,e,i,s){t=null;for(var h=e,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var T=h.type;Le(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===At.current){if(v=h.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ro):t=[Ro])}h=h.return}t!==null&&rc(e,t,i,s),e.flags|=262144}function El(t){for(t=t.firstContext;t!==null;){if(!Le(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){si=t,Hn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ne(t){return yf(si,t)}function xl(t,e){return si===null&&rr(t),yf(t,e)}function yf(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Hn===null){if(t===null)throw Error(u(308));Hn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Hn=Hn.next=e;return i}var Sp=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Tp=l.unstable_scheduleCallback,Ep=l.unstable_NormalPriority,be={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new Sp,data:new Map,refCount:0}}function no(t){t.refCount--,t.refCount===0&&Tp(Ep,function(){t.controller.abort()})}var io=null,oc=0,Yr=0,Xr=null;function xp(t,e){if(io===null){var i=io=[];oc=0,Yr=ch(),Xr={status:"pending",value:void 0,then:function(s){i.push(s)}}}return oc++,e.then(bf,bf),e}function bf(){if(--oc===0&&io!==null){Xr!==null&&(Xr.status="fulfilled");var t=io;io=null,Yr=0,Xr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Ap(t,e){var i=[],s={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var h=0;h<i.length;h++)(0,i[h])(e)},function(h){for(s.status="rejected",s.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),s}var wf=B.S;B.S=function(t,e){am=Ie(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&xp(t,e),wf!==null&&wf(t,e)};var sr=A(null);function lc(){var t=sr.current;return t!==null?t:te.pooledCache}function Al(t,e){e===null?F(sr,sr.current):F(sr,e.pool)}function Sf(){var t=lc();return t===null?null:{parent:be._currentValue,pool:t}}var Jr=Error(u(460)),uc=Error(u(474)),Ol=Error(u(542)),Cl={then:function(){}};function Tf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ef(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Qe,Qe),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Af(t),t;default:if(typeof e.status=="string")e.then(Qe,Qe);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=s}},function(s){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Af(t),t}throw lr=e,Jr}}function or(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(lr=i,Jr):i}}var lr=null;function xf(){if(lr===null)throw Error(u(459));var t=lr;return lr=null,t}function Af(t){if(t===Jr||t===Ol)throw Error(u(483))}var Qr=null,ao=0;function Rl(t){var e=ao;return ao+=1,Qr===null&&(Qr=[]),Ef(Qr,t,e)}function ro(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ll(t,e){throw e.$$typeof===k?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Of(t){function e(z,O){if(t){var D=z.deletions;D===null?(z.deletions=[O],z.flags|=16):D.push(O)}}function i(z,O){if(!t)return null;for(;O!==null;)e(z,O),O=O.sibling;return null}function s(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=On(z,O),z.index=0,z.sibling=null,z}function f(z,O,D){return z.index=D,t?(D=z.alternate,D!==null?(D=D.index,D<O?(z.flags|=67108866,O):D):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,O,D,K){return O===null||O.tag!==6?(O=Gr(D,z.mode,K),O.return=z,O):(O=h(O,D),O.return=z,O)}function x(z,O,D,K){var pt=D.type;return pt===P?I(z,O,D.props.children,K,D.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Kt&&or(pt)===O.type)?(O=h(O,D.props),ro(O,D),O.return=z,O):(O=nr(D.type,D.key,D.props,null,z.mode,K),ro(O,D),O.return=z,O)}function N(z,O,D,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==D.containerInfo||O.stateNode.implementation!==D.implementation?(O=Fs(D,z.mode,K),O.return=z,O):(O=h(O,D.children||[]),O.return=z,O)}function I(z,O,D,K,pt){return O===null||O.tag!==7?(O=Si(D,z.mode,K,pt),O.return=z,O):(O=h(O,D),O.return=z,O)}function J(z,O,D){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gr(""+O,z.mode,D),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return D=nr(O.type,O.key,O.props,null,z.mode,D),ro(D,O),D.return=z,D;case V:return O=Fs(O,z.mode,D),O.return=z,O;case Kt:return O=or(O),J(z,O,D)}if(Nt(O)||It(O))return O=Si(O,z.mode,D,null),O.return=z,O;if(typeof O.then=="function")return J(z,Rl(O),D);if(O.$$typeof===Y)return J(z,xl(z,O),D);Ll(z,O)}return null}function U(z,O,D,K){var pt=O!==null?O.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return pt!==null?null:T(z,O,""+D,K);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return D.key===pt?x(z,O,D,K):null;case V:return D.key===pt?N(z,O,D,K):null;case Kt:return D=or(D),U(z,O,D,K)}if(Nt(D)||It(D))return pt!==null?null:I(z,O,D,K,null);if(typeof D.then=="function")return U(z,O,Rl(D),K);if(D.$$typeof===Y)return U(z,O,xl(z,D),K);Ll(z,D)}return null}function H(z,O,D,K,pt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(D)||null,T(O,z,""+K,pt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return z=z.get(K.key===null?D:K.key)||null,x(O,z,K,pt);case V:return z=z.get(K.key===null?D:K.key)||null,N(O,z,K,pt);case Kt:return K=or(K),H(z,O,D,K,pt)}if(Nt(K)||It(K))return z=z.get(D)||null,I(O,z,K,pt,null);if(typeof K.then=="function")return H(z,O,D,Rl(K),pt);if(K.$$typeof===Y)return H(z,O,D,xl(O,K),pt);Ll(O,K)}return null}function lt(z,O,D,K){for(var pt=null,Bt=null,ut=O,xt=O=0,Dt=null;ut!==null&&xt<D.length;xt++){ut.index>xt?(Dt=ut,ut=null):Dt=ut.sibling;var Pt=U(z,ut,D[xt],K);if(Pt===null){ut===null&&(ut=Dt);break}t&&ut&&Pt.alternate===null&&e(z,ut),O=f(Pt,O,xt),Bt===null?pt=Pt:Bt.sibling=Pt,Bt=Pt,ut=Dt}if(xt===D.length)return i(z,ut),Ct&&ht(z,xt),pt;if(ut===null){for(;xt<D.length;xt++)ut=J(z,D[xt],K),ut!==null&&(O=f(ut,O,xt),Bt===null?pt=ut:Bt.sibling=ut,Bt=ut);return Ct&&ht(z,xt),pt}for(ut=s(ut);xt<D.length;xt++)Dt=H(ut,z,xt,D[xt],K),Dt!==null&&(t&&Dt.alternate!==null&&ut.delete(Dt.key===null?xt:Dt.key),O=f(Dt,O,xt),Bt===null?pt=Dt:Bt.sibling=Dt,Bt=Dt);return t&&ut.forEach(function(Sa){return e(z,Sa)}),Ct&&ht(z,xt),pt}function gt(z,O,D,K){if(D==null)throw Error(u(151));for(var pt=null,Bt=null,ut=O,xt=O=0,Dt=null,Pt=D.next();ut!==null&&!Pt.done;xt++,Pt=D.next()){ut.index>xt?(Dt=ut,ut=null):Dt=ut.sibling;var Sa=U(z,ut,Pt.value,K);if(Sa===null){ut===null&&(ut=Dt);break}t&&ut&&Sa.alternate===null&&e(z,ut),O=f(Sa,O,xt),Bt===null?pt=Sa:Bt.sibling=Sa,Bt=Sa,ut=Dt}if(Pt.done)return i(z,ut),Ct&&ht(z,xt),pt;if(ut===null){for(;!Pt.done;xt++,Pt=D.next())Pt=J(z,Pt.value,K),Pt!==null&&(O=f(Pt,O,xt),Bt===null?pt=Pt:Bt.sibling=Pt,Bt=Pt);return Ct&&ht(z,xt),pt}for(ut=s(ut);!Pt.done;xt++,Pt=D.next())Pt=H(ut,z,xt,Pt.value,K),Pt!==null&&(t&&Pt.alternate!==null&&ut.delete(Pt.key===null?xt:Pt.key),O=f(Pt,O,xt),Bt===null?pt=Pt:Bt.sibling=Pt,Bt=Pt);return t&&ut.forEach(function(Ug){return e(z,Ug)}),Ct&&ht(z,xt),pt}function $t(z,O,D,K){if(typeof D=="object"&&D!==null&&D.type===P&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case q:t:{for(var pt=D.key;O!==null;){if(O.key===pt){if(pt=D.type,pt===P){if(O.tag===7){i(z,O.sibling),K=h(O,D.props.children),K.return=z,z=K;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Kt&&or(pt)===O.type){i(z,O.sibling),K=h(O,D.props),ro(K,D),K.return=z,z=K;break t}i(z,O);break}else e(z,O);O=O.sibling}D.type===P?(K=Si(D.props.children,z.mode,K,D.key),K.return=z,z=K):(K=nr(D.type,D.key,D.props,null,z.mode,K),ro(K,D),K.return=z,z=K)}return v(z);case V:t:{for(pt=D.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===D.containerInfo&&O.stateNode.implementation===D.implementation){i(z,O.sibling),K=h(O,D.children||[]),K.return=z,z=K;break t}else{i(z,O);break}else e(z,O);O=O.sibling}K=Fs(D,z.mode,K),K.return=z,z=K}return v(z);case Kt:return D=or(D),$t(z,O,D,K)}if(Nt(D))return lt(z,O,D,K);if(It(D)){if(pt=It(D),typeof pt!="function")throw Error(u(150));return D=pt.call(D),gt(z,O,D,K)}if(typeof D.then=="function")return $t(z,O,Rl(D),K);if(D.$$typeof===Y)return $t(z,O,xl(z,D),K);Ll(z,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,O!==null&&O.tag===6?(i(z,O.sibling),K=h(O,D),K.return=z,z=K):(i(z,O),K=Gr(D,z.mode,K),K.return=z,z=K),v(z)):i(z,O)}return function(z,O,D,K){try{ao=0;var pt=$t(z,O,D,K);return Qr=null,pt}catch(ut){if(ut===Jr||ut===Ol)throw ut;var Bt=qe(29,ut,null,z.mode);return Bt.lanes=K,Bt.return=z,Bt}}}var ur=Of(!0),Cf=Of(!1),ra=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(qt&2)!==0){var h=s.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),s.pending=e,e=er(t),ia(t,null,i),e}return ii(t,s,e,i),er(t)}function so(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,$o(t,i)}}function fc(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?h=f=e:f=f.next=e}else h=f=e;i={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var dc=!1;function oo(){if(dc){var t=Xr;if(t!==null)throw t}}function lo(t,e,i,s){dc=!1;var h=t.updateQueue;ra=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,N=x.next;x.next=null,v===null?f=N:v.next=N,v=x;var I=t.alternate;I!==null&&(I=I.updateQueue,T=I.lastBaseUpdate,T!==v&&(T===null?I.firstBaseUpdate=N:T.next=N,I.lastBaseUpdate=x))}if(f!==null){var J=h.baseState;v=0,I=N=x=null,T=f;do{var U=T.lane&-536870913,H=U!==T.lane;if(H?(kt&U)===U:(s&U)===U){U!==0&&U===Yr&&(dc=!0),I!==null&&(I=I.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=t,gt=T;U=e;var $t=i;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){J=lt.call($t,J,U);break t}J=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,U=typeof lt=="function"?lt.call($t,J,U):lt,U==null)break t;J=R({},J,U);break t;case 2:ra=!0}}U=T.callback,U!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[U]:H.push(U))}else H={lane:U,tag:T.tag,payload:T.payload,callback:T.callback,next:null},I===null?(N=I=H,x=J):I=I.next=H,v|=U;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);I===null&&(x=J),h.baseState=x,h.firstBaseUpdate=N,h.lastBaseUpdate=I,f===null&&(h.shared.lanes=0),fa|=v,t.lanes=v,t.memoizedState=J}}function Rf(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Lf(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Rf(i[t],e)}var $r=A(null),zl=A(0);function zf(t,e){t=ki,F(zl,t),F($r,e),ki=t|e.baseLanes}function mc(){F(zl,ki),F($r,$r.current)}function _c(){ki=zl.current,Z($r),Z(zl)}var hn=A(null),Cn=null;function la(t){var e=t.alternate;F(pe,pe.current&1),F(hn,t),Cn===null&&(e===null||$r.current!==null||e.memoizedState!==null)&&(Cn=t)}function pc(t){F(pe,pe.current),F(hn,t),Cn===null&&(Cn=t)}function Mf(t){t.tag===22?(F(pe,pe.current),F(hn,t),Cn===null&&(Cn=t)):ua()}function ua(){F(pe,pe.current),F(hn,hn.current)}function fn(t){Z(hn),Cn===t&&(Cn=null),Z(pe)}var pe=A(0);function Ml(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Sh(i)||Th(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xi=0,Tt=null,Jt=null,we=null,kl=!1,Wr=!1,cr=!1,Dl=0,uo=0,Fr=null,Op=0;function fe(){throw Error(u(321))}function gc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Le(t[i],e[i]))return!1;return!0}function vc(t,e,i,s,h,f){return xi=f,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B.H=t===null||t.memoizedState===null?_d:kc,cr=!1,f=i(s,h),cr=!1,Wr&&(f=Df(e,i,s,h)),kf(t),f}function kf(t){B.H=fo;var e=Jt!==null&&Jt.next!==null;if(xi=0,we=Jt=Tt=null,kl=!1,uo=0,Fr=null,e)throw Error(u(300));t===null||Se||(t=t.dependencies,t!==null&&El(t)&&(Se=!0))}function Df(t,e,i,s){Tt=t;var h=0;do{if(Wr&&(Fr=null),uo=0,Wr=!1,25<=h)throw Error(u(301));if(h+=1,we=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=pd,f=e(i,s)}while(Wr);return f}function Cp(){var t=B.H,e=t.useState()[0];return e=typeof e.then=="function"?co(e):e,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Tt.flags|=1024),e}function yc(){var t=Dl!==0;return Dl=0,t}function bc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function wc(t){if(kl){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}kl=!1}xi=0,we=Jt=Tt=null,Wr=!1,uo=Dl=0,Fr=null}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Tt.memoizedState=we=t:we=we.next=t,we}function ge(){if(Jt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=we===null?Tt.memoizedState:we.next;if(e!==null)we=e,Jt=t;else{if(t===null)throw Tt.alternate===null?Error(u(467)):Error(u(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Tt.memoizedState=we=t:we=we.next=t}return we}function Nl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(t){var e=uo;return uo+=1,Fr===null&&(Fr=[]),t=Ef(Fr,t,e),e=Tt,(we===null?e.memoizedState:we.next)===null&&(e=e.alternate,B.H=e===null||e.memoizedState===null?_d:kc),t}function jl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return co(t);if(t.$$typeof===Y)return Ne(t)}throw Error(u(438,String(t)))}function Sc(t){var e=null,i=Tt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var s=Tt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Nl(),Tt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),s=0;s<t;s++)i[s]=yn;return e.index++,i}function Ai(t,e){return typeof e=="function"?e(t):e}function Ul(t){var e=ge();return Tc(e,Jt,t)}function Tc(t,e,i){var s=t.queue;if(s===null)throw Error(u(311));s.lastRenderedReducer=i;var h=t.baseQueue,f=s.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}e.baseQueue=h=f,s.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{e=h.next;var T=v=null,x=null,N=e,I=!1;do{var J=N.lane&-536870913;if(J!==N.lane?(kt&J)===J:(xi&J)===J){var U=N.revertLane;if(U===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),J===Yr&&(I=!0);else if((xi&U)===U){N=N.next,U===Yr&&(I=!0);continue}else J={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},x===null?(T=x=J,v=f):x=x.next=J,Tt.lanes|=U,fa|=U;J=N.action,cr&&i(f,J),f=N.hasEagerState?N.eagerState:i(f,J)}else U={lane:J,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},x===null?(T=x=U,v=f):x=x.next=U,Tt.lanes|=J,fa|=J;N=N.next}while(N!==null&&N!==e);if(x===null?v=f:x.next=T,!Le(f,t.memoizedState)&&(Se=!0,I&&(i=Xr,i!==null)))throw i;t.memoizedState=f,t.baseState=v,t.baseQueue=x,s.lastRenderedState=f}return h===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Ec(t){var e=ge(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var s=i.dispatch,h=i.pending,f=e.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Le(f,e.memoizedState)||(Se=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,s]}function Nf(t,e,i){var s=Tt,h=ge(),f=Ct;if(f){if(i===void 0)throw Error(u(407));i=i()}else i=e();var v=!Le((Jt||h).memoizedState,i);if(v&&(h.memoizedState=i,Se=!0),h=h.queue,Oc(Bf.bind(null,s,h,t),[t]),h.getSnapshot!==e||v||we!==null&&we.memoizedState.tag&1){if(s.flags|=2048,ts(9,{destroy:void 0},Uf.bind(null,s,h,i,e),null),te===null)throw Error(u(349));f||(xi&127)!==0||jf(s,e,i)}return i}function jf(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Tt.updateQueue,e===null?(e=Nl(),Tt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Uf(t,e,i,s){e.value=i,e.getSnapshot=s,Pf(e)&&Hf(t)}function Bf(t,e,i){return i(function(){Pf(e)&&Hf(t)})}function Pf(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Le(t,i)}catch{return!0}}function Hf(t){var e=An(t,2);e!==null&&sn(e,t,2)}function xc(t){var e=Ye();if(typeof t=="function"){var i=t;if(t=i(),cr){Mn(!0);try{i()}finally{Mn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},e}function qf(t,e,i,s){return t.baseState=i,Tc(t,Jt,typeof s=="function"?s:Ai)}function Rp(t,e,i,s,h){if(Hl(t))throw Error(u(485));if(t=e.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};B.T!==null?i(!0):f.isTransition=!1,s(f),i=e.pending,i===null?(f.next=e.pending=f,Zf(e,f)):(f.next=i.next,e.pending=i.next=f)}}function Zf(t,e){var i=e.action,s=e.payload,h=t.state;if(e.isTransition){var f=B.T,v={};B.T=v;try{var T=i(h,s),x=B.S;x!==null&&x(v,T),If(t,e,T)}catch(N){Ac(t,e,N)}finally{f!==null&&v.types!==null&&(f.types=v.types),B.T=f}}else try{f=i(h,s),If(t,e,f)}catch(N){Ac(t,e,N)}}function If(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Gf(t,e,s)},function(s){return Ac(t,e,s)}):Gf(t,e,i)}function Gf(t,e,i){e.status="fulfilled",e.value=i,Vf(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Zf(t,i)))}function Ac(t,e,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=i,Vf(e),e=e.next;while(e!==s)}t.action=null}function Vf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Kf(t,e){return e}function Yf(t,e){if(Ct){var i=te.formState;if(i!==null){t:{var s=Tt;if(Ct){if(Ut){e:{for(var h=Ut,f=tn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Rn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Ut=Rn(h.nextSibling),s=h.data==="F!";break t}}ri(s)}s=!1}s&&(e=i[0])}}return i=Ye(),i.memoizedState=i.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:e},i.queue=s,i=fd.bind(null,Tt,s),s.dispatch=i,s=xc(!1),f=Mc.bind(null,Tt,!1,s.queue),s=Ye(),h={state:e,dispatch:null,action:t,pending:null},s.queue=h,i=Rp.bind(null,Tt,h,f,i),h.dispatch=i,s.memoizedState=t,[e,i,!1]}function Xf(t){var e=ge();return Jf(e,Jt,t)}function Jf(t,e,i){if(e=Tc(t,e,Kf)[0],t=Ul(Ai)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=co(e)}catch(v){throw v===Jr?Ol:v}else s=e;e=ge();var h=e.queue,f=h.dispatch;return i!==e.memoizedState&&(Tt.flags|=2048,ts(9,{destroy:void 0},Lp.bind(null,h,i),null)),[s,f,t]}function Lp(t,e){t.action=e}function Qf(t){var e=ge(),i=Jt;if(i!==null)return Jf(e,i,t);ge(),e=e.memoizedState,i=ge();var s=i.queue.dispatch;return i.memoizedState=t,[e,s,!1]}function ts(t,e,i,s){return t={tag:t,create:i,deps:s,inst:e,next:null},e=Tt.updateQueue,e===null&&(e=Nl(),Tt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function $f(){return ge().memoizedState}function Bl(t,e,i,s){var h=Ye();Tt.flags|=t,h.memoizedState=ts(1|e,{destroy:void 0},i,s===void 0?null:s)}function Pl(t,e,i,s){var h=ge();s=s===void 0?null:s;var f=h.memoizedState.inst;Jt!==null&&s!==null&&gc(s,Jt.memoizedState.deps)?h.memoizedState=ts(e,f,i,s):(Tt.flags|=t,h.memoizedState=ts(1|e,f,i,s))}function Wf(t,e){Bl(8390656,8,t,e)}function Oc(t,e){Pl(2048,8,t,e)}function zp(t){Tt.flags|=4;var e=Tt.updateQueue;if(e===null)e=Nl(),Tt.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function Ff(t){var e=ge().memoizedState;return zp({ref:e,nextImpl:t}),function(){if((qt&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function td(t,e){return Pl(4,2,t,e)}function ed(t,e){return Pl(4,4,t,e)}function nd(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function id(t,e,i){i=i!=null?i.concat([t]):null,Pl(4,4,nd.bind(null,e,t),i)}function Cc(){}function ad(t,e){var i=ge();e=e===void 0?null:e;var s=i.memoizedState;return e!==null&&gc(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function rd(t,e){var i=ge();e=e===void 0?null:e;var s=i.memoizedState;if(e!==null&&gc(e,s[1]))return s[0];if(s=t(),cr){Mn(!0);try{t()}finally{Mn(!1)}}return i.memoizedState=[s,e],s}function Rc(t,e,i){return i===void 0||(xi&1073741824)!==0&&(kt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=sm(),Tt.lanes|=t,fa|=t,i)}function sd(t,e,i,s){return Le(i,e)?i:$r.current!==null?(t=Rc(t,i,s),Le(t,e)||(Se=!0),t):(xi&42)===0||(xi&1073741824)!==0&&(kt&261930)===0?(Se=!0,t.memoizedState=i):(t=sm(),Tt.lanes|=t,fa|=t,e)}function od(t,e,i,s,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var v=B.T,T={};B.T=T,Mc(t,!1,e,i);try{var x=h(),N=B.S;if(N!==null&&N(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var I=Ap(x,s);ho(t,e,I,_n(t))}else ho(t,e,s,_n(t))}catch(J){ho(t,e,{then:function(){},status:"rejected",reason:J},_n())}finally{tt.p=f,v!==null&&T.types!==null&&(v.types=T.types),B.T=v}}function Mp(){}function Lc(t,e,i,s){if(t.tag!==5)throw Error(u(476));var h=ld(t).queue;od(t,h,e,$,i===null?Mp:function(){return ud(t),i(s)})}function ld(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:$},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ud(t){var e=ld(t);e.next===null&&(e=t.alternate.memoizedState),ho(t,e.next.queue,{},_n())}function zc(){return Ne(Ro)}function cd(){return ge().memoizedState}function hd(){return ge().memoizedState}function kp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=_n();t=sa(i);var s=oa(e,t,i);s!==null&&(sn(s,e,i),so(s,e,i)),e={cache:sc()},t.payload=e;return}e=e.return}}function Dp(t,e,i){var s=_n();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Hl(t)?dd(e,i):(i=Qs(t,e,i,s),i!==null&&(sn(i,t,s),md(i,e,s)))}function fd(t,e,i){var s=_n();ho(t,e,i,s)}function ho(t,e,i,s){var h={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Hl(t))dd(e,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var v=e.lastRenderedState,T=f(v,i);if(h.hasEagerState=!0,h.eagerState=T,Le(T,v))return ii(t,e,h,0),te===null&&tr(),!1}catch{}if(i=Qs(t,e,h,s),i!==null)return sn(i,t,s),md(i,e,s),!0}return!1}function Mc(t,e,i,s){if(s={lane:2,revertLane:ch(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hl(t)){if(e)throw Error(u(479))}else e=Qs(t,i,s,2),e!==null&&sn(e,t,2)}function Hl(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function dd(t,e){Wr=kl=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function md(t,e,i){if((i&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,$o(t,i)}}var fo={readContext:Ne,use:jl,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};fo.useEffectEvent=fe;var _d={readContext:Ne,use:jl,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:Ne,useEffect:Wf,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Bl(4194308,4,nd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Bl(4194308,4,t,e)},useInsertionEffect:function(t,e){Bl(4,2,t,e)},useMemo:function(t,e){var i=Ye();e=e===void 0?null:e;var s=t();if(cr){Mn(!0);try{t()}finally{Mn(!1)}}return i.memoizedState=[s,e],s},useReducer:function(t,e,i){var s=Ye();if(i!==void 0){var h=i(e);if(cr){Mn(!0);try{i(e)}finally{Mn(!1)}}}else h=e;return s.memoizedState=s.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},s.queue=t,t=t.dispatch=Dp.bind(null,Tt,t),[s.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:function(t){t=xc(t);var e=t.queue,i=fd.bind(null,Tt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Cc,useDeferredValue:function(t,e){var i=Ye();return Rc(i,t,e)},useTransition:function(){var t=xc(!1);return t=od.bind(null,Tt,t.queue,!0,!1),Ye().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var s=Tt,h=Ye();if(Ct){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),te===null)throw Error(u(349));(kt&127)!==0||jf(s,e,i)}h.memoizedState=i;var f={value:i,getSnapshot:e};return h.queue=f,Wf(Bf.bind(null,s,f,t),[t]),s.flags|=2048,ts(9,{destroy:void 0},Uf.bind(null,s,f,i,e),null),i},useId:function(){var t=Ye(),e=te.identifierPrefix;if(Ct){var i=nt,s=X;i=(s&~(1<<32-Ge(s)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Dl++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=Op++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:zc,useFormState:Yf,useActionState:Yf,useOptimistic:function(t){var e=Ye();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Mc.bind(null,Tt,!0,i),i.dispatch=e,[t,e]},useMemoCache:Sc,useCacheRefresh:function(){return Ye().memoizedState=kp.bind(null,Tt)},useEffectEvent:function(t){var e=Ye(),i={impl:t};return e.memoizedState=i,function(){if((qt&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},kc={readContext:Ne,use:jl,useCallback:ad,useContext:Ne,useEffect:Oc,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:ed,useMemo:rd,useReducer:Ul,useRef:$f,useState:function(){return Ul(Ai)},useDebugValue:Cc,useDeferredValue:function(t,e){var i=ge();return sd(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Ul(Ai)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:co(t),e]},useSyncExternalStore:Nf,useId:cd,useHostTransitionStatus:zc,useFormState:Xf,useActionState:Xf,useOptimistic:function(t,e){var i=ge();return qf(i,Jt,t,e)},useMemoCache:Sc,useCacheRefresh:hd};kc.useEffectEvent=Ff;var pd={readContext:Ne,use:jl,useCallback:ad,useContext:Ne,useEffect:Oc,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:ed,useMemo:rd,useReducer:Ec,useRef:$f,useState:function(){return Ec(Ai)},useDebugValue:Cc,useDeferredValue:function(t,e){var i=ge();return Jt===null?Rc(i,t,e):sd(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Ec(Ai)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:co(t),e]},useSyncExternalStore:Nf,useId:cd,useHostTransitionStatus:zc,useFormState:Qf,useActionState:Qf,useOptimistic:function(t,e){var i=ge();return Jt!==null?qf(i,Jt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Sc,useCacheRefresh:hd};pd.useEffectEvent=Ff;function Dc(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:R({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Nc={enqueueSetState:function(t,e,i){t=t._reactInternals;var s=_n(),h=sa(s);h.payload=e,i!=null&&(h.callback=i),e=oa(t,h,s),e!==null&&(sn(e,t,s),so(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=_n(),h=sa(s);h.tag=1,h.payload=e,i!=null&&(h.callback=i),e=oa(t,h,s),e!==null&&(sn(e,t,s),so(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=_n(),s=sa(i);s.tag=2,e!=null&&(s.callback=e),e=oa(t,s,i),e!==null&&(sn(e,t,i),so(e,t,i))}};function gd(t,e,i,s,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,f,v):e.prototype&&e.prototype.isPureReactComponent?!Fi(i,s)||!Fi(h,f):!0}function vd(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&Nc.enqueueReplaceState(e,e.state,null)}function hr(t,e){var i=e;if("ref"in e){i={};for(var s in e)s!=="ref"&&(i[s]=e[s])}if(t=t.defaultProps){i===e&&(i=R({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function yd(t){Fa(t)}function bd(t){console.error(t)}function wd(t){Fa(t)}function ql(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Sd(t,e,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jc(t,e,i){return i=sa(i),i.tag=3,i.payload={element:null},i.callback=function(){ql(t,e)},i}function Td(t){return t=sa(t),t.tag=3,t}function Ed(t,e,i,s){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;t.payload=function(){return h(f)},t.callback=function(){Sd(e,i,s)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Sd(e,i,s),typeof h!="function"&&(da===null?da=new Set([this]):da.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})})}function Np(t,e,i,s,h){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=i.alternate,e!==null&&Kr(e,i,h,!0),i=hn.current,i!==null){switch(i.tag){case 31:case 13:return Cn===null?Fl():i.alternate===null&&de===0&&(de=3),i.flags&=-257,i.flags|=65536,i.lanes=h,s===Cl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([s]):e.add(s),oh(t,s,h)),!1;case 22:return i.flags|=65536,s===Cl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([s]):i.add(s)),oh(t,s,h)),!1}throw Error(u(435,i.tag))}return oh(t,s,h),Fl(),!1}if(Ct)return e=hn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,s!==Vr&&(t=Error(u(422),{cause:s}),ir(r(t,i)))):(s!==Vr&&(e=Error(u(423),{cause:s}),ir(r(e,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,s=r(s,i),h=jc(t.stateNode,s,h),fc(t,h),de!==4&&(de=2)),!1;var f=Error(u(520),{cause:s});if(f=r(f,i),wo===null?wo=[f]:wo.push(f),de!==4&&(de=2),e===null)return!0;s=r(s,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=jc(i.stateNode,s,t),fc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(da===null||!da.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Td(h),Ed(h,t,i,s),fc(i,h),!1}i=i.return}while(i!==null);return!1}var Uc=Error(u(461)),Se=!1;function je(t,e,i,s){e.child=t===null?Cf(e,null,i,s):ur(e,t.child,i,s)}function xd(t,e,i,s,h){i=i.render;var f=e.ref;if("ref"in s){var v={};for(var T in s)T!=="ref"&&(v[T]=s[T])}else v=s;return rr(e),s=vc(t,e,i,v,f,h),T=yc(),t!==null&&!Se?(bc(t,e,h),Oi(t,e,h)):(Ct&&T&&Ae(e),e.flags|=1,je(t,e,s,h),e.child)}function Ad(t,e,i,s,h){if(t===null){var f=i.type;return typeof f=="function"&&!Ir(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,Od(t,e,f,s,h)):(t=nr(i.type,null,s,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Vc(t,h)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:Fi,i(v,s)&&t.ref===e.ref)return Oi(t,e,h)}return e.flags|=1,t=On(f,s),t.ref=e.ref,t.return=e,e.child=t}function Od(t,e,i,s,h){if(t!==null){var f=t.memoizedProps;if(Fi(f,s)&&t.ref===e.ref)if(Se=!1,e.pendingProps=s=f,Vc(t,h))(t.flags&131072)!==0&&(Se=!0);else return e.lanes=t.lanes,Oi(t,e,h)}return Bc(t,e,i,s,h)}function Cd(t,e,i,s){var h=s.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(s=e.child=t.child,h=0;s!==null;)h=h|s.lanes|s.childLanes,s=s.sibling;s=h&~f}else s=0,e.child=null;return Rd(t,e,f,i,s)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Al(e,f!==null?f.cachePool:null),f!==null?zf(e,f):mc(),Mf(e);else return s=e.lanes=536870912,Rd(t,e,f!==null?f.baseLanes|i:i,i,s)}else f!==null?(Al(e,f.cachePool),zf(e,f),ua(),e.memoizedState=null):(t!==null&&Al(e,null),mc(),ua());return je(t,e,h,i),e.child}function mo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Rd(t,e,i,s,h){var f=lc();return f=f===null?null:{parent:be._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&Al(e,null),mc(),Mf(e),t!==null&&Kr(t,e,s,!0),e.childLanes=h,null}function Zl(t,e){return e=Gl({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ld(t,e,i){return ur(e,t.child,null,i),t=Zl(e,e.pendingProps),t.flags|=2,fn(e),e.memoizedState=null,t}function jp(t,e,i){var s=e.pendingProps,h=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ct){if(s.mode==="hidden")return t=Zl(e,s),e.lanes=536870912,mo(null,t);if(pc(e),(t=Ut)?(t=Zm(t,tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:j!==null?{id:X,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},i=Ws(t),i.return=e,e.child=i,jt=e,Ut=null)):t=null,t===null)throw ri(e);return e.lanes=536870912,null}return Zl(e,s)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(pc(e),h)if(e.flags&256)e.flags&=-257,e=Ld(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(Se||Kr(t,e,i,!1),h=(i&t.childLanes)!==0,Se||h){if(s=te,s!==null&&(v=Wo(s,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,An(t,v),sn(s,t,v),Uc;Fl(),e=Ld(t,e,i)}else t=f.treeContext,Ut=Rn(v.nextSibling),jt=e,Ct=!0,ai=null,tn=!1,t!==null&&Ke(e,t),e=Zl(e,s),e.flags|=4096;return e}return t=On(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Il(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Bc(t,e,i,s,h){return rr(e),i=vc(t,e,i,s,void 0,h),s=yc(),t!==null&&!Se?(bc(t,e,h),Oi(t,e,h)):(Ct&&s&&Ae(e),e.flags|=1,je(t,e,i,h),e.child)}function zd(t,e,i,s,h,f){return rr(e),e.updateQueue=null,i=Df(e,s,i,h),kf(t),s=yc(),t!==null&&!Se?(bc(t,e,f),Oi(t,e,f)):(Ct&&s&&Ae(e),e.flags|=1,je(t,e,i,f),e.child)}function Md(t,e,i,s,h){if(rr(e),e.stateNode===null){var f=wi,v=i.contextType;typeof v=="object"&&v!==null&&(f=Ne(v)),f=new i(s,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nc,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=s,f.state=e.memoizedState,f.refs={},cc(e),v=i.contextType,f.context=typeof v=="object"&&v!==null?Ne(v):wi,f.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Dc(e,i,v,s),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Nc.enqueueReplaceState(f,f.state,null),lo(e,s,f,h),oo(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){f=e.stateNode;var T=e.memoizedProps,x=hr(i,T);f.props=x;var N=f.context,I=i.contextType;v=wi,typeof I=="object"&&I!==null&&(v=Ne(I));var J=i.getDerivedStateFromProps;I=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||N!==v)&&vd(e,f,s,v),ra=!1;var U=e.memoizedState;f.state=U,lo(e,s,f,h),oo(),N=e.memoizedState,T||U!==N||ra?(typeof J=="function"&&(Dc(e,i,J,s),N=e.memoizedState),(x=ra||gd(e,i,x,s,U,N,v))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=N),f.props=s,f.state=N,f.context=v,s=x):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{f=e.stateNode,hc(t,e),v=e.memoizedProps,I=hr(i,v),f.props=I,J=e.pendingProps,U=f.context,N=i.contextType,x=wi,typeof N=="object"&&N!==null&&(x=Ne(N)),T=i.getDerivedStateFromProps,(N=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||U!==x)&&vd(e,f,s,x),ra=!1,U=e.memoizedState,f.state=U,lo(e,s,f,h),oo();var H=e.memoizedState;v!==J||U!==H||ra||t!==null&&t.dependencies!==null&&El(t.dependencies)?(typeof T=="function"&&(Dc(e,i,T,s),H=e.memoizedState),(I=ra||gd(e,i,I,s,U,H,x)||t!==null&&t.dependencies!==null&&El(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,H,x)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=H),f.props=s,f.state=H,f.context=x,s=I):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),s=!1)}return f=s,Il(t,e),s=(e.flags&128)!==0,f||s?(f=e.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&s?(e.child=ur(e,t.child,null,h),e.child=ur(e,null,i,h)):je(t,e,i,h),e.memoizedState=f.state,t=e.child):t=Oi(t,e,h),t}function kd(t,e,i,s){return Ti(),e.flags|=256,je(t,e,i,s),e.child}var Pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hc(t){return{baseLanes:t,cachePool:Sf()}}function qc(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=mn),t}function Dd(t,e,i){var s=e.pendingProps,h=!1,f=(e.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(pe.current&2)!==0),v&&(h=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ct){if(h?la(e):ua(),(t=Ut)?(t=Zm(t,tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:j!==null?{id:X,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},i=Ws(t),i.return=e,e.child=i,jt=e,Ut=null)):t=null,t===null)throw ri(e);return Th(t)?e.lanes=32:e.lanes=536870912,null}var T=s.children;return s=s.fallback,h?(ua(),h=e.mode,T=Gl({mode:"hidden",children:T},h),s=Si(s,h,i,null),T.return=e,s.return=e,T.sibling=s,e.child=T,s=e.child,s.memoizedState=Hc(i),s.childLanes=qc(t,v,i),e.memoizedState=Pc,mo(null,s)):(la(e),Zc(e,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(f)e.flags&256?(la(e),e.flags&=-257,e=Ic(t,e,i)):e.memoizedState!==null?(ua(),e.child=t.child,e.flags|=128,e=null):(ua(),T=s.fallback,h=e.mode,s=Gl({mode:"visible",children:s.children},h),T=Si(T,h,i,null),T.flags|=2,s.return=e,T.return=e,s.sibling=T,e.child=s,ur(e,t.child,null,i),s=e.child,s.memoizedState=Hc(i),s.childLanes=qc(t,v,i),e.memoizedState=Pc,e=mo(null,s));else if(la(e),Th(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var N=v.dgst;v=N,s=Error(u(419)),s.stack="",s.digest=v,ir({value:s,source:null,stack:null}),e=Ic(t,e,i)}else if(Se||Kr(t,e,i,!1),v=(i&t.childLanes)!==0,Se||v){if(v=te,v!==null&&(s=Wo(v,i),s!==0&&s!==x.retryLane))throw x.retryLane=s,An(t,s),sn(v,t,s),Uc;Sh(T)||Fl(),e=Ic(t,e,i)}else Sh(T)?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,Ut=Rn(T.nextSibling),jt=e,Ct=!0,ai=null,tn=!1,t!==null&&Ke(e,t),e=Zc(e,s.children),e.flags|=4096);return e}return h?(ua(),T=s.fallback,h=e.mode,x=t.child,N=x.sibling,s=On(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,N!==null?T=On(N,T):(T=Si(T,h,i,null),T.flags|=2),T.return=e,s.return=e,s.sibling=T,e.child=s,mo(null,s),s=e.child,T=t.child.memoizedState,T===null?T=Hc(i):(h=T.cachePool,h!==null?(x=be._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Sf(),T={baseLanes:T.baseLanes|i,cachePool:h}),s.memoizedState=T,s.childLanes=qc(t,v,i),e.memoizedState=Pc,mo(t.child,s)):(la(e),i=t.child,t=i.sibling,i=On(i,{mode:"visible",children:s.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function Zc(t,e){return e=Gl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Gl(t,e){return t=qe(22,t,null,e),t.lanes=0,t}function Ic(t,e,i){return ur(e,t.child,null,i),t=Zc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nd(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),ac(t.return,e,i)}function Gc(t,e,i,s,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:h,treeForkCount:f}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=i,v.tailMode=h,v.treeForkCount=f)}function jd(t,e,i){var s=e.pendingProps,h=s.revealOrder,f=s.tail;s=s.children;var v=pe.current,T=(v&2)!==0;if(T?(v=v&1|2,e.flags|=128):v&=1,F(pe,v),je(t,e,s,i),s=Ct?w:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nd(t,i,e);else if(t.tag===19)Nd(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=e.child,h=null;i!==null;)t=i.alternate,t!==null&&Ml(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Gc(e,!1,h,i,f,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&Ml(t)===null){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Gc(e,!0,i,null,f,s);break;case"together":Gc(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Oi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),fa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Kr(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=On(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=On(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Vc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&El(t)))}function Up(t,e,i){switch(e.tag){case 3:ae(e,e.stateNode.containerInfo),aa(e,be,t.memoizedState.cache),Ti();break;case 27:case 5:ui(e);break;case 4:ae(e,e.stateNode.containerInfo);break;case 10:aa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,pc(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(la(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Dd(t,e,i):(la(e),t=Oi(t,e,i),t!==null?t.sibling:null);la(e);break;case 19:var h=(t.flags&128)!==0;if(s=(i&e.childLanes)!==0,s||(Kr(t,e,i,!1),s=(i&e.childLanes)!==0),h){if(s)return jd(t,e,i);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(pe,pe.current),s)break;return null;case 22:return e.lanes=0,Cd(t,e,i,e.pendingProps);case 24:aa(e,be,t.memoizedState.cache)}return Oi(t,e,i)}function Ud(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Se=!0;else{if(!Vc(t,i)&&(e.flags&128)===0)return Se=!1,Up(t,e,i);Se=(t.flags&131072)!==0}else Se=!1,Ct&&(e.flags&1048576)!==0&&Et(e,w,e.index);switch(e.lanes=0,e.tag){case 16:t:{var s=e.pendingProps;if(t=or(e.elementType),e.type=t,typeof t=="function")Ir(t)?(s=hr(t,s),e.tag=1,e=Md(null,e,t,s,i)):(e.tag=0,e=Bc(null,e,t,s,i));else{if(t!=null){var h=t.$$typeof;if(h===dt){e.tag=11,e=xd(null,e,t,s,i);break t}else if(h===ot){e.tag=14,e=Ad(null,e,t,s,i);break t}}throw e=_e(t)||t,Error(u(306,e,""))}}return e;case 0:return Bc(t,e,e.type,e.pendingProps,i);case 1:return s=e.type,h=hr(s,e.pendingProps),Md(t,e,s,h,i);case 3:t:{if(ae(e,e.stateNode.containerInfo),t===null)throw Error(u(387));s=e.pendingProps;var f=e.memoizedState;h=f.element,hc(t,e),lo(e,s,null,i);var v=e.memoizedState;if(s=v.cache,aa(e,be,s),s!==f.cache&&rc(e,[be],i,!0),oo(),s=v.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=kd(t,e,s,i);break t}else if(s!==h){h=r(Error(u(424)),e),ir(h),e=kd(t,e,s,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ut=Rn(t.firstChild),jt=e,Ct=!0,ai=null,tn=!0,i=Cf(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ti(),s===h){e=Oi(t,e,i);break t}je(t,e,s,i)}e=e.child}return e;case 26:return Il(t,e),t===null?(i=Xm(e.type,null,e.pendingProps,null))?e.memoizedState=i:Ct||(i=e.type,t=e.pendingProps,s=su(rt.current).createElement(i),s[ve]=e,s[Re]=t,Ue(s,i,t),ye(s),e.stateNode=s):e.memoizedState=Xm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ui(e),t===null&&Ct&&(s=e.stateNode=Vm(e.type,e.pendingProps,rt.current),jt=e,tn=!0,h=Ut,ga(e.type)?(Eh=h,Ut=Rn(s.firstChild)):Ut=h),je(t,e,e.pendingProps.children,i),Il(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ct&&((h=s=Ut)&&(s=dg(s,e.type,e.pendingProps,tn),s!==null?(e.stateNode=s,jt=e,Ut=Rn(s.firstChild),tn=!1,h=!0):h=!1),h||ri(e)),ui(e),h=e.type,f=e.pendingProps,v=t!==null?t.memoizedProps:null,s=f.children,yh(h,f)?s=null:v!==null&&yh(h,v)&&(e.flags|=32),e.memoizedState!==null&&(h=vc(t,e,Cp,null,null,i),Ro._currentValue=h),Il(t,e),je(t,e,s,i),e.child;case 6:return t===null&&Ct&&((t=i=Ut)&&(i=mg(i,e.pendingProps,tn),i!==null?(e.stateNode=i,jt=e,Ut=null,t=!0):t=!1),t||ri(e)),null;case 13:return Dd(t,e,i);case 4:return ae(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ur(e,null,s,i):je(t,e,s,i),e.child;case 11:return xd(t,e,e.type,e.pendingProps,i);case 7:return je(t,e,e.pendingProps,i),e.child;case 8:return je(t,e,e.pendingProps.children,i),e.child;case 12:return je(t,e,e.pendingProps.children,i),e.child;case 10:return s=e.pendingProps,aa(e,e.type,s.value),je(t,e,s.children,i),e.child;case 9:return h=e.type._context,s=e.pendingProps.children,rr(e),h=Ne(h),s=s(h),e.flags|=1,je(t,e,s,i),e.child;case 14:return Ad(t,e,e.type,e.pendingProps,i);case 15:return Od(t,e,e.type,e.pendingProps,i);case 19:return jd(t,e,i);case 31:return jp(t,e,i);case 22:return Cd(t,e,i,e.pendingProps);case 24:return rr(e),s=Ne(be),t===null?(h=lc(),h===null&&(h=te,f=sc(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),e.memoizedState={parent:s,cache:h},cc(e),aa(e,be,h)):((t.lanes&i)!==0&&(hc(t,e),lo(e,null,null,i),oo()),h=t.memoizedState,f=e.memoizedState,h.parent!==s?(h={parent:s,cache:s},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),aa(e,be,s)):(s=f.cache,aa(e,be,s),s!==h.cache&&rc(e,[be],i,!0))),je(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function Ci(t){t.flags|=4}function Kc(t,e,i,s,h){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(cm())t.flags|=8192;else throw lr=Cl,uc}else t.flags&=-16777217}function Bd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fm(e))if(cm())t.flags|=8192;else throw lr=Cl,uc}function Vl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Jo():536870912,t.lanes|=e,as|=e)}function _o(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,s|=h.subtreeFlags&65011712,s|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function Bp(t,e,i){var s=e.pendingProps;switch(he(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(e),null;case 1:return ie(e),null;case 3:return i=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Ei(be),re(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Pn(e)?Ci(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,eo())),ie(e),null;case 26:var h=e.type,f=e.memoizedState;return t===null?(Ci(e),f!==null?(ie(e),Bd(e,f)):(ie(e),Kc(e,h,null,s,i))):f?f!==t.memoizedState?(Ci(e),ie(e),Bd(e,f)):(ie(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Ci(e),ie(e),Kc(e,h,t,s,i)),null;case 27:if(Bi(e),i=rt.current,h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ci(e);else{if(!s){if(e.stateNode===null)throw Error(u(166));return ie(e),null}t=et.current,Pn(e)?to(e):(t=Vm(h,s,i),e.stateNode=t,Ci(e))}return ie(e),null;case 5:if(Bi(e),h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ci(e);else{if(!s){if(e.stateNode===null)throw Error(u(166));return ie(e),null}if(f=et.current,Pn(e))to(e);else{var v=su(rt.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?v.createElement(h,{is:s.is}):v.createElement(h)}}f[ve]=e,f[Re]=s;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=f;t:switch(Ue(f,h,s),h){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ci(e)}}return ie(e),Kc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Ci(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(u(166));if(t=rt.current,Pn(e)){if(t=e.stateNode,i=e.memoizedProps,s=null,h=jt,h!==null)switch(h.tag){case 27:case 5:s=h.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Dm(t.nodeValue,i)),t||ri(e,!0)}else t=su(t).createTextNode(s),t[ve]=e,e.stateNode=t}return ie(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(s=Pn(e),i!==null){if(t===null){if(!s)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[ve]=e}else Ti(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ie(e),t=!1}else i=eo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(fn(e),e):(fn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return ie(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pn(e),s!==null&&s.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[ve]=e}else Ti(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ie(e),h=!1}else h=eo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(fn(e),e):(fn(e),null)}return fn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=s!==null,t=t!==null&&t.memoizedState!==null,i&&(s=e.child,h=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(h=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==h&&(s.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Vl(e,e.updateQueue),ie(e),null);case 4:return re(),t===null&&mh(e.stateNode.containerInfo),ie(e),null;case 10:return Ei(e.type),ie(e),null;case 19:if(Z(pe),s=e.memoizedState,s===null)return ie(e),null;if(h=(e.flags&128)!==0,f=s.rendering,f===null)if(h)_o(s,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Ml(t),f!==null){for(e.flags|=128,_o(s,!1),t=f.updateQueue,e.updateQueue=t,Vl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)$s(i,t),i=i.sibling;return F(pe,pe.current&1|2),Ct&&ht(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Ie()>Ql&&(e.flags|=128,h=!0,_o(s,!1),e.lanes=4194304)}else{if(!h)if(t=Ml(f),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,Vl(e,t),_o(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!Ct)return ie(e),null}else 2*Ie()-s.renderingStartTime>Ql&&i!==536870912&&(e.flags|=128,h=!0,_o(s,!1),e.lanes=4194304);s.isBackwards?(f.sibling=e.child,e.child=f):(t=s.last,t!==null?t.sibling=f:e.child=f,s.last=f)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ie(),t.sibling=null,i=pe.current,F(pe,h?i&1|2:i&1),Ct&&ht(e,s.treeForkCount),t):(ie(e),null);case 22:case 23:return fn(e),_c(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(i&536870912)!==0&&(e.flags&128)===0&&(ie(e),e.subtreeFlags&6&&(e.flags|=8192)):ie(e),i=e.updateQueue,i!==null&&Vl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==i&&(e.flags|=2048),t!==null&&Z(sr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ei(be),ie(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function Pp(t,e){switch(he(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ei(be),re(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Bi(e),null;case 31:if(e.memoizedState!==null){if(fn(e),e.alternate===null)throw Error(u(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(fn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(pe),null;case 4:return re(),null;case 10:return Ei(e.type),null;case 22:case 23:return fn(e),_c(),t!==null&&Z(sr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ei(be),null;case 25:return null;default:return null}}function Pd(t,e){switch(he(e),e.tag){case 3:Ei(be),re();break;case 26:case 27:case 5:Bi(e);break;case 4:re();break;case 31:e.memoizedState!==null&&fn(e);break;case 13:fn(e);break;case 19:Z(pe);break;case 10:Ei(e.type);break;case 22:case 23:fn(e),_c(),t!==null&&Z(sr);break;case 24:Ei(be)}}function po(t,e){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var h=s.next;i=h;do{if((i.tag&t)===t){s=void 0;var f=i.create,v=i.inst;s=f(),v.destroy=s}i=i.next}while(i!==h)}}catch(T){Vt(e,e.return,T)}}function ca(t,e,i){try{var s=e.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var f=h.next;s=f;do{if((s.tag&t)===t){var v=s.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=e;var x=i,N=T;try{N()}catch(I){Vt(h,x,I)}}}s=s.next}while(s!==f)}}catch(I){Vt(e,e.return,I)}}function Hd(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Lf(e,i)}catch(s){Vt(t,t.return,s)}}}function qd(t,e,i){i.props=hr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Vt(t,e,s)}}function go(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(h){Vt(t,e,h)}}function oi(t,e){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(h){Vt(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Vt(t,e,h)}else i.current=null}function Zd(t){var e=t.type,i=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break t;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(h){Vt(t,t.return,h)}}function Yc(t,e,i){try{var s=t.stateNode;og(s,t.type,i,e),s[Re]=e}catch(h){Vt(t,t.return,h)}}function Id(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ga(t.type)||t.tag===4}function Xc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Id(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jc(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Qe));else if(s!==4&&(s===27&&ga(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Jc(t,e,i),t=t.sibling;t!==null;)Jc(t,e,i),t=t.sibling}function Kl(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(s===27&&ga(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Kl(t,e,i),t=t.sibling;t!==null;)Kl(t,e,i),t=t.sibling}function Gd(t){var e=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);Ue(e,s,i),e[ve]=t,e[Re]=i}catch(f){Vt(t,t.return,f)}}var Ri=!1,Te=!1,Qc=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Hp(t,e){if(t=t.containerInfo,gh=du,t=Ja(t),Fn(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var h=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var v=0,T=-1,x=-1,N=0,I=0,J=t,U=null;e:for(;;){for(var H;J!==i||h!==0&&J.nodeType!==3||(T=v+h),J!==f||s!==0&&J.nodeType!==3||(x=v+s),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)U=J,J=H;for(;;){if(J===t)break e;if(U===i&&++N===h&&(T=v),U===f&&++I===s&&(x=v),(H=J.nextSibling)!==null)break;J=U,U=J.parentNode}J=H}i=T===-1||x===-1?null:{start:T,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(vh={focusedElem:t,selectionRange:i},du=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){switch(e=Me,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,h=f.memoizedProps,f=f.memoizedState,s=i.stateNode;try{var lt=hr(i.type,h);t=s.getSnapshotBeforeUpdate(lt,f),s.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Vt(i,i.return,gt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)wh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}}function Kd(t,e,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:zi(t,i),s&4&&po(5,i);break;case 1:if(zi(t,i),s&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){Vt(i,i.return,v)}else{var h=hr(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Vt(i,i.return,v)}}s&64&&Hd(i),s&512&&go(i,i.return);break;case 3:if(zi(t,i),s&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Lf(t,e)}catch(v){Vt(i,i.return,v)}}break;case 27:e===null&&s&4&&Gd(i);case 26:case 5:zi(t,i),e===null&&s&4&&Zd(i),s&512&&go(i,i.return);break;case 12:zi(t,i);break;case 31:zi(t,i),s&4&&Jd(t,i);break;case 13:zi(t,i),s&4&&Qd(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Jp.bind(null,i),_g(t,i))));break;case 22:if(s=i.memoizedState!==null||Ri,!s){e=e!==null&&e.memoizedState!==null||Te,h=Ri;var f=Te;Ri=s,(Te=e)&&!f?Mi(t,i,(i.subtreeFlags&8772)!==0):zi(t,i),Ri=h,Te=f}break;case 30:break;default:zi(t,i)}}function Yd(t){var e=t.alternate;e!==null&&(t.alternate=null,Yd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ks(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,en=!1;function Li(t,e,i){for(i=i.child;i!==null;)Xd(t,e,i),i=i.sibling}function Xd(t,e,i){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pi,i)}catch{}switch(i.tag){case 26:Te||oi(i,e),Li(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Te||oi(i,e);var s=oe,h=en;ga(i.type)&&(oe=i.stateNode,en=!1),Li(t,e,i),Ao(i.stateNode),oe=s,en=h;break;case 5:Te||oi(i,e);case 6:if(s=oe,h=en,oe=null,Li(t,e,i),oe=s,en=h,oe!==null)if(en)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(i.stateNode)}catch(f){Vt(i,e,f)}else try{oe.removeChild(i.stateNode)}catch(f){Vt(i,e,f)}break;case 18:oe!==null&&(en?(t=oe,Hm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),fs(t)):Hm(oe,i.stateNode));break;case 4:s=oe,h=en,oe=i.stateNode.containerInfo,en=!0,Li(t,e,i),oe=s,en=h;break;case 0:case 11:case 14:case 15:ca(2,i,e),Te||ca(4,i,e),Li(t,e,i);break;case 1:Te||(oi(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"&&qd(i,e,s)),Li(t,e,i);break;case 21:Li(t,e,i);break;case 22:Te=(s=Te)||i.memoizedState!==null,Li(t,e,i),Te=s;break;default:Li(t,e,i)}}function Jd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fs(t)}catch(i){Vt(e,e.return,i)}}}function Qd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fs(t)}catch(i){Vt(e,e.return,i)}}function qp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Vd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Vd),e;default:throw Error(u(435,t.tag))}}function Yl(t,e){var i=qp(t);e.forEach(function(s){if(!i.has(s)){i.add(s);var h=Qp.bind(null,t,s);s.then(h,h)}})}function nn(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var h=i[s],f=t,v=e,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(ga(T.type)){oe=T.stateNode,en=!1;break t}break;case 5:oe=T.stateNode,en=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(oe===null)throw Error(u(160));Xd(f,v,h),oe=null,en=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)$d(e,t),e=e.sibling}var qn=null;function $d(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(e,t),an(t),s&4&&(ca(3,t,t.return),po(3,t),ca(5,t,t.return));break;case 1:nn(e,t),an(t),s&512&&(Te||i===null||oi(i,i.return)),s&64&&Ri&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var h=qn;if(nn(e,t),an(t),s&512&&(Te||i===null||oi(i,i.return)),s&4){var f=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){t:{s=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(s){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ka]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(s),h.head.insertBefore(f,h.querySelector("head > title"))),Ue(f,s,i),f[ve]=t,ye(f),s=f;break t;case"link":var v=$m("link","href",h).get(s+(i.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(s),Ue(f,s,i),h.head.appendChild(f);break;case"meta":if(v=$m("meta","content",h).get(s+(i.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(T,1);break e}}f=h.createElement(s),Ue(f,s,i),h.head.appendChild(f);break;default:throw Error(u(468,s))}f[ve]=t,ye(f),s=f}t.stateNode=s}else Wm(h,t.type,t.stateNode);else t.stateNode=Qm(h,s,t.memoizedProps);else f!==s?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,s===null?Wm(h,t.type,t.stateNode):Qm(h,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Yc(t,t.memoizedProps,i.memoizedProps)}break;case 27:nn(e,t),an(t),s&512&&(Te||i===null||oi(i,i.return)),i!==null&&s&4&&Yc(t,t.memoizedProps,i.memoizedProps);break;case 5:if(nn(e,t),an(t),s&512&&(Te||i===null||oi(i,i.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(lt){Vt(t,t.return,lt)}}s&4&&t.stateNode!=null&&(h=t.memoizedProps,Yc(t,h,i!==null?i.memoizedProps:h)),s&1024&&(Qc=!0);break;case 6:if(nn(e,t),an(t),s&4){if(t.stateNode===null)throw Error(u(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(lt){Vt(t,t.return,lt)}}break;case 3:if(uu=null,h=qn,qn=ou(e.containerInfo),nn(e,t),qn=h,an(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{fs(e.containerInfo)}catch(lt){Vt(t,t.return,lt)}Qc&&(Qc=!1,Wd(t));break;case 4:s=qn,qn=ou(t.stateNode.containerInfo),nn(e,t),an(t),qn=s;break;case 12:nn(e,t),an(t);break;case 31:nn(e,t),an(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Yl(t,s)));break;case 13:nn(e,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Jl=Ie()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Yl(t,s)));break;case 22:h=t.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,N=Ri,I=Te;if(Ri=N||h,Te=I||x,nn(e,t),Te=I,Ri=N,an(t),s&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(i===null||x||Ri||Te||fr(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){x=i=e;try{if(f=x.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=x.stateNode;var J=x.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(lt){Vt(x,x.return,lt)}}}else if(e.tag===6){if(i===null){x=e;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(lt){Vt(x,x.return,lt)}}}else if(e.tag===18){if(i===null){x=e;try{var H=x.stateNode;h?qm(H,!0):qm(x.stateNode,!1)}catch(lt){Vt(x,x.return,lt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Yl(t,i))));break;case 19:nn(e,t),an(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Yl(t,s)));break;case 30:break;case 21:break;default:nn(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{for(var i,s=t.return;s!==null;){if(Id(s)){i=s;break}s=s.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var h=i.stateNode,f=Xc(t);Kl(t,f,h);break;case 5:var v=i.stateNode;i.flags&32&&(bn(v,""),i.flags&=-33);var T=Xc(t);Kl(t,T,v);break;case 3:case 4:var x=i.stateNode.containerInfo,N=Xc(t);Jc(t,N,x);break;default:throw Error(u(161))}}catch(I){Vt(t,t.return,I)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Wd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function zi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Kd(t,e.alternate,e),e=e.sibling}function fr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ca(4,e,e.return),fr(e);break;case 1:oi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&qd(e,e.return,i),fr(e);break;case 27:Ao(e.stateNode);case 26:case 5:oi(e,e.return),fr(e);break;case 22:e.memoizedState===null&&fr(e);break;case 30:fr(e);break;default:fr(e)}t=t.sibling}}function Mi(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,h=t,f=e,v=f.flags;switch(f.tag){case 0:case 11:case 15:Mi(h,f,i),po(4,f);break;case 1:if(Mi(h,f,i),s=f,h=s.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Vt(s,s.return,N)}if(s=f,h=s.updateQueue,h!==null){var T=s.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Rf(x[h],T)}catch(N){Vt(s,s.return,N)}}i&&v&64&&Hd(f),go(f,f.return);break;case 27:Gd(f);case 26:case 5:Mi(h,f,i),i&&s===null&&v&4&&Zd(f),go(f,f.return);break;case 12:Mi(h,f,i);break;case 31:Mi(h,f,i),i&&v&4&&Jd(h,f);break;case 13:Mi(h,f,i),i&&v&4&&Qd(h,f);break;case 22:f.memoizedState===null&&Mi(h,f,i),go(f,f.return);break;case 30:break;default:Mi(h,f,i)}e=e.sibling}}function $c(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&no(i))}function Wc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&no(t))}function Zn(t,e,i,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fd(t,e,i,s),e=e.sibling}function Fd(t,e,i,s){var h=e.flags;switch(e.tag){case 0:case 11:case 15:Zn(t,e,i,s),h&2048&&po(9,e);break;case 1:Zn(t,e,i,s);break;case 3:Zn(t,e,i,s),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&no(t)));break;case 12:if(h&2048){Zn(t,e,i,s),t=e.stateNode;try{var f=e.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Vt(e,e.return,x)}}else Zn(t,e,i,s);break;case 31:Zn(t,e,i,s);break;case 13:Zn(t,e,i,s);break;case 23:break;case 22:f=e.stateNode,v=e.alternate,e.memoizedState!==null?f._visibility&2?Zn(t,e,i,s):vo(t,e):f._visibility&2?Zn(t,e,i,s):(f._visibility|=2,es(t,e,i,s,(e.subtreeFlags&10256)!==0||!1)),h&2048&&$c(v,e);break;case 24:Zn(t,e,i,s),h&2048&&Wc(e.alternate,e);break;default:Zn(t,e,i,s)}}function es(t,e,i,s,h){for(h=h&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,v=e,T=i,x=s,N=v.flags;switch(v.tag){case 0:case 11:case 15:es(f,v,T,x,h),po(8,v);break;case 23:break;case 22:var I=v.stateNode;v.memoizedState!==null?I._visibility&2?es(f,v,T,x,h):vo(f,v):(I._visibility|=2,es(f,v,T,x,h)),h&&N&2048&&$c(v.alternate,v);break;case 24:es(f,v,T,x,h),h&&N&2048&&Wc(v.alternate,v);break;default:es(f,v,T,x,h)}e=e.sibling}}function vo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,s=e,h=s.flags;switch(s.tag){case 22:vo(i,s),h&2048&&$c(s.alternate,s);break;case 24:vo(i,s),h&2048&&Wc(s.alternate,s);break;default:vo(i,s)}e=e.sibling}}var yo=8192;function ns(t,e,i){if(t.subtreeFlags&yo)for(t=t.child;t!==null;)tm(t,e,i),t=t.sibling}function tm(t,e,i){switch(t.tag){case 26:ns(t,e,i),t.flags&yo&&t.memoizedState!==null&&Og(i,qn,t.memoizedState,t.memoizedProps);break;case 5:ns(t,e,i);break;case 3:case 4:var s=qn;qn=ou(t.stateNode.containerInfo),ns(t,e,i),qn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=yo,yo=16777216,ns(t,e,i),yo=s):ns(t,e,i));break;default:ns(t,e,i)}}function em(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function bo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];Me=s,im(s,t)}em(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nm(t),t=t.sibling}function nm(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&ca(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Xl(t)):bo(t);break;default:bo(t)}}function Xl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];Me=s,im(s,t)}em(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ca(8,e,e.return),Xl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Xl(e));break;default:Xl(e)}t=t.sibling}}function im(t,e){for(;Me!==null;){var i=Me;switch(i.tag){case 0:case 11:case 15:ca(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:no(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Me=s;else t:for(i=t;Me!==null;){s=Me;var h=s.sibling,f=s.return;if(Yd(s),s===i){Me=null;break t}if(h!==null){h.return=f,Me=h;break t}Me=f}}}var Zp={getCacheForType:function(t){var e=Ne(be),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Ne(be).controller.signal}},Ip=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,Rt=null,kt=0,Gt=0,dn=null,ha=!1,is=!1,Fc=!1,ki=0,de=0,fa=0,dr=0,th=0,mn=0,as=0,wo=null,rn=null,eh=!1,Jl=0,am=0,Ql=1/0,$l=null,da=null,Oe=0,ma=null,rs=null,Di=0,nh=0,ih=null,rm=null,So=0,ah=null;function _n(){return(qt&2)!==0&&kt!==0?kt&-kt:B.T!==null?ch():zs()}function sm(){if(mn===0)if((kt&536870912)===0||Ct){var t=La;La<<=1,(La&3932160)===0&&(La=262144),mn=t}else mn=536870912;return t=hn.current,t!==null&&(t.flags|=32),mn}function sn(t,e,i){(t===te&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ss(t,0),_a(t,kt,mn,!1)),di(t,i),((qt&2)===0||t!==te)&&(t===te&&((qt&2)===0&&(dr|=i),de===4&&_a(t,kt,mn,!1)),li(t))}function om(t,e,i){if((qt&6)!==0)throw Error(u(327));var s=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Ma(t,e),h=s?Kp(t,e):sh(t,e,!0),f=s;do{if(h===0){is&&!s&&_a(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Gp(i)){h=sh(t,e,!1),f=!1;continue}if(h===2){if(f=e,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var T=t;h=wo;var x=T.current.memoizedState.isDehydrated;if(x&&(ss(T,v).flags|=256),v=sh(T,v,!1),v!==2){if(Fc&&!x){T.errorRecoveryDisabledLanes|=f,dr|=f,h=4;break t}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ss(t,0),_a(t,e,0,!0);break}t:{switch(s=t,f=h,f){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:_a(s,e,mn,!ha);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Jl+300-Ie(),10<h)){if(_a(s,e,mn,!ha),Ar(s,0,!0)!==0)break t;Di=e,s.timeoutHandle=Bm(lm.bind(null,s,i,rn,$l,eh,e,mn,dr,as,ha,f,"Throttled",-0,0),h);break t}lm(s,i,rn,$l,eh,e,mn,dr,as,ha,f,null,-0,0)}}break}while(!0);li(t)}function lm(t,e,i,s,h,f,v,T,x,N,I,J,U,H){if(t.timeoutHandle=-1,J=e.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qe},tm(e,f,J);var lt=(f&62914560)===f?Jl-Ie():(f&4194048)===f?am-Ie():0;if(lt=Cg(J,lt),lt!==null){Di=f,t.cancelPendingCommit=lt(pm.bind(null,t,e,f,i,s,h,v,T,x,I,J,null,U,H)),_a(t,f,v,!N);return}}pm(t,e,f,i,s,h,v,T,x)}function Gp(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var h=i[s],f=h.getSnapshot;h=h.value;try{if(!Le(f(),h))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e,i,s){e&=~th,e&=~dr,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var h=e;0<h;){var f=31-Ge(h),v=1<<f;s[f]=-1,h&=~v}i!==0&&Qo(t,i,e)}function Wl(){return(qt&6)===0?(To(0),!1):!0}function rh(){if(Rt!==null){if(Gt===0)var t=Rt.return;else t=Rt,Hn=si=null,wc(t),Qr=null,ao=0,t=Rt;for(;t!==null;)Pd(t.alternate,t),t=t.return;Rt=null}}function ss(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,cg(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Di=0,rh(),te=t,Rt=i=On(t.current,null),kt=e,Gt=0,dn=null,ha=!1,is=Ma(t,e),Fc=!1,as=mn=th=dr=fa=de=0,rn=wo=null,eh=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var h=31-Ge(s),f=1<<h;e|=t[h],s&=~f}return ki=e,tr(),i}function um(t,e){Tt=null,B.H=fo,e===Jr||e===Ol?(e=xf(),Gt=3):e===uc?(e=xf(),Gt=4):Gt=e===Uc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,dn=e,Rt===null&&(de=1,ql(t,r(e,t.current)))}function cm(){var t=hn.current;return t===null?!0:(kt&4194048)===kt?Cn===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Cn:!1}function hm(){var t=B.H;return B.H=fo,t===null?fo:t}function fm(){var t=B.A;return B.A=Zp,t}function Fl(){de=4,ha||(kt&4194048)!==kt&&hn.current!==null||(is=!0),(fa&134217727)===0&&(dr&134217727)===0||te===null||_a(te,kt,mn,!1)}function sh(t,e,i){var s=qt;qt|=2;var h=hm(),f=fm();(te!==t||kt!==e)&&($l=null,ss(t,e)),e=!1;var v=de;t:do try{if(Gt!==0&&Rt!==null){var T=Rt,x=dn;switch(Gt){case 8:rh(),v=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(e=!0);var N=Gt;if(Gt=0,dn=null,os(t,T,x,N),i&&is){v=0;break t}break;default:N=Gt,Gt=0,dn=null,os(t,T,x,N)}}Vp(),v=de;break}catch(I){um(t,I)}while(!0);return e&&t.shellSuspendCounter++,Hn=si=null,qt=s,B.H=h,B.A=f,Rt===null&&(te=null,kt=0,tr()),v}function Vp(){for(;Rt!==null;)dm(Rt)}function Kp(t,e){var i=qt;qt|=2;var s=hm(),h=fm();te!==t||kt!==e?($l=null,Ql=Ie()+500,ss(t,e)):is=Ma(t,e);t:do try{if(Gt!==0&&Rt!==null){e=Rt;var f=dn;e:switch(Gt){case 1:Gt=0,dn=null,os(t,e,f,1);break;case 2:case 9:if(Tf(f)){Gt=0,dn=null,mm(e);break}e=function(){Gt!==2&&Gt!==9||te!==t||(Gt=7),li(t)},f.then(e,e);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Tf(f)?(Gt=0,dn=null,mm(e)):(Gt=0,dn=null,os(t,e,f,7));break;case 5:var v=null;switch(Rt.tag){case 26:v=Rt.memoizedState;case 5:case 27:var T=Rt;if(v?Fm(v):T.stateNode.complete){Gt=0,dn=null;var x=T.sibling;if(x!==null)Rt=x;else{var N=T.return;N!==null?(Rt=N,tu(N)):Rt=null}break e}}Gt=0,dn=null,os(t,e,f,5);break;case 6:Gt=0,dn=null,os(t,e,f,6);break;case 8:rh(),de=6;break t;default:throw Error(u(462))}}Yp();break}catch(I){um(t,I)}while(!0);return Hn=si=null,B.H=s,B.A=h,qt=i,Rt!==null?0:(te=null,kt=0,tr(),de)}function Yp(){for(;Rt!==null&&!Ko();)dm(Rt)}function dm(t){var e=Ud(t.alternate,t,ki);t.memoizedProps=t.pendingProps,e===null?tu(t):Rt=e}function mm(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=zd(i,e,e.pendingProps,e.type,void 0,kt);break;case 11:e=zd(i,e,e.pendingProps,e.type.render,e.ref,kt);break;case 5:wc(e);default:Pd(i,e),e=Rt=$s(e,ki),e=Ud(i,e,ki)}t.memoizedProps=t.pendingProps,e===null?tu(t):Rt=e}function os(t,e,i,s){Hn=si=null,wc(e),Qr=null,ao=0;var h=e.return;try{if(Np(t,h,e,i,kt)){de=1,ql(t,r(i,t.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;de=1,ql(t,r(i,t.current)),Rt=null;return}e.flags&32768?(Ct||s===1?t=!0:is||(kt&536870912)!==0?t=!1:(ha=t=!0,(s===2||s===9||s===3||s===6)&&(s=hn.current,s!==null&&s.tag===13&&(s.flags|=16384))),_m(e,t)):tu(e)}function tu(t){var e=t;do{if((e.flags&32768)!==0){_m(e,ha);return}t=e.return;var i=Bp(e.alternate,e,ki);if(i!==null){Rt=i;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);de===0&&(de=5)}function _m(t,e){do{var i=Pp(t.alternate,t);if(i!==null){i.flags&=32767,Rt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=i}while(t!==null);de=6,Rt=null}function pm(t,e,i,s,h,f,v,T,x){t.cancelPendingCommit=null;do eu();while(Oe!==0);if((qt&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(f=e.lanes|e.childLanes,f|=Zr,Zu(t,i,f,v,T,x),t===te&&(Rt=te=null,kt=0),rs=e,ma=t,Di=i,nh=f,ih=h,rm=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$p(Oa,function(){return wm(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=B.T,B.T=null,h=tt.p,tt.p=2,v=qt,qt|=4;try{Hp(t,e,i)}finally{qt=v,tt.p=h,B.T=s}}Oe=1,gm(),vm(),ym()}}function gm(){if(Oe===1){Oe=0;var t=ma,e=rs,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var s=tt.p;tt.p=2;var h=qt;qt|=4;try{$d(e,t);var f=vh,v=Ja(t.containerInfo),T=f.focusedElem,x=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Br(T.ownerDocument.documentElement,T)){if(x!==null&&Fn(T)){var N=x.start,I=x.end;if(I===void 0&&(I=N),"selectionStart"in T)T.selectionStart=N,T.selectionEnd=Math.min(I,T.value.length);else{var J=T.ownerDocument||document,U=J&&J.defaultView||window;if(U.getSelection){var H=U.getSelection(),lt=T.textContent.length,gt=Math.min(x.start,lt),$t=x.end===void 0?gt:Math.min(x.end,lt);!H.extend&&gt>$t&&(v=$t,$t=gt,gt=v);var z=Xa(T,gt),O=Xa(T,$t);if(z&&O&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var D=J.createRange();D.setStart(z.node,z.offset),H.removeAllRanges(),gt>$t?(H.addRange(D),H.extend(O.node,O.offset)):(D.setEnd(O.node,O.offset),H.addRange(D))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var K=J[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}du=!!gh,vh=gh=null}finally{qt=h,tt.p=s,B.T=i}}t.current=e,Oe=2}}function vm(){if(Oe===2){Oe=0;var t=ma,e=rs,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var s=tt.p;tt.p=2;var h=qt;qt|=4;try{Kd(t,e.alternate,e)}finally{qt=h,tt.p=s,B.T=i}}Oe=3}}function ym(){if(Oe===4||Oe===3){Oe=0,Yo();var t=ma,e=rs,i=Di,s=rm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Oe=5:(Oe=0,rs=ma=null,bm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(da=null),ct(i),e=e.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=B.T,h=tt.p,tt.p=2,B.T=null;try{for(var f=t.onRecoverableError,v=0;v<s.length;v++){var T=s[v];f(T.value,{componentStack:T.stack})}}finally{B.T=e,tt.p=h}}(Di&3)!==0&&eu(),li(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===ah?So++:(So=0,ah=t):So=0,To(0)}}function bm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,no(e)))}function eu(){return gm(),vm(),ym(),wm()}function wm(){if(Oe!==5)return!1;var t=ma,e=nh;nh=0;var i=ct(Di),s=B.T,h=tt.p;try{tt.p=32>i?32:i,B.T=null,i=ih,ih=null;var f=ma,v=Di;if(Oe=0,rs=ma=null,Di=0,(qt&6)!==0)throw Error(u(331));var T=qt;if(qt|=4,nm(f.current),Fd(f,f.current,v,i),qt=T,To(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pi,f)}catch{}return!0}finally{tt.p=h,B.T=s,bm(t,e)}}function Sm(t,e,i){e=r(i,e),e=jc(t.stateNode,e,2),t=oa(t,e,2),t!==null&&(di(t,2),li(t))}function Vt(t,e,i){if(t.tag===3)Sm(t,t,i);else for(;e!==null;){if(e.tag===3){Sm(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(da===null||!da.has(s))){t=r(i,t),i=Td(2),s=oa(e,i,2),s!==null&&(Ed(i,s,e,t),di(s,2),li(s));break}}e=e.return}}function oh(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new Ip;var h=new Set;s.set(e,h)}else h=s.get(e),h===void 0&&(h=new Set,s.set(e,h));h.has(i)||(Fc=!0,h.add(i),t=Xp.bind(null,t,e,i),e.then(t,t))}function Xp(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(kt&i)===i&&(de===4||de===3&&(kt&62914560)===kt&&300>Ie()-Jl?(qt&2)===0&&ss(t,0):th|=i,as===kt&&(as=0)),li(t)}function Tm(t,e){e===0&&(e=Jo()),t=An(t,e),t!==null&&(di(t,e),li(t))}function Jp(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Tm(t,i)}function Qp(t,e){var i=0;switch(t.tag){case 31:case 13:var s=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(u(314))}s!==null&&s.delete(e),Tm(t,i)}function $p(t,e){return Er(t,e)}var nu=null,ls=null,lh=!1,iu=!1,uh=!1,pa=0;function li(t){t!==ls&&t.next===null&&(ls===null?nu=ls=t:ls=ls.next=t),iu=!0,lh||(lh=!0,Fp())}function To(t,e){if(!uh&&iu){uh=!0;do for(var i=!1,s=nu;s!==null;){if(t!==0){var h=s.pendingLanes;if(h===0)var f=0;else{var v=s.suspendedLanes,T=s.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Om(s,f))}else f=kt,f=Ar(s,s===te?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Ma(s,f)||(i=!0,Om(s,f));s=s.next}while(i);uh=!1}}function Wp(){Em()}function Em(){iu=lh=!1;var t=0;pa!==0&&ug()&&(t=pa);for(var e=Ie(),i=null,s=nu;s!==null;){var h=s.next,f=xm(s,e);f===0?(s.next=null,i===null?nu=h:i.next=h,h===null&&(ls=i)):(i=s,(t!==0||(f&3)!==0)&&(iu=!0)),s=h}Oe!==0&&Oe!==5||To(t),pa!==0&&(pa=0)}function xm(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ge(f),T=1<<v,x=h[v];x===-1?((T&i)===0||(T&s)!==0)&&(h[v]=qu(T,e)):x<=e&&(t.expiredLanes|=T),f&=~T}if(e=te,i=kt,i=Ar(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===e&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Aa(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Ma(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(s!==null&&Aa(s),ct(i)){case 2:case 8:i=Cs;break;case 32:i=Oa;break;case 268435456:i=Rs;break;default:i=Oa}return s=Am.bind(null,t),i=Er(i,s),t.callbackPriority=e,t.callbackNode=i,e}return s!==null&&s!==null&&Aa(s),t.callbackPriority=2,t.callbackNode=null,2}function Am(t,e){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(eu()&&t.callbackNode!==i)return null;var s=kt;return s=Ar(t,t===te?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(om(t,s,e),xm(t,Ie()),t.callbackNode!=null&&t.callbackNode===i?Am.bind(null,t):null)}function Om(t,e){if(eu())return null;om(t,e,!0)}function Fp(){hg(function(){(qt&6)!==0?Er(xr,Wp):Em()})}function ch(){if(pa===0){var t=Yr;t===0&&(t=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),pa=t}return pa}function Cm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vi(""+t)}function Rm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function tg(t,e,i,s,h){if(e==="submit"&&i&&i.stateNode===h){var f=Cm((h[Re]||null).action),v=s.submitter;v&&(e=(e=v[Re]||null)?Cm(e.formAction):v.getAttribute("formAction"),e!==null&&(f=e,v=null));var T=new zr("action","action",null,s,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(pa!==0){var x=v?Rm(h,v):new FormData(h);Lc(i,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=v?Rm(h,v):new FormData(h),Lc(i,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var hh=0;hh<ni.length;hh++){var fh=ni[hh],eg=fh.toLowerCase(),ng=fh[0].toUpperCase()+fh.slice(1);We(eg,"on"+ng)}We($a,"onAnimationEnd"),We(wl,"onAnimationIteration"),We(Wa,"onAnimationStart"),We("dblclick","onDoubleClick"),We("focusin","onFocus"),We("focusout","onBlur"),We(ec,"onTransitionRun"),We(Sl,"onTransitionStart"),We(nc,"onTransitionCancel"),We(na,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ig=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function Lm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],h=s.event;s=s.listeners;t:{var f=void 0;if(e)for(var v=s.length-1;0<=v;v--){var T=s[v],x=T.instance,N=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=N;try{f(h)}catch(I){Fa(I)}h.currentTarget=null,f=x}else for(v=0;v<s.length;v++){if(T=s[v],x=T.instance,N=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=N;try{f(h)}catch(I){Fa(I)}h.currentTarget=null,f=x}}}}function Lt(t,e){var i=e[Yn];i===void 0&&(i=e[Yn]=new Set);var s=t+"__bubble";i.has(s)||(zm(e,t,2,!1),i.add(s))}function dh(t,e,i){var s=0;e&&(s|=4),zm(i,t,s,e)}var au="_reactListening"+Math.random().toString(36).slice(2);function mh(t){if(!t[au]){t[au]=!0,el.forEach(function(i){i!=="selectionchange"&&(ig.has(i)||dh(i,!1,t),dh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[au]||(e[au]=!0,dh("selectionchange",!1,e))}}function zm(t,e,i,s){switch(s_(e)){case 2:var h=zg;break;case 8:h=Mg;break;default:h=Rh}i=h.bind(null,e,i,t),h=void 0,!Pa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),s?h!==void 0?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):h!==void 0?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function _h(t,e,i,s,h){var f=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var T=s.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=s.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){s=f=v;continue t}T=T.parentNode}}s=s.return}Hs(function(){var N=f,I=Ba(i),J=[];t:{var U=Tl.get(t);if(U!==void 0){var H=zr,lt=t;switch(t){case"keypress":if(Ha(i)===0)break t;case"keydown":case"keyup":H=ul;break;case"focusin":lt="focus",H=Is;break;case"focusout":lt="blur",H=Is;break;case"beforeblur":case"afterblur":H=Is;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Ju;break;case $a:case wl:case Wa:H=Gs;break;case na:H=fl;break;case"scroll":case"scrollend":H=Mt;break;case"wheel":H=bi;break;case"copy":case"cut":case"paste":H=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=cl;break;case"toggle":case"beforetoggle":H=Ia}var gt=(e&4)!==0,$t=!gt&&(t==="scroll"||t==="scrollend"),z=gt?U!==null?U+"Capture":null:U;gt=[];for(var O=N,D;O!==null;){var K=O;if(D=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||D===null||z===null||(K=vi(O,z),K!=null&&gt.push(xo(O,K,D))),$t)break;O=O.return}0<gt.length&&(U=new H(U,lt,null,i,I),J.push({event:U,listeners:gt}))}}if((e&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",U&&i!==Lr&&(lt=i.relatedTarget||i.fromElement)&&(_i(lt)||lt[mi]))break t;if((H||U)&&(U=I.window===I?I:(U=I.ownerDocument)?U.defaultView||U.parentWindow:window,H?(lt=i.relatedTarget||i.toElement,H=N,lt=lt?_i(lt):null,lt!==null&&($t=_(lt),gt=lt.tag,lt!==$t||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(H=null,lt=N),H!==lt)){if(gt=al,K="onMouseLeave",z="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(gt=cl,K="onPointerLeave",z="onPointerEnter",O="pointer"),$t=H==null?U:Xn(H),D=lt==null?U:Xn(lt),U=new gt(K,O+"leave",H,i,I),U.target=$t,U.relatedTarget=D,K=null,_i(I)===N&&(gt=new gt(z,O+"enter",lt,i,I),gt.target=D,gt.relatedTarget=$t,K=gt),$t=K,H&&lt)e:{for(gt=ag,z=H,O=lt,D=0,K=z;K;K=gt(K))D++;K=0;for(var pt=O;pt;pt=gt(pt))K++;for(;0<D-K;)z=gt(z),D--;for(;0<K-D;)O=gt(O),K--;for(;D--;){if(z===O||O!==null&&z===O.alternate){gt=z;break e}z=gt(z),O=gt(O)}gt=null}else gt=null;H!==null&&Mm(J,U,H,gt,!1),lt!==null&&$t!==null&&Mm(J,$t,lt,gt,!0)}}t:{if(U=N?Xn(N):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var Bt=Ya;else if(Tn(U))if(pl)Bt=tc;else{Bt=Fu;var ut=Un}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?N&&Ua(N.elementType)&&(Bt=Ya):Bt=Wi;if(Bt&&(Bt=Bt(t,N))){_l(J,Bt,i,I);break t}ut&&ut(t,U,N),t==="focusout"&&N&&U.type==="number"&&N.memoizedProps.value!=null&&Dn(U,"number",U.value)}switch(ut=N?Xn(N):window,t){case"focusin":(Tn(ut)||ut.contentEditable==="true")&&(ti=ut,Hr=N,Qa=null);break;case"focusout":Qa=Hr=ti=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,yl(J,i,I);break;case"selectionchange":if(Pr)break;case"keydown":case"keyup":yl(J,i,I)}var xt;if(kr)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Ji?ml(t,i)&&(Dt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Dt="onCompositionStart");Dt&&(Dr&&i.locale!=="ko"&&(Ji||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ji&&(xt=$n()):(wn=I,yi="value"in wn?wn.value:wn.textContent,Ji=!0)),ut=ru(N,Dt),0<ut.length&&(Dt=new Vs(Dt,t,null,i,I),J.push({event:Dt,listeners:ut}),xt?Dt.data=xt:(xt=Js(i),xt!==null&&(Dt.data=xt)))),(xt=$u?cn(t,i):Qi(t,i))&&(Dt=ru(N,"onBeforeInput"),0<Dt.length&&(ut=new Vs("onBeforeInput","beforeinput",null,i,I),J.push({event:ut,listeners:Dt}),ut.data=xt)),tg(J,t,N,i,I)}Lm(J,e)})}function xo(t,e,i){return{instance:t,listener:e,currentTarget:i}}function ru(t,e){for(var i=e+"Capture",s=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vi(t,i),h!=null&&s.unshift(xo(t,h,f)),h=vi(t,e),h!=null&&s.push(xo(t,h,f))),t.tag===3)return s;t=t.return}return[]}function ag(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mm(t,e,i,s,h){for(var f=e._reactName,v=[];i!==null&&i!==s;){var T=i,x=T.alternate,N=T.stateNode;if(T=T.tag,x!==null&&x===s)break;T!==5&&T!==26&&T!==27||N===null||(x=N,h?(N=vi(i,f),N!=null&&v.unshift(xo(i,N,x))):h||(N=vi(i,f),N!=null&&v.push(xo(i,N,x)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var rg=/\r\n?/g,sg=/\u0000|\uFFFD/g;function km(t){return(typeof t=="string"?t:""+t).replace(rg,`
`).replace(sg,"")}function Dm(t,e){return e=km(e),km(t)===e}function Qt(t,e,i,s,h,f){switch(i){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||bn(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&bn(t,""+s);break;case"className":Xt(t,"class",s);break;case"tabIndex":Xt(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(t,i,s);break;case"style":Cr(t,s,f);break;case"data":if(e!=="object"){Xt(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Vi(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&Qt(t,e,"name",h.name,h,null),Qt(t,e,"formEncType",h.formEncType,h,null),Qt(t,e,"formMethod",h.formMethod,h,null),Qt(t,e,"formTarget",h.formTarget,h,null)):(Qt(t,e,"encType",h.encType,h,null),Qt(t,e,"method",h.method,h,null),Qt(t,e,"target",h.target,h,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Vi(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=Qe);break;case"onScroll":s!=null&&Lt("scroll",t);break;case"onScrollEnd":s!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(u(61));if(i=s.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=Vi(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),Ot(t,"popover",s);break;case"xlinkActuate":Je(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Je(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Je(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Je(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Je(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Je(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Je(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ot(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Rr.get(i)||i,Ot(t,i,s))}}function ph(t,e,i,s,h,f){switch(i){case"style":Cr(t,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(u(61));if(i=s.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof s=="string"?bn(t,s):(typeof s=="number"||typeof s=="bigint")&&bn(t,""+s);break;case"onScroll":s!=null&&Lt("scroll",t);break;case"onScrollEnd":s!=null&&Lt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),e=i.slice(2,h?i.length-7:void 0),f=t[Re]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,h),typeof s=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,s,h);break t}i in t?t[i]=s:s===!0?t.setAttribute(i,""):Ot(t,i,s)}}}function Ue(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var s=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":s=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Qt(t,e,f,v,i,null)}}h&&Qt(t,e,"srcSet",i.srcSet,i,null),s&&Qt(t,e,"src",i.src,i,null);return;case"input":Lt("invalid",t);var T=f=v=h=null,x=null,N=null;for(s in i)if(i.hasOwnProperty(s)){var I=i[s];if(I!=null)switch(s){case"name":h=I;break;case"type":v=I;break;case"checked":x=I;break;case"defaultChecked":N=I;break;case"value":f=I;break;case"defaultValue":T=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(u(137,e));break;default:Qt(t,e,s,I,i,null)}}ja(t,f,T,x,N,v,h,!1);return;case"select":Lt("invalid",t),s=v=f=null;for(h in i)if(i.hasOwnProperty(h)&&(T=i[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":s=T;default:Qt(t,e,h,T,i,null)}e=f,i=v,t.multiple=!!s,e!=null?Ft(t,!!s,e,!1):i!=null&&Ft(t,!!s,i,!0);return;case"textarea":Lt("invalid",t),f=h=s=null;for(v in i)if(i.hasOwnProperty(v)&&(T=i[v],T!=null))switch(v){case"value":s=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(u(91));break;default:Qt(t,e,v,T,i,null)}Ii(t,s,h,f);return;case"option":for(x in i)i.hasOwnProperty(x)&&(s=i[x],s!=null)&&(x==="selected"?t.selected=s&&typeof s!="function"&&typeof s!="symbol":Qt(t,e,x,s,i,null));return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(s=0;s<Eo.length;s++)Lt(Eo[s],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(s=i[N],s!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Qt(t,e,N,s,i,null)}return;default:if(Ua(e)){for(I in i)i.hasOwnProperty(I)&&(s=i[I],s!==void 0&&ph(t,e,I,s,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(s=i[T],s!=null&&Qt(t,e,T,s,i,null))}function og(t,e,i,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,x=null,N=null,I=null;for(H in i){var J=i[H];if(i.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=J;default:s.hasOwnProperty(H)||Qt(t,e,H,null,s,J)}}for(var U in s){var H=s[U];if(J=i[U],s.hasOwnProperty(U)&&(H!=null||J!=null))switch(U){case"type":f=H;break;case"name":h=H;break;case"checked":N=H;break;case"defaultChecked":I=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(u(137,e));break;default:H!==J&&Qt(t,e,U,H,s,J)}}Us(t,v,T,x,N,I,f,h);return;case"select":H=v=T=U=null;for(f in i)if(x=i[f],i.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:s.hasOwnProperty(f)||Qt(t,e,f,null,s,x)}for(h in s)if(f=s[h],x=i[h],s.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":U=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==x&&Qt(t,e,h,f,s,x)}e=T,i=v,s=H,U!=null?Ft(t,!!i,U,!1):!!s!=!!i&&(e!=null?Ft(t,!!i,e,!0):Ft(t,!!i,i?[]:"",!1));return;case"textarea":H=U=null;for(T in i)if(h=i[T],i.hasOwnProperty(T)&&h!=null&&!s.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qt(t,e,T,null,s,h)}for(v in s)if(h=s[v],f=i[v],s.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":U=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==f&&Qt(t,e,v,h,s,f)}Qn(t,U,H);return;case"option":for(var lt in i)U=i[lt],i.hasOwnProperty(lt)&&U!=null&&!s.hasOwnProperty(lt)&&(lt==="selected"?t.selected=!1:Qt(t,e,lt,null,s,U));for(x in s)U=s[x],H=i[x],s.hasOwnProperty(x)&&U!==H&&(U!=null||H!=null)&&(x==="selected"?t.selected=U&&typeof U!="function"&&typeof U!="symbol":Qt(t,e,x,U,s,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in i)U=i[gt],i.hasOwnProperty(gt)&&U!=null&&!s.hasOwnProperty(gt)&&Qt(t,e,gt,null,s,U);for(N in s)if(U=s[N],H=i[N],s.hasOwnProperty(N)&&U!==H&&(U!=null||H!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(u(137,e));break;default:Qt(t,e,N,U,s,H)}return;default:if(Ua(e)){for(var $t in i)U=i[$t],i.hasOwnProperty($t)&&U!==void 0&&!s.hasOwnProperty($t)&&ph(t,e,$t,void 0,s,U);for(I in s)U=s[I],H=i[I],!s.hasOwnProperty(I)||U===H||U===void 0&&H===void 0||ph(t,e,I,U,s,H);return}}for(var z in i)U=i[z],i.hasOwnProperty(z)&&U!=null&&!s.hasOwnProperty(z)&&Qt(t,e,z,null,s,U);for(J in s)U=s[J],H=i[J],!s.hasOwnProperty(J)||U===H||U==null&&H==null||Qt(t,e,J,U,s,H)}function Nm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var h=i[s],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&Nm(v)){for(v=0,T=h.responseEnd,s+=1;s<i.length;s++){var x=i[s],N=x.startTime;if(N>T)break;var I=x.transferSize,J=x.initiatorType;I&&Nm(J)&&(x=x.responseEnd,v+=I*(x<T?1:(T-N)/(x-N)))}if(--s,e+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gh=null,vh=null;function su(t){return t.nodeType===9?t:t.ownerDocument}function jm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Um(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function yh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bh=null;function ug(){var t=window.event;return t&&t.type==="popstate"?t===bh?!1:(bh=t,!0):(bh=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,cg=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(t){return Pm.resolve(null).then(t).catch(fg)}:Bm;function fg(t){setTimeout(function(){throw t})}function ga(t){return t==="head"}function Hm(t,e){var i=e,s=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(s===0){t.removeChild(h),fs(e);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Ao(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Ao(i);for(var f=i.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[ka]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&Ao(t.ownerDocument.body);i=h}while(i);fs(e)}function qm(t,e){var i=t;t=0;do{var s=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=s}while(i)}function wh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":wh(i),ks(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function dg(t,e,i,s){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[ka])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Rn(t.nextSibling),t===null)break}return null}function mg(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Rn(t.nextSibling),t===null))return null;return t}function Zm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Rn(t.nextSibling),t===null))return null;return t}function Sh(t){return t.data==="$?"||t.data==="$~"}function Th(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _g(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var s=function(){e(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Eh=null;function Im(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return Rn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Vm(t,e,i){switch(e=su(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function Ao(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ks(t)}var Ln=new Map,Km=new Set;function ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=tt.d;tt.d={f:pg,r:gg,D:vg,C:yg,L:bg,m:wg,X:Tg,S:Sg,M:Eg};function pg(){var t=Ni.f(),e=Wl();return t||e}function gg(t){var e=Hi(t);e!==null&&e.tag===5&&e.type==="form"?ud(e):Ni.r(t)}var us=typeof document>"u"?null:document;function Ym(t,e,i){var s=us;if(s&&typeof e=="string"&&e){var h=ne(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Km.has(h)||(Km.add(h),t={rel:t,crossOrigin:i,href:e},s.querySelector(h)===null&&(e=s.createElement("link"),Ue(e,"link",t),ye(e),s.head.appendChild(e)))}}function vg(t){Ni.D(t),Ym("dns-prefetch",t,null)}function yg(t,e){Ni.C(t,e),Ym("preconnect",t,e)}function bg(t,e,i){Ni.L(t,e,i);var s=us;if(s&&t&&e){var h='link[rel="preload"][as="'+ne(e)+'"]';e==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ne(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ne(i.imageSizes)+'"]')):h+='[href="'+ne(t)+'"]';var f=h;switch(e){case"style":f=cs(t);break;case"script":f=hs(t)}Ln.has(f)||(t=R({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Ln.set(f,t),s.querySelector(h)!==null||e==="style"&&s.querySelector(Oo(f))||e==="script"&&s.querySelector(Co(f))||(e=s.createElement("link"),Ue(e,"link",t),ye(e),s.head.appendChild(e)))}}function wg(t,e){Ni.m(t,e);var i=us;if(i&&t){var s=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+ne(s)+'"][href="'+ne(t)+'"]',f=h;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hs(t)}if(!Ln.has(f)&&(t=R({rel:"modulepreload",href:t},e),Ln.set(f,t),i.querySelector(h)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Co(f)))return}s=i.createElement("link"),Ue(s,"link",t),ye(s),i.head.appendChild(s)}}}function Sg(t,e,i){Ni.S(t,e,i);var s=us;if(s&&t){var h=qi(s).hoistableStyles,f=cs(t);e=e||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=s.querySelector(Oo(f)))T.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Ln.get(f))&&xh(t,i);var x=v=s.createElement("link");ye(x),Ue(x,"link",t),x._p=new Promise(function(N,I){x.onload=N,x.onerror=I}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lu(v,e,s)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function Tg(t,e){Ni.X(t,e);var i=us;if(i&&t){var s=qi(i).hoistableScripts,h=hs(t),f=s.get(h);f||(f=i.querySelector(Co(h)),f||(t=R({src:t,async:!0},e),(e=Ln.get(h))&&Ah(t,e),f=i.createElement("script"),ye(f),Ue(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(h,f))}}function Eg(t,e){Ni.M(t,e);var i=us;if(i&&t){var s=qi(i).hoistableScripts,h=hs(t),f=s.get(h);f||(f=i.querySelector(Co(h)),f||(t=R({src:t,async:!0,type:"module"},e),(e=Ln.get(h))&&Ah(t,e),f=i.createElement("script"),ye(f),Ue(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(h,f))}}function Xm(t,e,i,s){var h=(h=rt.current)?ou(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=cs(i.href),i=qi(h).hoistableStyles,s=i.get(e),s||(s={type:"style",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=cs(i.href);var f=qi(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Oo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Ln.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ln.set(t,i),f||xg(h,t,i,v.state))),e&&s===null)throw Error(u(528,""));return v}if(e&&s!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hs(i),i=qi(h).hoistableScripts,s=i.get(e),s||(s={type:"script",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function cs(t){return'href="'+ne(t)+'"'}function Oo(t){return'link[rel="stylesheet"]['+t+"]"}function Jm(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function xg(t,e,i,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Ue(e,"link",i),ye(e),t.head.appendChild(e))}function hs(t){return'[src="'+ne(t)+'"]'}function Co(t){return"script[async]"+t}function Qm(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+ne(i.href)+'"]');if(s)return e.instance=s,ye(s),s;var h=R({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ye(s),Ue(s,"style",h),lu(s,i.precedence,t),e.instance=s;case"stylesheet":h=cs(i.href);var f=t.querySelector(Oo(h));if(f)return e.state.loading|=4,e.instance=f,ye(f),f;s=Jm(i),(h=Ln.get(h))&&xh(s,h),f=(t.ownerDocument||t).createElement("link"),ye(f);var v=f;return v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Ue(f,"link",s),e.state.loading|=4,lu(f,i.precedence,t),e.instance=f;case"script":return f=hs(i.src),(h=t.querySelector(Co(f)))?(e.instance=h,ye(h),h):(s=i,(h=Ln.get(f))&&(s=R({},i),Ah(s,h)),t=t.ownerDocument||t,h=t.createElement("script"),ye(h),Ue(h,"link",s),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,lu(s,i.precedence,t));return e.instance}function lu(t,e,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=s.length?s[s.length-1]:null,f=h,v=0;v<s.length;v++){var T=s[v];if(T.dataset.precedence===e)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function xh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var uu=null;function $m(t,e,i){if(uu===null){var s=new Map,h=uu=new Map;h.set(i,s)}else h=uu,s=h.get(i),s||(s=new Map,h.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var f=i[h];if(!(f[ka]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(e)||"";v=t+v;var T=s.get(v);T?T.push(f):s.set(v,[f])}}return s}function Wm(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Ag(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Fm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Og(t,e,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=cs(s.href),f=e.querySelector(Oo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=cu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,ye(f);return}f=e.ownerDocument||e,s=Jm(s),(h=Ln.get(h))&&xh(s,h),f=f.createElement("link"),ye(f);var v=f;v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Ue(f,"link",s),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=cu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Oh=0;function Cg(t,e){return t.stylesheets&&t.count===0&&fu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var s=setTimeout(function(){if(t.stylesheets&&fu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&Oh===0&&(Oh=62500*lg());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Oh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(h)}}:null}function cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function fu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,e.forEach(Rg,t),hu=null,cu.call(t))}function Rg(t,e){if(!(e.state.loading&4)){var i=hu.get(t);if(i)var s=i.get(null);else{i=new Map,hu.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),s=v)}s&&i.set(null,s)}h=e.instance,v=h.getAttribute("data-precedence"),f=i.get(v)||s,f===s&&i.set(null,h),i.set(v,h),this.count++,s=cu.bind(this),h.addEventListener("load",s),h.addEventListener("error",s),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var Ro={$$typeof:Y,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Lg(t,e,i,s,h,f,v,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ls(0),this.hiddenUpdates=Ls(null),this.identifierPrefix=s,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function t_(t,e,i,s,h,f,v,T,x,N,I,J){return t=new Lg(t,e,i,v,x,N,I,J,T),e=1,f===!0&&(e|=24),f=qe(3,null,null,e),t.current=f,f.stateNode=t,e=sc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:s,isDehydrated:i,cache:e},cc(f),t}function e_(t){return t?(t=wi,t):wi}function n_(t,e,i,s,h,f){h=e_(h),s.context===null?s.context=h:s.pendingContext=h,s=sa(e),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=oa(t,s,e),i!==null&&(sn(i,t,e),so(i,t,e))}function i_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Ch(t,e){i_(t,e),(t=t.alternate)&&i_(t,e)}function a_(t){if(t.tag===13||t.tag===31){var e=An(t,67108864);e!==null&&sn(e,t,67108864),Ch(t,67108864)}}function r_(t){if(t.tag===13||t.tag===31){var e=_n();e=Xe(e);var i=An(t,e);i!==null&&sn(i,t,e),Ch(t,e)}}var du=!0;function zg(t,e,i,s){var h=B.T;B.T=null;var f=tt.p;try{tt.p=2,Rh(t,e,i,s)}finally{tt.p=f,B.T=h}}function Mg(t,e,i,s){var h=B.T;B.T=null;var f=tt.p;try{tt.p=8,Rh(t,e,i,s)}finally{tt.p=f,B.T=h}}function Rh(t,e,i,s){if(du){var h=Lh(s);if(h===null)_h(t,e,s,mu,i),o_(t,s);else if(Dg(h,t,e,i,s))s.stopPropagation();else if(o_(t,s),e&4&&-1<kg.indexOf(t)){for(;h!==null;){var f=Hi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=fi(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var x=1<<31-Ge(v);T.entanglements[1]|=x,v&=~x}li(f),(qt&6)===0&&(Ql=Ie()+500,To(0))}}break;case 31:case 13:T=An(f,2),T!==null&&sn(T,f,2),Wl(),Ch(f,2)}if(f=Lh(s),f===null&&_h(t,e,s,mu,i),f===h)break;h=f}h!==null&&s.stopPropagation()}else _h(t,e,s,null,i)}}function Lh(t){return t=Ba(t),zh(t)}var mu=null;function zh(t){if(mu=null,t=_i(t),t!==null){var e=_(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=p(e),t!==null)return t;t=null}else if(i===31){if(t=b(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return mu=t,null}function s_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ju()){case xr:return 2;case Cs:return 8;case Oa:case Uu:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var Mh=!1,va=null,ya=null,ba=null,Lo=new Map,zo=new Map,wa=[],kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(t,e){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Lo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(e.pointerId)}}function Mo(t,e,i,s,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:f,targetContainers:[h]},e!==null&&(e=Hi(e),e!==null&&a_(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function Dg(t,e,i,s,h){switch(e){case"focusin":return va=Mo(va,t,e,i,s,h),!0;case"dragenter":return ya=Mo(ya,t,e,i,s,h),!0;case"mouseover":return ba=Mo(ba,t,e,i,s,h),!0;case"pointerover":var f=h.pointerId;return Lo.set(f,Mo(Lo.get(f)||null,t,e,i,s,h)),!0;case"gotpointercapture":return f=h.pointerId,zo.set(f,Mo(zo.get(f)||null,t,e,i,s,h)),!0}return!1}function l_(t){var e=_i(t.target);if(e!==null){var i=_(e);if(i!==null){if(e=i.tag,e===13){if(e=p(i),e!==null){t.blockedOn=e,Ms(t.priority,function(){r_(i)});return}}else if(e===31){if(e=b(i),e!==null){t.blockedOn=e,Ms(t.priority,function(){r_(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Lh(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);Lr=s,i.target.dispatchEvent(s),Lr=null}else return e=Hi(i),e!==null&&a_(e),t.blockedOn=i,!1;e.shift()}return!0}function u_(t,e,i){_u(t)&&i.delete(e)}function Ng(){Mh=!1,va!==null&&_u(va)&&(va=null),ya!==null&&_u(ya)&&(ya=null),ba!==null&&_u(ba)&&(ba=null),Lo.forEach(u_),zo.forEach(u_)}function pu(t,e){t.blockedOn===e&&(t.blockedOn=null,Mh||(Mh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Ng)))}var gu=null;function c_(t){gu!==t&&(gu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var e=0;e<t.length;e+=3){var i=t[e],s=t[e+1],h=t[e+2];if(typeof s!="function"){if(zh(s||i)===null)continue;break}var f=Hi(i);f!==null&&(t.splice(e,3),e-=3,Lc(f,{pending:!0,data:h,method:i.method,action:s},s,h))}}))}function fs(t){function e(x){return pu(x,t)}va!==null&&pu(va,t),ya!==null&&pu(ya,t),ba!==null&&pu(ba,t),Lo.forEach(e),zo.forEach(e);for(var i=0;i<wa.length;i++){var s=wa[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<wa.length&&(i=wa[0],i.blockedOn===null);)l_(i),i.blockedOn===null&&wa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var h=i[s],f=i[s+1],v=h[Re]||null;if(typeof f=="function")v||c_(i);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Re]||null)T=v.formAction;else if(zh(h)!==null)continue}else T=v.action;typeof T=="function"?i[s+1]=T:(i.splice(s,3),s-=3),c_(i)}}}function h_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function e(){h!==null&&(h(),h=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),h!==null&&(h(),h=null)}}}function kh(t){this._internalRoot=t}vu.prototype.render=kh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,s=_n();n_(i,s,t,e,null,null)},vu.prototype.unmount=kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;n_(t.current,2,null,t,null,null),Wl(),e[mi]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var e=zs();t={blockedOn:null,target:t,priority:e};for(var i=0;i<wa.length&&e!==0&&e<wa[i].priority;i++);wa.splice(i,0,t),i===0&&l_(t)}};var f_=a.version;if(f_!=="19.2.3")throw Error(u(527,f_,"19.2.3"));tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=S(e),t=t!==null?C(t):null,t=t===null?null:t.stateNode,t};var jg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Pi=yu.inject(jg),ke=yu}catch{}}return Do.createRoot=function(t,e){if(!d(t))throw Error(u(299));var i=!1,s="",h=yd,f=bd,v=wd;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=t_(t,1,!1,null,null,i,s,null,h,f,v,h_),t[mi]=e.current,mh(t),new kh(e)},Do.hydrateRoot=function(t,e,i){if(!d(t))throw Error(u(299));var s=!1,h="",f=yd,v=bd,T=wd,x=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(x=i.formState)),e=t_(t,1,!0,e,i??null,s,h,x,f,v,T,h_),e.context=e_(null),i=e.current,s=_n(),s=Xe(s),h=sa(s),h.callback=null,oa(i,h,s),i=s,e.current.lanes=i,di(e,i),li(e),t[mi]=e.current,mh(t),new vu(e)},Do.version="19.2.3",Do}var S_;function Vg(){if(S_)return jh.exports;S_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),jh.exports=Gg(),jh.exports}var Kg=Vg();function W_(l,a){const o=_t.useRef(a);_t.useEffect(function(){a!==o.current&&l.attributionControl!=null&&(o.current!=null&&l.attributionControl.removeAttribution(o.current),a!=null&&l.attributionControl.addAttribution(a)),o.current=a},[l,a])}function Yg(l,a,o){a.center!==o.center&&l.setLatLng(a.center),a.radius!=null&&a.radius!==o.radius&&l.setRadius(a.radius)}var Xg=$_();const Jg=1;function Qg(l){return Object.freeze({__version:Jg,map:l})}function F_(l,a){return Object.freeze({...l,...a})}const hf=_t.createContext(null);function Cu(){const l=_t.use(hf);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function tp(l){function a(o,u){const{instance:d,context:_}=l(o).current;_t.useImperativeHandle(u,()=>d);const{children:p}=o;return p==null?null:Kn.createElement(hf,{value:_},p)}return _t.forwardRef(a)}function $g(l){function a(o,u){const[d,_]=_t.useState(!1),{instance:p}=l(o,_).current;_t.useImperativeHandle(u,()=>p),_t.useEffect(function(){d&&p.update()},[p,d,o.children]);const b=p._contentNode;return b?Xg.createPortal(o.children,b):null}return _t.forwardRef(a)}function Wg(l){function a(o,u){const{instance:d}=l(o).current;return _t.useImperativeHandle(u,()=>d),null}return _t.forwardRef(a)}function ff(l,a){const o=_t.useRef(void 0);_t.useEffect(function(){return a!=null&&l.instance.on(a),o.current=a,function(){o.current!=null&&l.instance.off(o.current),o.current=null}},[l,a])}function Ru(l,a){const o=l.pane??a.pane;return o?{...l,pane:o}:l}function Fg(l,a){return function(u,d){const _=Cu(),p=l(Ru(u,_),_);return W_(_.map,u.attribution),ff(p.current,u.eventHandlers),a(p.current,_,u,d),p}}var No={exports:{}};var tv=No.exports,T_;function ev(){return T_||(T_=1,(function(l,a){(function(o,u){u(a)})(tv,(function(o){var u="1.9.4";function d(n){var r,c,m,g;for(c=1,m=arguments.length;c<m;c++){g=arguments[c];for(r in g)n[r]=g[r]}return n}var _=Object.create||(function(){function n(){}return function(r){return n.prototype=r,new n}})();function p(n,r){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(r,m.length?m.concat(c.call(arguments)):arguments)}}var b=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++b),n._leaflet_id}function S(n,r,c){var m,g,w,E;return E=function(){m=!1,g&&(w.apply(c,g),g=!1)},w=function(){m?g=arguments:(n.apply(c,arguments),setTimeout(E,r),m=!0)},w}function C(n,r,c){var m=r[1],g=r[0],w=m-g;return n===m&&c?n:((n-g)%w+w)%w+g}function R(){return!1}function k(n,r){if(r===!1)return n;var c=Math.pow(10,r===void 0?6:r);return Math.round(n*c)/c}function q(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function V(n){return q(n).split(/\s+/)}function P(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?_(n.options):{});for(var c in r)n.options[c]=r[c];return n.options}function Q(n,r,c){var m=[];for(var g in n)m.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!r||r.indexOf("?")===-1?"?":"&")+m.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function it(n,r){return n.replace(W,function(c,m){var g=r[m];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(r)),g})}var Y=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function dt(n,r){for(var c=0;c<n.length;c++)if(n[c]===r)return c;return-1}var zt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var ot=0;function Kt(n){var r=+new Date,c=Math.max(0,16-(r-ot));return ot=r+c,window.setTimeout(n,c)}var Wt=window.requestAnimationFrame||mt("RequestAnimationFrame")||Kt,yn=window.cancelAnimationFrame||mt("CancelAnimationFrame")||mt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Yt(n,r,c){if(c&&Wt===Kt)n.call(r);else return Wt.call(window,p(n,r))}function It(n){n&&yn.call(window,n)}var zn={__proto__:null,extend:d,create:_,bind:p,get lastId(){return b},stamp:y,throttle:S,wrapNum:C,falseFn:R,formatNum:k,trim:q,splitWords:V,setOptions:P,getParamString:Q,template:it,isArray:Y,indexOf:dt,emptyImageUrl:zt,requestFn:Wt,cancelFn:yn,requestAnimFrame:Yt,cancelAnimFrame:It};function _e(){}_e.extend=function(n){var r=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=r.__super__=this.prototype,m=_(c);m.constructor=r,r.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(r[g]=this[g]);return n.statics&&d(r,n.statics),n.includes&&(Nt(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?_(c.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,E=m._initHooks.length;w<E;w++)m._initHooks[w].call(this)}},r},_e.include=function(n){var r=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},_e.mergeOptions=function(n){return d(this.prototype.options,n),this},_e.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Nt(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=Y(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var B={on:function(n,r,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],r);else{n=V(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],r,c)}return this},off:function(n,r,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],r);else{n=V(n);for(var g=arguments.length===1,w=0,E=n.length;w<E;w++)g?this._off(n[w]):this._off(n[w],r,c)}return this},_on:function(n,r,c,m){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,c)===!1){c===this&&(c=void 0);var g={fn:r,ctx:c};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,r,c){var m,g,w;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,w=m.length;g<w;g++)m[g].fn=R;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var E=this._listens(n,r,c);if(E!==!1){var M=m[E];this._firingCount&&(M.fn=R,this._events[n]=m=m.slice()),m.splice(E,1)}}},fire:function(n,r,c){if(!this.listens(n,c))return this;var m=d({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var w=0,E=g.length;w<E;w++){var M=g[w],j=M.fn;M.once&&this.off(n,j,M.ctx),j.call(M.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,r,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=r;typeof r!="function"&&(m=!!r,g=void 0,c=void 0);var w=this._events&&this._events[n];if(w&&w.length&&this._listens(n,g,c)!==!1)return!0;if(m){for(var E in this._eventParents)if(this._eventParents[E].listens(n,r,c,m))return!0}return!1},_listens:function(n,r,c){if(!this._events)return!1;var m=this._events[n]||[];if(!r)return!!m.length;c===this&&(c=void 0);for(var g=0,w=m.length;g<w;g++)if(m[g].fn===r&&m[g].ctx===c)return g;return!1},once:function(n,r,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],r,!0);else{n=V(n);for(var g=0,w=n.length;g<w;g++)this._on(n[g],r,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var tt=_e.extend(B);function $(n,r,c){this.x=c?Math.round(n):n,this.y=c?Math.round(r):r}var Ht=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(n){return this.clone()._add(at(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(at(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new $(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new $(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ht(this.x),this.y=Ht(this.y),this},distanceTo:function(n){n=at(n);var r=n.x-this.x,c=n.y-this.y;return Math.sqrt(r*r+c*c)},equals:function(n){return n=at(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=at(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function at(n,r,c){return n instanceof $?n:Y(n)?new $(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new $(n.x,n.y):new $(n,r,c)}function A(n,r){if(n)for(var c=r?[n,r]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}A.prototype={extend:function(n){var r,c;if(!n)return this;if(n instanceof $||typeof n[0]=="number"||"x"in n)r=c=at(n);else if(n=Z(n),r=n.min,c=n.max,!r||!c)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=c.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return at((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return at(this.min.x,this.max.y)},getTopRight:function(){return at(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,c;return typeof n[0]=="number"||n instanceof $?n=at(n):n=Z(n),n instanceof A?(r=n.min,c=n.max):r=c=n,r.x>=this.min.x&&c.x<=this.max.x&&r.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=Z(n);var r=this.min,c=this.max,m=n.min,g=n.max,w=g.x>=r.x&&m.x<=c.x,E=g.y>=r.y&&m.y<=c.y;return w&&E},overlaps:function(n){n=Z(n);var r=this.min,c=this.max,m=n.min,g=n.max,w=g.x>r.x&&m.x<c.x,E=g.y>r.y&&m.y<c.y;return w&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,c=this.max,m=Math.abs(r.x-c.x)*n,g=Math.abs(r.y-c.y)*n;return Z(at(r.x-m,r.y-g),at(c.x+m,c.y+g))},equals:function(n){return n?(n=Z(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Z(n,r){return!n||n instanceof A?n:new A(n,r)}function F(n,r){if(n)for(var c=r?[n,r]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}F.prototype={extend:function(n){var r=this._southWest,c=this._northEast,m,g;if(n instanceof st)m=n,g=n;else if(n instanceof F){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(rt(n)||et(n)):this;return!r&&!c?(this._southWest=new st(m.lat,m.lng),this._northEast=new st(g.lat,g.lng)):(r.lat=Math.min(m.lat,r.lat),r.lng=Math.min(m.lng,r.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var r=this._southWest,c=this._northEast,m=Math.abs(r.lat-c.lat)*n,g=Math.abs(r.lng-c.lng)*n;return new F(new st(r.lat-m,r.lng-g),new st(c.lat+m,c.lng+g))},getCenter:function(){return new st((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new st(this.getNorth(),this.getWest())},getSouthEast:function(){return new st(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof st||"lat"in n?n=rt(n):n=et(n);var r=this._southWest,c=this._northEast,m,g;return n instanceof F?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=r.lat&&g.lat<=c.lat&&m.lng>=r.lng&&g.lng<=c.lng},intersects:function(n){n=et(n);var r=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>=r.lat&&m.lat<=c.lat,E=g.lng>=r.lng&&m.lng<=c.lng;return w&&E},overlaps:function(n){n=et(n);var r=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),w=g.lat>r.lat&&m.lat<c.lat,E=g.lng>r.lng&&m.lng<c.lng;return w&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=et(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(n,r){return n instanceof F?n:new F(n,r)}function st(n,r,c){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,c!==void 0&&(this.alt=+c)}st.prototype={equals:function(n,r){if(!n)return!1;n=rt(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+k(this.lat,n)+", "+k(this.lng,n)+")"},distanceTo:function(n){return ae.distance(this,rt(n))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,c=r/Math.cos(Math.PI/180*this.lat);return et([this.lat-r,this.lng-c],[this.lat+r,this.lng+c])},clone:function(){return new st(this.lat,this.lng,this.alt)}};function rt(n,r,c){return n instanceof st?n:Y(n)&&typeof n[0]!="object"?n.length===3?new st(n[0],n[1],n[2]):n.length===2?new st(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new st(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new st(n,r,c)}var At={latLngToPoint:function(n,r){var c=this.projection.project(n),m=this.scale(r);return this.transformation._transform(c,m)},pointToLatLng:function(n,r){var c=this.scale(r),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(r.min,c),g=this.transformation.transform(r.max,c);return new A(m,g)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?C(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?C(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new st(c,r,m)},wrapLatLngBounds:function(n){var r=n.getCenter(),c=this.wrapLatLng(r),m=r.lat-c.lat,g=r.lng-c.lng;if(m===0&&g===0)return n;var w=n.getSouthWest(),E=n.getNorthEast(),M=new st(w.lat-m,w.lng-g),j=new st(E.lat-m,E.lng-g);return new F(M,j)}},ae=d({},At,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var c=Math.PI/180,m=n.lat*c,g=r.lat*c,w=Math.sin((r.lat-n.lat)*c/2),E=Math.sin((r.lng-n.lng)*c/2),M=w*w+Math.cos(m)*Math.cos(g)*E*E,j=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*j}}),re=6378137,ui={R:re,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),g=Math.sin(m*r);return new $(this.R*n.lng*r,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var r=180/Math.PI;return new st((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:(function(){var n=re*Math.PI;return new A([-n,-n],[n,n])})()};function Bi(n,r,c,m){if(Y(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=c,this._d=m}Bi.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new $((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function ci(n,r,c,m){return new Bi(n,r,c,m)}var wr=d({},ae,{code:"EPSG:3857",projection:ui,transformation:(function(){var n=.5/(Math.PI*ui.R);return ci(n,.5,-n,.5)})()}),hi=d({},wr,{code:"EPSG:900913"});function Sr(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Tr(n,r){var c="",m,g,w,E,M,j;for(m=0,w=n.length;m<w;m++){for(M=n[m],g=0,E=M.length;g<E;g++)j=M[g],c+=(g?"L":"M")+j.x+" "+j.y;c+=r?ct.svg?"z":"x":""}return c||"M0 0"}var As=document.documentElement.style,xa="ActiveXObject"in window,Os=xa&&!document.addEventListener,Er="msLaunchUri"in navigator&&!("documentMode"in document),Aa=Xe("webkit"),Ko=Xe("android"),Yo=Xe("android 2")||Xe("android 3"),Ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ju=Ko&&Xe("Google")&&Ie<537&&!("AudioNode"in window),xr=!!window.opera,Cs=!Er&&Xe("chrome"),Oa=Xe("gecko")&&!Aa&&!xr&&!xa,Uu=!Cs&&Xe("safari"),Rs=Xe("phantom"),Xo="OTransition"in As,Bu=navigator.platform.indexOf("Win")===0,Pi=xa&&"transition"in As,ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yo,Mn="MozPerspective"in As,Ge=!window.L_DISABLE_3D&&(Pi||ke||Mn)&&!Xo&&!Rs,Ca=typeof orientation<"u"||Xe("mobile"),Pu=Ca&&Aa,Hu=Ca&&ke,Ra=!window.PointerEvent&&window.MSPointerEvent,La=!!(window.PointerEvent||Ra),za="ontouchstart"in window||!!window.TouchEvent,fi=!window.L_NO_TOUCH&&(za||La),Ar=Ca&&xr,Ma=Ca&&Oa,qu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jo=(function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",R,r),window.removeEventListener("testPassiveEventSupport",R,r)}catch{}return n})(),Ls=(function(){return!!document.createElement("canvas").getContext})(),di=!!(document.createElementNS&&Sr("svg").createSVGRect),Zu=!!di&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Qo=!di&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),$o=navigator.platform.indexOf("Mac")===0,Wo=navigator.platform.indexOf("Linux")===0;function Xe(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ct={ie:xa,ielt9:Os,edge:Er,webkit:Aa,android:Ko,android23:Yo,androidStock:ju,opera:xr,chrome:Cs,gecko:Oa,safari:Uu,phantom:Rs,opera12:Xo,win:Bu,ie3d:Pi,webkit3d:ke,gecko3d:Mn,any3d:Ge,mobile:Ca,mobileWebkit:Pu,mobileWebkit3d:Hu,msPointer:Ra,pointer:La,touch:fi,touchNative:za,mobileOpera:Ar,mobileGecko:Ma,retina:qu,passiveEvents:Jo,canvas:Ls,svg:di,vml:Qo,inlineSvg:Zu,mac:$o,linux:Wo},zs=ct.msPointer?"MSPointerDown":"pointerdown",Ms=ct.msPointer?"MSPointerMove":"pointermove",kn=ct.msPointer?"MSPointerUp":"pointerup",ve=ct.msPointer?"MSPointerCancel":"pointercancel",Re={touchstart:zs,touchmove:Ms,touchend:kn,touchcancel:ve},mi={touchstart:qi,touchmove:Xn,touchend:Xn,touchcancel:Xn},Yn={},Fo=!1;function Iu(n,r,c){return r==="touchstart"&&Hi(),mi[r]?(c=mi[r].bind(this,c),n.addEventListener(Re[r],c,!1),c):(console.warn("wrong event specified:",r),R)}function tl(n,r,c){if(!Re[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(Re[r],c,!1)}function ka(n){Yn[n.pointerId]=n}function ks(n){Yn[n.pointerId]&&(Yn[n.pointerId]=n)}function _i(n){delete Yn[n.pointerId]}function Hi(){Fo||(document.addEventListener(zs,ka,!0),document.addEventListener(Ms,ks,!0),document.addEventListener(kn,_i,!0),document.addEventListener(ve,_i,!0),Fo=!0)}function Xn(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var c in Yn)r.touches.push(Yn[c]);r.changedTouches=[r],n(r)}}function qi(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&ce(r),Xn(n,r)}function ye(n){var r={},c,m;for(m in n)c=n[m],r[m]=c&&c.bind?c.bind(n):c;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var el=200;function nl(n,r){n.addEventListener("dblclick",r);var c=0,m;function g(w){if(w.detail!==1){m=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var E=Ha(w);if(!(E.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!E.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var M=Date.now();M-c<=el?(m++,m===2&&r(ye(w))):m=1,c=M}}}return n.addEventListener("click",g),{dblclick:r,simDblclick:g}}function pi(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Jn=ja(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Da=ja(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ds=Da==="webkitTransition"||Da==="OTransition"?Da+"End":"transitionend";function Ns(n){return typeof n=="string"?document.getElementById(n):n}function Na(n,r){var c=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[r]:null}return c==="auto"?null:c}function Ot(n,r,c){var m=document.createElement(n);return m.className=r||"",c&&c.appendChild(m),m}function Xt(n){var r=n.parentNode;r&&r.removeChild(n)}function Je(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function xe(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function gi(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function js(n,r){if(n.classList!==void 0)return n.classList.contains(r);var c=Or(n);return c.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(c)}function wt(n,r){if(n.classList!==void 0)for(var c=V(r),m=0,g=c.length;m<g;m++)n.classList.add(c[m]);else if(!js(n,r)){var w=Or(n);Zi(n,(w?w+" ":"")+r)}}function se(n,r){n.classList!==void 0?n.classList.remove(r):Zi(n,q((" "+Or(n)+" ").replace(" "+r+" "," ")))}function Zi(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Or(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ne(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&Us(n,r)}function Us(n,r){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(r===1)return}r=Math.round(r*100),c?(c.Enabled=r!==100,c.Opacity=r):n.style.filter+=" progid:"+m+"(opacity="+r+")"}function ja(n){for(var r=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in r)return n[c];return!1}function Dn(n,r,c){var m=r||new $(0,0);n.style[Jn]=(ct.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function Ft(n,r){n._leaflet_pos=r,ct.any3d?Dn(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Qn(n){return n._leaflet_pos||new $(0,0)}var Ii,bn,Bs;if("onselectstart"in document)Ii=function(){bt(window,"selectstart",ce)},bn=function(){Zt(window,"selectstart",ce)};else{var Gi=ja(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ii=function(){if(Gi){var n=document.documentElement.style;Bs=n[Gi],n[Gi]="none"}},bn=function(){Gi&&(document.documentElement.style[Gi]=Bs,Bs=void 0)}}function Cr(){bt(window,"dragstart",ce)}function Ua(){Zt(window,"dragstart",ce)}var Rr,Ps;function Vi(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Qe(),Rr=n,Ps=n.style.outlineStyle,n.style.outlineStyle="none",bt(window,"keydown",Qe))}function Qe(){Rr&&(Rr.style.outlineStyle=Ps,Rr=void 0,Ps=void 0,Zt(window,"keydown",Qe))}function Lr(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ba(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var Ki={__proto__:null,TRANSFORM:Jn,TRANSITION:Da,TRANSITION_END:Ds,get:Ns,getStyle:Na,create:Ot,remove:Xt,empty:Je,toFront:xe,toBack:gi,hasClass:js,addClass:wt,removeClass:se,setClass:Zi,getClass:Or,setOpacity:ne,testProp:ja,setTransform:Dn,setPosition:Ft,getPosition:Qn,get disableTextSelection(){return Ii},get enableTextSelection(){return bn},disableImageDrag:Cr,enableImageDrag:Ua,preventOutline:Vi,restoreOutline:Qe,getSizedParentNode:Lr,getScale:Ba};function bt(n,r,c,m){if(r&&typeof r=="object")for(var g in r)ln(n,g,r[g],c);else{r=V(r);for(var w=0,E=r.length;w<E;w++)ln(n,r[w],c,m)}return this}var on="_leaflet_events";function Zt(n,r,c,m){if(arguments.length===1)Hs(n),delete n[on];else if(r&&typeof r=="object")for(var g in r)Pa(n,g,r[g],c);else if(r=V(r),arguments.length===2)Hs(n,function(M){return dt(r,M)!==-1});else for(var w=0,E=r.length;w<E;w++)Pa(n,r[w],c,m);return this}function Hs(n,r){for(var c in n[on]){var m=c.split(/\d/)[0];(!r||r(m))&&Pa(n,m,null,null,c)}}var vi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ln(n,r,c,m){var g=r+y(c)+(m?"_"+y(m):"");if(n[on]&&n[on][g])return this;var w=function(M){return c.call(m||n,M||window.event)},E=w;!ct.touchNative&&ct.pointer&&r.indexOf("touch")===0?w=Iu(n,r,w):ct.touch&&r==="dblclick"?w=nl(n,w):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(vi[r]||r,w,ct.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(w=function(M){M=M||window.event,Nn(n,M)&&E(M)},n.addEventListener(vi[r],w,!1)):n.addEventListener(r,E,!1):n.attachEvent("on"+r,w),n[on]=n[on]||{},n[on][g]=w}function Pa(n,r,c,m,g){g=g||r+y(c)+(m?"_"+y(m):"");var w=n[on]&&n[on][g];if(!w)return this;!ct.touchNative&&ct.pointer&&r.indexOf("touch")===0?tl(n,r,w):ct.touch&&r==="dblclick"?pi(n,w):"removeEventListener"in n?n.removeEventListener(vi[r]||r,w,!1):n.detachEvent("on"+r,w),n[on][g]=null}function un(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function wn(n){return ln(n,"wheel",un),this}function yi(n){return bt(n,"mousedown touchstart dblclick contextmenu",un),n._leaflet_disable_click=!0,this}function ce(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function $n(n){return ce(n),un(n),this}function Ha(n){if(n.composedPath)return n.composedPath();for(var r=[],c=n.target;c;)r.push(c),c=c.parentNode;return r}function qa(n,r){if(!r)return new $(n.clientX,n.clientY);var c=Ba(r),m=c.boundingClientRect;return new $((n.clientX-m.left)/c.x-r.clientLeft,(n.clientY-m.top)/c.y-r.clientTop)}var il=ct.linux&&ct.chrome?window.devicePixelRatio:ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function De(n){return ct.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/il:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Nn(n,r){var c=r.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var zr={__proto__:null,on:bt,off:Zt,stopPropagation:un,disableScrollPropagation:wn,disableClickPropagation:yi,preventDefault:ce,stop:$n,getPropagationPath:Ha,getMousePosition:qa,getWheelDelta:De,isExternalTarget:Nn,addListener:bt,removeListener:Zt},Yi=tt.extend({run:function(n,r,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Qn(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Yt(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,c=this._duration*1e3;r<c?this._runFrame(this._easeOut(r/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var c=this._startPos.add(this._offset.multiplyBy(n));r&&c._round(),Ft(this._el,c),this.fire("step")},_complete:function(){It(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Mt=tt.extend({options:{crs:wr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=P(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(rt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Da&&ct.any3d&&!ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bt(this._proxy,Ds,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,c){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(rt(n),r,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=d({animate:c.animate},c.zoom),c.pan=d({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,c){var m=this.getZoomScale(r),g=this.getSize().divideBy(2),w=n instanceof $?n:this.latLngToContainerPoint(n),E=w.subtract(g).multiplyBy(1-1/m),M=this.containerPointToLatLng(g.add(E));return this.setView(M,r,{zoom:c})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():et(n);var c=at(r.paddingTopLeft||r.padding||[0,0]),m=at(r.paddingBottomRight||r.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(m));if(g=typeof r.maxZoom=="number"?Math.min(r.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var w=m.subtract(c).divideBy(2),E=this.project(n.getSouthWest(),g),M=this.project(n.getNorthEast(),g),j=this.unproject(E.add(M).divideBy(2).add(w),g);return{center:j,zoom:g}},fitBounds:function(n,r){if(n=et(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,r);return this.setView(c.center,c.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=at(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,c){if(c=c||{},c.animate===!1||!ct.any3d)return this.setView(n,r,c);this._stop();var m=this.project(this.getCenter()),g=this.project(n),w=this.getSize(),E=this._zoom;n=rt(n),r=r===void 0?E:r;var M=Math.max(w.x,w.y),j=M*this.getZoomScale(E,r),X=g.distanceTo(m)||1,nt=1.42,ht=nt*nt;function Et(le){var Pn=le?-1:1,Ti=le?j:M,eo=j*j-M*M+Pn*ht*ht*X*X,ir=2*Ti*ht*X,ar=eo/ir,si=Math.sqrt(ar*ar+1)-ar,Hn=si<1e-9?-18:Math.log(si);return Hn}function Ae(le){return(Math.exp(le)-Math.exp(-le))/2}function he(le){return(Math.exp(le)+Math.exp(-le))/2}function Ke(le){return Ae(le)/he(le)}var jt=Et(0);function Ut(le){return M*(he(jt)/he(jt+nt*le))}function Ct(le){return M*(he(jt)*Ke(jt+nt*le)-Ae(jt))/ht}function ai(le){return 1-Math.pow(1-le,1.5)}var tn=Date.now(),Vr=(Et(1)-jt)/nt,ri=c.duration?1e3*c.duration:1e3*Vr*.8;function to(){var le=(Date.now()-tn)/ri,Pn=ai(le)*Vr;le<=1?(this._flyToFrame=Yt(to,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Ct(Pn)/X)),E),this.getScaleZoom(M/Ut(Pn),E),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),to.call(this),this},flyToBounds:function(n,r){var c=this._getBoundsCenterZoom(n,r);return this.flyTo(c.center,c.zoom,r)},setMaxBounds:function(n){return n=et(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,et(n));return c.equals(m)||this.panTo(m,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var c=at(r.paddingTopLeft||r.padding||[0,0]),m=at(r.paddingBottomRight||r.padding||[0,0]),g=this.project(this.getCenter()),w=this.project(n),E=this.getPixelBounds(),M=Z([E.min.add(c),E.max.subtract(m)]),j=M.getSize();if(!M.contains(w)){this._enforcingBounds=!0;var X=w.subtract(M.getCenter()),nt=M.extend(w).getSize().subtract(j);g.x+=X.x<0?-nt.x:nt.x,g.y+=X.y<0?-nt.y:nt.y,this.panTo(this.unproject(g),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=r.divideBy(2).round(),g=c.divideBy(2).round(),w=m.subtract(g);return!w.x&&!w.y?this:(n.animate&&n.pan?this.panBy(w):(n.pan&&this._rawPanBy(w),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=p(this._handleGeolocationResponse,this),c=p(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,c,n):navigator.geolocation.getCurrentPosition(r,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,c=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,c=n.coords.longitude,m=new st(r,c),g=m.toBounds(n.coords.accuracy*2),w=this._locateOptions;if(w.setView){var E=this.getBoundsZoom(g);this.setView(m,w.maxZoom?Math.min(E,w.maxZoom):E)}var M={latlng:m,bounds:g,timestamp:n.timestamp};for(var j in n.coords)typeof n.coords[j]=="number"&&(M[j]=n.coords[j]);this.fire("locationfound",M)}},addHandler:function(n,r){if(!r)return this;var c=this[n]=new r(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(It(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Xt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Ot("div",c,r||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new F(r,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,c){n=et(n),c=at(c||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),w=this.getMaxZoom(),E=n.getNorthWest(),M=n.getSouthEast(),j=this.getSize().subtract(c),X=Z(this.project(M,m),this.project(E,m)).getSize(),nt=ct.any3d?this.options.zoomSnap:1,ht=j.x/X.x,Et=j.y/X.y,Ae=r?Math.max(ht,Et):Math.min(ht,Et);return m=this.getScaleZoom(Ae,m),nt&&(m=Math.round(m/(nt/100))*(nt/100),m=r?Math.ceil(m/nt)*nt:Math.floor(m/nt)*nt),Math.max(g,Math.min(w,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var c=this._getTopLeftPoint(n,r);return new A(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var c=this.options.crs;return r=r===void 0?this._zoom:r,c.scale(n)/c.scale(r)},getScaleZoom:function(n,r){var c=this.options.crs;r=r===void 0?this._zoom:r;var m=c.zoom(n*c.scale(r));return isNaN(m)?1/0:m},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(rt(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(at(n),r)},layerPointToLatLng:function(n){var r=at(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(rt(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(rt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(et(n))},distance:function(n,r){return this.options.crs.distance(rt(n),rt(r))},containerPointToLayerPoint:function(n){return at(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return at(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(at(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(rt(n)))},mouseEventToContainerPoint:function(n){return qa(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=Ns(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");bt(r,"scroll",this._onScroll,this),this._containerId=y(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ct.any3d,wt(n,"leaflet-container"+(ct.touch?" leaflet-touch":"")+(ct.retina?" leaflet-retina":"")+(ct.ielt9?" leaflet-oldie":"")+(ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Na(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(n.markerPane,"leaflet-zoom-hide"),wt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,c){Ft(this._mapPane,new $(0,0));var m=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var g=this._zoom!==r;this._moveStart(g,c)._move(n,r)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,c,m){r===void 0&&(r=this._zoom);var g=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return It(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ft(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var r=n?Zt:bt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),ct.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){It(this._resizeRequest),this._resizeRequest=Yt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var c=[],m,g=r==="mouseout"||r==="mouseover",w=n.target||n.srcElement,E=!1;w;){if(m=this._targets[y(w)],m&&(r==="click"||r==="preclick")&&this._draggableMoved(m)){E=!0;break}if(m&&m.listens(r,!0)&&(g&&!Nn(w,n)||(c.push(m),g))||w===this._container)break;w=w.parentNode}return!c.length&&!E&&!g&&this.listens(r,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var c=n.type;c==="mousedown"&&Vi(r),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,c){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var g=this._findEventTargets(n,r);if(c){for(var w=[],E=0;E<c.length;E++)c[E].listens(r,!0)&&w.push(c[E]);g=w.concat(g)}if(g.length){r==="contextmenu"&&ce(n);var M=g[0],j={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var X=M.getLatLng&&(!M._radius||M._radius<=10);j.containerPoint=X?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(n),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=X?M.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(E=0;E<g.length;E++)if(g[E].fire(r,j,!0),j.originalEvent._stopped||g[E].options.bubblingMouseEvents===!1&&dt(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Qn(this._mapPane)||new $(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var c=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var c=this.getSize()._divideBy(2);return this.project(n,r)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,c){var m=this._getNewPixelOrigin(c,r);return this.project(n,r)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,r,c){var m=this._getNewPixelOrigin(c,r);return Z([this.project(n.getSouthWest(),r)._subtract(m),this.project(n.getNorthWest(),r)._subtract(m),this.project(n.getSouthEast(),r)._subtract(m),this.project(n.getNorthEast(),r)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,c){if(!c)return n;var m=this.project(n,r),g=this.getSize().divideBy(2),w=new A(m.subtract(g),m.add(g)),E=this._getBoundsOffset(w,c,r);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?n:this.unproject(m.add(E),r)},_limitOffset:function(n,r){if(!r)return n;var c=this.getPixelBounds(),m=new A(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,r))},_getBoundsOffset:function(n,r,c){var m=Z(this.project(r.getNorthEast(),c),this.project(r.getSouthWest(),c)),g=m.min.subtract(n.min),w=m.max.subtract(n.max),E=this._rebound(g.x,-w.x),M=this._rebound(g.y,-w.y);return new $(E,M)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),c=this.getMaxZoom(),m=ct.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(r,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var c=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,r),!0)},_createAnimProxy:function(){var n=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var c=Jn,m=this._proxy.style[c];Dn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Dn(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(r),g=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(g)?!1:(Yt(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qs(n,r){return new Mt(n,r)}var Ve=_e.extend({options:{position:"topright"},initialize:function(n){P(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return wt(r,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(r,m.firstChild):m.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),jn=function(n){return new Ve(n)};Mt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",c=this._controlContainer=Ot("div",r+"control-container",this._container);function m(g,w){var E=r+g+" "+r+w;n[g+w]=Ot("div",E,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Xt(this._controlCorners[n]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Za=Ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,r,c){P(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in r)this._addLayer(r[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Ve.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(y(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=Ot("div",n),c=this.options.collapsed;r.setAttribute("aria-haspopup",!0),yi(r),wn(r);var m=this._section=Ot("section",n+"-list");c&&(this._map.on("click",this.collapse,this),bt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Ot("a",n+"-toggle",r);g.href="#",g.title="Layers",g.setAttribute("role","button"),bt(g,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){ce(w),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ot("div",n+"-base",m),this._separator=Ot("div",n+"-separator",m),this._overlaysList=Ot("div",n+"-overlays",m),r.appendChild(m)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&y(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:c}),this.options.sortLayers&&this._layers.sort(p(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Je(this._baseLayersList),Je(this._overlaysList),this._layerControlInputs=[];var n,r,c,m,g=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),r=r||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(y(n.target)),c=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,r)},_createRadioElement:function(n,r){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var r=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(n.layer),bt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var w=document.createElement("span");r.appendChild(w),w.appendChild(m),w.appendChild(g);var E=n.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,c,m=[],g=[];this._handlingClick=!0;for(var w=n.length-1;w>=0;w--)r=n[w],c=this._getLayer(r.layerId).layer,r.checked?m.push(c):r.checked||g.push(c);for(w=0;w<g.length;w++)this._map.hasLayer(g[w])&&this._map.removeLayer(g[w]);for(w=0;w<m.length;w++)this._map.hasLayer(m[w])||this._map.addLayer(m[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,c,m=this._map.getZoom(),g=n.length-1;g>=0;g--)r=n[g],c=this._getLayer(r.layerId).layer,r.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,bt(n,"click",ce),this.expand();var r=this;setTimeout(function(){Zt(n,"click",ce),r._preventClick=!1})}}),al=function(n,r,c){return new Za(n,r,c)},Zs=Ve.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",c=Ot("div",r+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,r+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,r+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,c,m,g){var w=Ot("a",c,m);return w.innerHTML=n,w.href="#",w.title=r,w.setAttribute("role","button"),w.setAttribute("aria-label",r),yi(w),bt(w,"click",$n),bt(w,"click",g,this),bt(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";se(this._zoomInButton,r),se(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(wt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(wt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zs,this.addControl(this.zoomControl))});var Gu=function(n){return new Zs(n)},rl=Ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",c=Ot("div",r),m=this.options;return this._addScales(m,r+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,c){n.metric&&(this._mScale=Ot("div",r,c)),n.imperial&&(this._iScale=Ot("div",r,c))},_update:function(){var n=this._map,r=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),c=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,c,r/n)},_updateImperial:function(n){var r=n*3.2808399,c,m,g;r>5280?(c=r/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(g=this._getRoundNum(r),this._updateScale(this._iScale,g+" ft",g/r))},_updateScale:function(n,r,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),c=n/r;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,r*c}}),Is=function(n){return new rl(n)},Vu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gs=Ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ct.inlineSvg?Vu+" ":"")+"Leaflet</a>"},initialize:function(n){P(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),yi(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new Gs().addTo(this)});var Ku=function(n){return new Gs(n)};Ve.Layers=Za,Ve.Zoom=Zs,Ve.Scale=rl,Ve.Attribution=Gs,jn.layers=al,jn.zoom=Gu,jn.scale=Is,jn.attribution=Ku;var Sn=_e.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sn.addTo=function(n,r){return n.addHandler(r,this),this};var Yu={Events:B},Vs=ct.touch?"touchstart mousedown":"mousedown",Wn=tt.extend({options:{clickTolerance:3},initialize:function(n,r,c,m){P(this,m),this._element=n,this._dragStartTarget=r||n,this._preventOutline=c},enable:function(){this._enabled||(bt(this._dragStartTarget,Vs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wn._dragging===this&&this.finishDrag(!0),Zt(this._dragStartTarget,Vs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!js(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Wn._dragging===this&&this.finishDrag();return}if(!(Wn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Wn._dragging=this,this._preventOutline&&Vi(this._element),Cr(),Ii(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,c=Lr(this._element);this._startPoint=new $(r.clientX,r.clientY),this._startPos=Qn(this._element),this._parentScale=Ba(c);var m=n.type==="mousedown";bt(document,m?"mousemove":"touchmove",this._onMove,this),bt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,c=new $(r.clientX,r.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ce(n),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ft(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){se(document.body,"leaflet-dragging"),this._lastTarget&&(se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zt(document,"mousemove touchmove",this._onMove,this),Zt(document,"mouseup touchend touchcancel",this._onUp,this),Ua(),bn();var r=this._moved&&this._moving;this._moving=!1,Wn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function sl(n,r,c){var m,g=[1,4,2,8],w,E,M,j,X,nt,ht,Et;for(w=0,nt=n.length;w<nt;w++)n[w]._code=bi(n[w],r);for(M=0;M<4;M++){for(ht=g[M],m=[],w=0,nt=n.length,E=nt-1;w<nt;E=w++)j=n[w],X=n[E],j._code&ht?X._code&ht||(Et=Mr(X,j,ht,r,c),Et._code=bi(Et,r),m.push(Et)):(X._code&ht&&(Et=Mr(X,j,ht,r,c),Et._code=bi(Et,r),m.push(Et)),m.push(j));n=m}return n}function ol(n,r){var c,m,g,w,E,M,j,X,nt;if(!n||n.length===0)throw new Error("latlngs not passed");$e(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ht=rt([0,0]),Et=et(n),Ae=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Ae<1700&&(ht=Ks(n));var he=n.length,Ke=[];for(c=0;c<he;c++){var jt=rt(n[c]);Ke.push(r.project(rt([jt.lat-ht.lat,jt.lng-ht.lng])))}for(M=j=X=0,c=0,m=he-1;c<he;m=c++)g=Ke[c],w=Ke[m],E=g.y*w.x-w.y*g.x,j+=(g.x+w.x)*E,X+=(g.y+w.y)*E,M+=E*3;M===0?nt=Ke[0]:nt=[j/M,X/M];var Ut=r.unproject(at(nt));return rt([Ut.lat+ht.lat,Ut.lng+ht.lng])}function Ks(n){for(var r=0,c=0,m=0,g=0;g<n.length;g++){var w=rt(n[g]);r+=w.lat,c+=w.lng,m++}return rt([r/m,c/m])}var Ys={__proto__:null,clipPolygon:sl,polygonCenter:ol,centroid:Ks};function ll(n,r){if(!r||!n.length)return n.slice();var c=r*r;return n=Ju(n,c),n=cl(n,c),n}function ul(n,r,c){return Math.sqrt(Ia(n,r,c,!0))}function Xu(n,r,c){return Ia(n,r,c)}function cl(n,r){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(c);g[0]=g[c-1]=1,Xs(n,g,r,0,c-1);var w,E=[];for(w=0;w<c;w++)g[w]&&E.push(n[w]);return E}function Xs(n,r,c,m,g){var w=0,E,M,j;for(M=m+1;M<=g-1;M++)j=Ia(n[M],n[m],n[g],!0),j>w&&(E=M,w=j);w>c&&(r[E]=1,Xs(n,r,c,m,E),Xs(n,r,c,E,g))}function Ju(n,r){for(var c=[n[0]],m=1,g=0,w=n.length;m<w;m++)Qu(n[m],n[g])>r&&(c.push(n[m]),g=m);return g<w-1&&c.push(n[w-1]),c}var hl;function fl(n,r,c,m,g){var w=m?hl:bi(n,c),E=bi(r,c),M,j,X;for(hl=E;;){if(!(w|E))return[n,r];if(w&E)return!1;M=w||E,j=Mr(n,r,M,c,g),X=bi(j,c),M===w?(n=j,w=X):(r=j,E=X)}}function Mr(n,r,c,m,g){var w=r.x-n.x,E=r.y-n.y,M=m.min,j=m.max,X,nt;return c&8?(X=n.x+w*(j.y-n.y)/E,nt=j.y):c&4?(X=n.x+w*(M.y-n.y)/E,nt=M.y):c&2?(X=j.x,nt=n.y+E*(j.x-n.x)/w):c&1&&(X=M.x,nt=n.y+E*(M.x-n.x)/w),new $(X,nt,g)}function bi(n,r){var c=0;return n.x<r.min.x?c|=1:n.x>r.max.x&&(c|=2),n.y<r.min.y?c|=4:n.y>r.max.y&&(c|=8),c}function Qu(n,r){var c=r.x-n.x,m=r.y-n.y;return c*c+m*m}function Ia(n,r,c,m){var g=r.x,w=r.y,E=c.x-g,M=c.y-w,j=E*E+M*M,X;return j>0&&(X=((n.x-g)*E+(n.y-w)*M)/j,X>1?(g=c.x,w=c.y):X>0&&(g+=E*X,w+=M*X)),E=n.x-g,M=n.y-w,m?E*E+M*M:new $(g,w)}function $e(n){return!Y(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function kr(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$e(n)}function Xi(n,r){var c,m,g,w,E,M,j,X;if(!n||n.length===0)throw new Error("latlngs not passed");$e(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var nt=rt([0,0]),ht=et(n),Et=ht.getNorthWest().distanceTo(ht.getSouthWest())*ht.getNorthEast().distanceTo(ht.getNorthWest());Et<1700&&(nt=Ks(n));var Ae=n.length,he=[];for(c=0;c<Ae;c++){var Ke=rt(n[c]);he.push(r.project(rt([Ke.lat-nt.lat,Ke.lng-nt.lng])))}for(c=0,m=0;c<Ae-1;c++)m+=he[c].distanceTo(he[c+1])/2;if(m===0)X=he[0];else for(c=0,w=0;c<Ae-1;c++)if(E=he[c],M=he[c+1],g=E.distanceTo(M),w+=g,w>m){j=(w-m)/g,X=[M.x-j*(M.x-E.x),M.y-j*(M.y-E.y)];break}var jt=r.unproject(at(X));return rt([jt.lat+nt.lat,jt.lng+nt.lng])}var $u={__proto__:null,simplify:ll,pointToSegmentDistance:ul,closestPointOnSegment:Xu,clipSegment:fl,_getEdgeIntersection:Mr,_getBitCode:bi,_sqClosestPointOnSegment:Ia,isFlat:$e,_flat:kr,polylineCenter:Xi},Dr={project:function(n){return new $(n.lng,n.lat)},unproject:function(n){return new st(n.y,n.x)},bounds:new A([-180,-90],[180,90])},Nr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,c=this.R,m=n.lat*r,g=this.R_MINOR/c,w=Math.sqrt(1-g*g),E=w*Math.sin(m),M=Math.tan(Math.PI/4-m/2)/Math.pow((1-E)/(1+E),w/2);return m=-c*Math.log(Math.max(M,1e-10)),new $(n.lng*r*c,m)},unproject:function(n){for(var r=180/Math.PI,c=this.R,m=this.R_MINOR/c,g=Math.sqrt(1-m*m),w=Math.exp(-n.y/c),E=Math.PI/2-2*Math.atan(w),M=0,j=.1,X;M<15&&Math.abs(j)>1e-7;M++)X=g*Math.sin(E),X=Math.pow((1-X)/(1+X),g/2),j=Math.PI/2-2*Math.atan(w*X)-E,E+=j;return new st(E*r,n.x*r/c)}},dl={__proto__:null,LonLat:Dr,Mercator:Nr,SphericalMercator:ui},ml=d({},ae,{code:"EPSG:3395",projection:Nr,transformation:(function(){var n=.5/(Math.PI*Nr.R);return ci(n,.5,-n,.5)})()}),Js=d({},ae,{code:"EPSG:4326",projection:Dr,transformation:ci(1/180,1,-1/180,.5)}),Ji=d({},At,{projection:Dr,transformation:ci(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var c=r.lng-n.lng,m=r.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});At.Earth=ae,At.EPSG3395=ml,At.EPSG3857=wr,At.EPSG900913=hi,At.EPSG4326=Js,At.Simple=Ji;var cn=tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var c=this.getEvents();r.on(c,this),this.once("remove",function(){r.off(c,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=y(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=y(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,r){for(var c in this._layers)n.call(r,this._layers[c]);return this},_addLayers:function(n){n=n?Y(n)?n:[n]:[];for(var r=0,c=n.length;r<c;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=y(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),r=g.maxZoom===void 0?r:Math.max(r,g.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qi=cn.extend({initialize:function(n,r){P(this,r),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var c in this._layers)n.call(r,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),Wu=function(n,r){return new Qi(n,r)},Tn=Qi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Qi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Qi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new F;for(var r in this._layers){var c=this._layers[r];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),_l=function(n,r){return new Tn(n,r)},En=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){P(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,r){var c=this.options,m=c[r+"Size"];typeof m=="number"&&(m=[m,m]);var g=at(m),w=at(r==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(c.className||""),w&&(n.style.marginLeft=-w.x+"px",n.style.marginTop=-w.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return ct.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Ga(n){return new En(n)}var Va=En.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Va.imagePath!="string"&&(Va.imagePath=this._detectIconPath()),(this.options.imagePath||Va.imagePath)+En.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(c,m,g){var w=m.exec(c);return w&&w[g]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Ot("div","leaflet-default-icon-path",document.body),r=Na(n,"background-image")||Na(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ka=Sn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Wn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,c=r._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,w=Qn(r._icon),E=c.getPixelBounds(),M=c.getPixelOrigin(),j=Z(E.min._subtract(M).add(g),E.max._subtract(M).subtract(g));if(!j.contains(w)){var X=at((Math.max(j.max.x,w.x)-j.max.x)/(E.max.x-j.max.x)-(Math.min(j.min.x,w.x)-j.min.x)/(E.min.x-j.min.x),(Math.max(j.max.y,w.y)-j.max.y)/(E.max.y-j.max.y)-(Math.min(j.min.y,w.y)-j.min.y)/(E.min.y-j.min.y)).multiplyBy(m);c.panBy(X,{animate:!1}),this._draggable._newPos._add(X),this._draggable._startPos._add(X),Ft(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Yt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(It(this._panRequest),this._panRequest=Yt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,c=r._shadow,m=Qn(r._icon),g=r._map.layerPointToLatLng(m);c&&Ft(c,m),r._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){It(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Ya=cn.extend({options:{icon:new Va,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){P(this,r),this._latlng=rt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=rt(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),wt(c,r),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),w=!1;g!==this._shadow&&(this._removeShadow(),w=!0),g&&(wt(g,r),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&w&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ft(this._icon,n),this._shadow&&Ft(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ka)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ka(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ne(this._icon,n),this._shadow&&ne(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,c=r.iconSize?at(r.iconSize):at(0,0),m=r.iconAnchor?at(r.iconAnchor):at(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pl(n,r){return new Ya(n,r)}var xn=cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return P(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$i=xn.extend({options:{fill:!0,radius:10},initialize:function(n,r){P(this,r),this._latlng=rt(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=rt(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return xn.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,c=this._clickTolerance(),m=[n+c,r+c];this._pxBounds=new A(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gl(n,r){return new $i(n,r)}var jr=$i.extend({initialize:function(n,r,c){if(typeof r=="number"&&(r=d({},c,{radius:r})),P(this,r),this._latlng=rt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:xn.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===ae.distance){var g=Math.PI/180,w=this._mRadius/ae.R/g,E=c.project([r+w,n]),M=c.project([r-w,n]),j=E.add(M).divideBy(2),X=c.unproject(j).lat,nt=Math.acos((Math.cos(w*g)-Math.sin(r*g)*Math.sin(X*g))/(Math.cos(r*g)*Math.cos(X*g)))/g;(isNaN(nt)||nt===0)&&(nt=w/Math.cos(Math.PI/180*r)),this._point=j.subtract(c.getPixelOrigin()),this._radius=isNaN(nt)?0:j.x-c.project([X,n-nt]).x,this._radiusY=j.y-E.y}else{var ht=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ht).x}this._updateBounds()}});function vl(n,r,c){return new jr(n,r,c)}var Un=xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){P(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,c=null,m=Ia,g,w,E=0,M=this._parts.length;E<M;E++)for(var j=this._parts[E],X=1,nt=j.length;X<nt;X++){g=j[X-1],w=j[X];var ht=m(n,g,w,!0);ht<r&&(r=ht,c=m(n,g,w))}return c&&(c.distance=Math.sqrt(r)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=rt(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new F,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return $e(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],c=$e(n),m=0,g=n.length;m<g;m++)c?(r[m]=rt(n[m]),this._bounds.extend(r[m])):r[m]=this._convertLatLngs(n[m]);return r},_project:function(){var n=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new $(n,n);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,c){var m=n[0]instanceof st,g=n.length,w,E;if(m){for(E=[],w=0;w<g;w++)E[w]=this._map.latLngToLayerPoint(n[w]),c.extend(E[w]);r.push(E)}else for(w=0;w<g;w++)this._projectLatlngs(n[w],r,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,c,m,g,w,E,M,j;for(c=0,g=0,w=this._rings.length;c<w;c++)for(j=this._rings[c],m=0,E=j.length;m<E-1;m++)M=fl(j[m],j[m+1],n,m,!0),M&&(r[g]=r[g]||[],r[g].push(M[0]),(M[1]!==j[m+1]||m===E-2)&&(r[g].push(M[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=ll(n[c],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var c,m,g,w,E,M,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,w=this._parts.length;c<w;c++)for(M=this._parts[c],m=0,E=M.length,g=E-1;m<E;g=m++)if(!(!r&&m===0)&&ul(n,M[g],M[m])<=j)return!0;return!1}});function Fu(n,r){return new Un(n,r)}Un._flat=kr;var Wi=Un.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ol(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Un.prototype._convertLatLngs.call(this,n),c=r.length;return c>=2&&r[0]instanceof st&&r[0].equals(r[c-1])&&r.pop(),r},_setLatLngs:function(n){Un.prototype._setLatLngs.call(this,n),$e(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $e(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,c=new $(r,r);if(n=new A(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,w;m<g;m++)w=sl(this._rings[m],n,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,c,m,g,w,E,M,j,X;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(w=0,j=this._parts.length;w<j;w++)for(c=this._parts[w],E=0,X=c.length,M=X-1;E<X;M=E++)m=c[E],g=c[M],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(r=!r);return r||Un.prototype._containsPoint.call(this,n,!0)}});function tc(n,r){return new Wi(n,r)}var Bn=Tn.extend({initialize:function(n,r){P(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=Y(n)?n:n.features,c,m,g;if(r){for(c=0,m=r.length;c<m;c++)g=r[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var w=this.options;if(w.filter&&!w.filter(n))return this;var E=Le(n,w);return E?(E.feature=Pr(n),E.defaultOptions=E.options,this.resetStyle(E),w.onEachFeature&&w.onEachFeature(n,E),this.addLayer(E)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Le(n,r){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,g=[],w=r&&r.pointToLayer,E=r&&r.coordsToLatLng||Ur,M,j,X,nt;if(!m&&!c)return null;switch(c.type){case"Point":return M=E(m),Fi(w,n,M,r);case"MultiPoint":for(X=0,nt=m.length;X<nt;X++)M=E(m[X]),g.push(Fi(w,n,M,r));return new Tn(g);case"LineString":case"MultiLineString":return j=Xa(m,c.type==="LineString"?0:1,E),new Un(j,r);case"Polygon":case"MultiPolygon":return j=Xa(m,c.type==="Polygon"?1:2,E),new Wi(j,r);case"GeometryCollection":for(X=0,nt=c.geometries.length;X<nt;X++){var ht=Le({geometry:c.geometries[X],type:"Feature",properties:n.properties},r);ht&&g.push(ht)}return new Tn(g);case"FeatureCollection":for(X=0,nt=c.features.length;X<nt;X++){var Et=Le(c.features[X],r);Et&&g.push(Et)}return new Tn(g);default:throw new Error("Invalid GeoJSON object.")}}function Fi(n,r,c,m){return n?n(r,c):new Ya(c,m&&m.markersInheritOptions&&m)}function Ur(n){return new st(n[1],n[0],n[2])}function Xa(n,r,c){for(var m=[],g=0,w=n.length,E;g<w;g++)E=r?Xa(n[g],r-1,c):(c||Ur)(n[g]),m.push(E);return m}function Br(n,r){return n=rt(n),n.alt!==void 0?[k(n.lng,r),k(n.lat,r),k(n.alt,r)]:[k(n.lng,r),k(n.lat,r)]}function Ja(n,r,c,m){for(var g=[],w=0,E=n.length;w<E;w++)g.push(r?Ja(n[w],$e(n[w])?0:r-1,c,m):Br(n[w],m));return!r&&c&&g.length>0&&g.push(g[0].slice()),g}function Fn(n,r){return n.feature?d({},n.feature,{geometry:r}):Pr(r)}function Pr(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ti={toGeoJSON:function(n){return Fn(this,{type:"Point",coordinates:Br(this.getLatLng(),n)})}};Ya.include(ti),jr.include(ti),$i.include(ti),Un.include({toGeoJSON:function(n){var r=!$e(this._latlngs),c=Ja(this._latlngs,r?1:0,!1,n);return Fn(this,{type:(r?"Multi":"")+"LineString",coordinates:c})}}),Wi.include({toGeoJSON:function(n){var r=!$e(this._latlngs),c=r&&!$e(this._latlngs[0]),m=Ja(this._latlngs,c?2:r?1:0,!0,n);return r||(m=[m]),Fn(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),Qi.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(c){r.push(c.toGeoJSON(n).geometry.coordinates)}),Fn(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var c=r==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var w=g.toGeoJSON(n);if(c)m.push(w.geometry);else{var E=Pr(w);E.type==="FeatureCollection"?m.push.apply(m,E.features):m.push(E)}}}),c?Fn(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Hr(n,r){return new Bn(n,r)}var Qa=Hr,ta=cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,c){this._url=n,this._bounds=et(r),P(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&xe(this._image),this},bringToBack:function(){return this._map&&gi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=et(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:Ot("img");if(wt(r,"leaflet-image-layer"),this._zoomAnimated&&wt(r,"leaflet-zoom-animated"),this.options.className&&wt(r,this.options.className),r.onselectstart=R,r.onmousemove=R,r.onload=p(this.fire,this,"load"),r.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Dn(this._image,c,r)},_reset:function(){var n=this._image,r=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=r.getSize();Ft(n,r.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ne(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),yl=function(n,r,c){return new ta(n,r,c)},ei=ta.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:Ot("video");if(wt(r,"leaflet-image-layer"),this._zoomAnimated&&wt(r,"leaflet-zoom-animated"),this.options.className&&wt(r,this.options.className),r.onselectstart=R,r.onmousemove=R,r.onloadeddata=p(this.fire,this,"load"),n){for(var c=r.getElementsByTagName("source"),m=[],g=0;g<c.length;g++)m.push(c[g].src);this._url=c.length>0?m:[r.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var E=Ot("source");E.src=this._url[w],r.appendChild(E)}}});function ea(n,r,c){return new ei(n,r,c)}var qr=ta.extend({_initImage:function(){var n=this._image=this._url;wt(n,"leaflet-image-layer"),this._zoomAnimated&&wt(n,"leaflet-zoom-animated"),this.options.className&&wt(n,this.options.className),n.onselectstart=R,n.onmousemove=R}});function bl(n,r,c){return new qr(n,r,c)}var ze=cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof st||Y(n))?(this._latlng=rt(n),P(this,r)):(P(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ne(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ne(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ne(this._container,0),this._removeTimeout=setTimeout(p(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=rt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xe(this._container),this},bringToBack:function(){return this._map&&gi(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof Tn){r=null;var c=this._source._layers;for(var m in c)if(c[m]._map){r=c[m];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=at(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ft(this._container,n.add(c)):r=r.add(n).add(c);var m=this._containerBottom=-r.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(n,r,c,m){var g=r;return g instanceof n||(g=new n(m).setContent(r)),c&&g.setLatLng(c),g}}),cn.include({_initOverlay:function(n,r,c,m){var g=c;return g instanceof n?(P(g,m),g._source=this):(g=r&&!m?r:new n(m,this),g.setContent(c)),g}});var $a=ze.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ze.prototype.openOn.call(this,n)},onAdd:function(n){ze.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xn||this._source.on("preclick",un))},onRemove:function(n){ze.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xn||this._source.off("preclick",un))},getEvents:function(){var n=ze.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=Ot("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ot("div",n+"-content-wrapper",r);if(this._contentNode=Ot("div",n+"-content",c),yi(r),wn(this._contentNode),bt(r,"contextmenu",un),this._tipContainer=Ot("div",n+"-tip-container",r),this._tip=Ot("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Ot("a",n+"-close-button",r);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',bt(m,"click",function(g){ce(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),r.width=c+1+"px",r.whiteSpace="",r.height="";var m=n.offsetHeight,g=this.options.maxHeight,w="leaflet-popup-scrolled";g&&m>g?(r.height=g+"px",wt(n,w)):se(n,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();Ft(this._container,r.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(Na(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+r,m=this._containerWidth,g=new $(this._containerLeft,-c-this._containerBottom);g._add(Qn(this._container));var w=n.layerPointToContainerPoint(g),E=at(this.options.autoPanPadding),M=at(this.options.autoPanPaddingTopLeft||E),j=at(this.options.autoPanPaddingBottomRight||E),X=n.getSize(),nt=0,ht=0;w.x+m+j.x>X.x&&(nt=w.x+m-X.x+j.x),w.x-nt-M.x<0&&(nt=w.x-M.x),w.y+c+j.y>X.y&&(ht=w.y+c-X.y+j.y),w.y-ht-M.y<0&&(ht=w.y-M.y),(nt||ht)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([nt,ht]))}},_getAnchor:function(){return at(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wl=function(n,r){return new $a(n,r)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(n,r,c){return this._initOverlay($a,n,r,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),cn.include({bindPopup:function(n,r){return this._popup=this._initOverlay($a,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Tn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){$n(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Wa=ze.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ze.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ze.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ze.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,c,m=this._map,g=this._container,w=m.latLngToContainerPoint(m.getCenter()),E=m.layerPointToContainerPoint(n),M=this.options.direction,j=g.offsetWidth,X=g.offsetHeight,nt=at(this.options.offset),ht=this._getAnchor();M==="top"?(r=j/2,c=X):M==="bottom"?(r=j/2,c=0):M==="center"?(r=j/2,c=X/2):M==="right"?(r=0,c=X/2):M==="left"?(r=j,c=X/2):E.x<w.x?(M="right",r=0,c=X/2):(M="left",r=j+(nt.x+ht.x)*2,c=X/2),n=n.subtract(at(r,c,!0)).add(nt).add(ht),se(g,"leaflet-tooltip-right"),se(g,"leaflet-tooltip-left"),se(g,"leaflet-tooltip-top"),se(g,"leaflet-tooltip-bottom"),wt(g,"leaflet-tooltip-"+M),Ft(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ne(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return at(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ec=function(n,r){return new Wa(n,r)};Mt.include({openTooltip:function(n,r,c){return this._initOverlay(Wa,n,r,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),cn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wa,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[r](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Tn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(bt(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),bt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),r=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(r)}});var Sl=En.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Je(r),r.appendChild(c.html)):r.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=at(c.bgPos);r.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function nc(n){return new Sl(n)}En.Default=Va;var na=cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){P(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Xt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof $?n:new $(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,c=-n(-1/0,1/0),m=0,g=r.length,w;m<g;m++)w=r[m].style.zIndex,r[m]!==this._container&&w&&(c=n(c,+w));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ct.ielt9){ne(this._container,this.options.opacity);var n=+new Date,r=!1,c=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var w=Math.min(1,(n-g.loaded)/200);ne(g.el,w),w<1?r=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),r&&(It(this._fadeFrame),this._fadeFrame=Yt(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=r-Math.abs(n-c),this._onUpdateLevel(c)):(Xt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=r,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),R(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var n,r,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var m=r.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Xt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,c,m){var g=Math.floor(n/2),w=Math.floor(r/2),E=c-1,M=new $(+g,+w);M.z=+E;var j=this._tileCoordsToKey(M),X=this._tiles[j];return X&&X.active?(X.retain=!0,!0):(X&&X.loaded&&(X.retain=!0),E>m?this._retainParent(g,w,E,m):!1)},_retainChildren:function(n,r,c,m){for(var g=2*n;g<2*n+2;g++)for(var w=2*r;w<2*r+2;w++){var E=new $(g,w);E.z=c+1;var M=this._tileCoordsToKey(E),j=this._tiles[M];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);c+1<m&&this._retainChildren(g,w,c+1,m)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,c,m){var g=Math.round(r);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var w=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||w)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,r)},_setZoomTransform:function(n,r,c){var m=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(r,c)).round();ct.any3d?Dn(n.el,g,m):Ft(n.el,g)},_resetGrid:function(){var n=this._map,r=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,r.wrapLng[1]],m).x/c.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([r.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,c=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),m=r.getZoomScale(c,this._tileZoom),g=r.project(n,this._tileZoom).floor(),w=r.getSize().divideBy(m*2);return new A(g.subtract(w),g.add(w))},_update:function(n){var r=this._map;if(r){var c=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),w=g.getCenter(),E=[],M=this.options.keepBuffer,j=new A(g.getBottomLeft().subtract([M,-M]),g.getTopRight().add([M,-M]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var X in this._tiles){var nt=this._tiles[X].coords;(nt.z!==this._tileZoom||!j.contains(new $(nt.x,nt.y)))&&(this._tiles[X].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var ht=g.min.y;ht<=g.max.y;ht++)for(var Et=g.min.x;Et<=g.max.x;Et++){var Ae=new $(Et,ht);if(Ae.z=this._tileZoom,!!this._isValidTile(Ae)){var he=this._tiles[this._tileCoordsToKey(Ae)];he?he.current=!0:E.push(Ae)}}if(E.sort(function(jt,Ut){return jt.distanceTo(w)-Ut.distanceTo(w)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ke=document.createDocumentFragment();for(Et=0;Et<E.length;Et++)this._addTile(E[Et],Ke);this._level.el.appendChild(Ke)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var c=this._globalTileRange;if(!r.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!r.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return et(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,c=this.getTileSize(),m=n.scaleBy(c),g=m.add(c),w=r.unproject(m,n.z),E=r.unproject(g,n.z);return[w,E]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),c=new F(r[0],r[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),c=new $(+r[0],+r[1]);return c.z=+r[2],c},_removeTile:function(n){var r=this._tiles[n];r&&(Xt(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){wt(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=R,n.onmousemove=R,ct.ielt9&&this.options.opacity<1&&ne(n,this.options.opacity)},_addTile:function(n,r){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),p(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&Yt(p(this._tileReady,this,n,null,g)),Ft(g,c),this._tiles[m]={el:g,coords:n,current:!0},r.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,r,c){r&&this.fire("tileerror",{error:r,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ne(c.el,0),It(this._fadeFrame),this._fadeFrame=Yt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),r||(wt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ct.ielt9||!this._map._fadeAnimated?Yt(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new $(this._wrapX?C(n.x,this._wrapX):n.x,this._wrapY?C(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new A(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Tl(n){return new na(n)}var ni=na.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=P(this,r),r.detectRetina&&ct.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var c=document.createElement("img");return bt(c,"load",p(this._tileOnLoad,this,r,c)),bt(c,"error",p(this._tileOnError,this,r,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var r={r:ct.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=c),r["-y"]=c}return it(this._url,d(r,this.options))},_tileOnLoad:function(n,r){ct.ielt9?setTimeout(p(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,c){var m=this.options.errorTileUrl;m&&r.getAttribute("src")!==m&&(r.src=m),n(c,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=r-n),n+m},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=R,r.onerror=R,!r.complete)){r.src=zt;var c=this._tiles[n].coords;Xt(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:c})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",zt),na.prototype._removeTile.call(this,n)},_tileReady:function(n,r,c){if(!(!this._map||c&&c.getAttribute("src")===zt))return na.prototype._tileReady.call(this,n,r,c)}});function We(n,r){return new ni(n,r)}var Fa=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var c=d({},this.defaultWmsParams);for(var m in r)m in this.options||(c[m]=r[m]);r=P(this,r);var g=r.detectRetina&&ct.retina?2:1,w=this.getTileSize();c.width=w.x*g,c.height=w.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,ni.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),c=this._crs,m=Z(c.project(r[0]),c.project(r[1])),g=m.min,w=m.max,E=(this._wmsVersion>=1.3&&this._crs===Js?[g.y,g.x,w.y,w.x]:[g.x,g.y,w.x,w.y]).join(","),M=ni.prototype.getTileUrl.call(this,n);return M+Q(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(n,r){return d(this.wmsParams,n),r||this.redraw(),this}});function Fe(n,r){return new Fa(n,r)}ni.WMS=Fa,We.wms=Fe;var He=cn.extend({options:{padding:.1},initialize:function(n){P(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var c=this._map.getZoomScale(r,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,r),w=m.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,r));ct.any3d?Dn(this._container,w,c):Ft(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),c=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new A(c,c.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zr=He.extend({options:{tolerance:0},getEvents:function(){var n=He.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){He.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");bt(n,"mousemove",this._onMouseMove,this),bt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){It(this._redrawRequest),delete this._ctx,Xt(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var n=this._bounds,r=this._container,c=n.getSize(),m=ct.retina?2:1;Ft(r,n.min),r.width=m*c.x,r.height=m*c.y,r.style.width=c.x+"px",r.style.height=c.y+"px",ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){He.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,c=r.next,m=r.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),c=[],m,g;for(g=0;g<r.length;g++){if(m=Number(r[g]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Yt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var c=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var c,m,g,w,E=n._parts,M=E.length,j=this._ctx;if(M){for(j.beginPath(),c=0;c<M;c++){for(m=0,g=E[c].length;m<g;m++)w=E[c][m],j[m?"lineTo":"moveTo"](w.x,w.y);r&&j.closePath()}this._fillStroke(j,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(r.x,r.y/g,m,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,r){var c=r.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(se(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(r)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(wt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,c){this._map._fireDOMEvent(r,c||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var c=r.next,m=r.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var c=r.next,m=r.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function tr(n){return ct.canvas?new Zr(n):null}var ii=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Qs={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(He.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=ii("shape");wt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=ii("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Xt(r),n.removeInteractiveTarget(r),delete this._layers[y(n)]},_updateStyle:function(n){var r=n._stroke,c=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(r||(r=n._stroke=ii("stroke")),g.appendChild(r),r.weight=m.weight+"px",r.color=m.color,r.opacity=m.opacity,m.dashArray?r.dashStyle=Y(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=m.lineCap.replace("butt","flat"),r.joinstyle=m.lineJoin):r&&(g.removeChild(r),n._stroke=null),m.fill?(c||(c=n._fill=ii("fill")),g.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){xe(n._container)},_bringToBack:function(n){gi(n._container)}},An=ct.vml?ii:Sr,ia=He.extend({_initContainer:function(){this._container=An("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=An("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var n=this._bounds,r=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,c.setAttribute("width",r.x),c.setAttribute("height",r.y)),Ft(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=An("path");n.options.className&&wt(r,n.options.className),n.options.interactive&&wt(r,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Xt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,c=n.options;r&&(c.stroke?(r.setAttribute("stroke",c.color),r.setAttribute("stroke-opacity",c.opacity),r.setAttribute("stroke-width",c.weight),r.setAttribute("stroke-linecap",c.lineCap),r.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?r.setAttribute("stroke-dasharray",c.dashArray):r.removeAttribute("stroke-dasharray"),c.dashOffset?r.setAttribute("stroke-dashoffset",c.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),c.fill?(r.setAttribute("fill",c.fillColor||c.color),r.setAttribute("fill-opacity",c.fillOpacity),r.setAttribute("fill-rule",c.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Tr(n._parts,r))},_updateCircle:function(n){var r=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+m+" 0 1,0 ",w=n._empty()?"M0 0":"M"+(r.x-c)+","+r.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,w)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){xe(n._path)},_bringToBack:function(n){gi(n._path)}});ct.vml&&ia.include(Qs);function er(n){return ct.svg||ct.vml?new ia(n):null}Mt.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&tr(n)||er(n)}});var wi=Wi.extend({initialize:function(n,r){Wi.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=et(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function ic(n,r){return new wi(n,r)}ia.create=An,ia.pointsToPath=Tr,Bn.geometryToLayer=Le,Bn.coordsToLatLng=Ur,Bn.coordsToLatLngs=Xa,Bn.latLngToCoords=Br,Bn.latLngsToCoords=Ja,Bn.getFeature=Fn,Bn.asFeature=Pr,Mt.mergeOptions({boxZoom:!0});var qe=Sn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ii(),Cr(),this._startPoint=this._map.mouseEventToContainerPoint(n),bt(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new A(this._point,this._startPoint),c=r.getSize();Ft(this._box,r.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Xt(this._box),se(this._container,"leaflet-crosshair")),bn(),Ua(),Zt(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var r=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",qe),Mt.mergeOptions({doubleClickZoom:!0});var Ir=Sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,c=r.getZoom(),m=r.options.zoomDelta,g=n.originalEvent.shiftKey?c-m:c+m;r.options.doubleClickZoom==="center"?r.setZoom(g):r.setZoomAround(n.containerPoint,g)}});Mt.addInitHook("addHandler","doubleClickZoom",Ir),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var On=Sn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Wn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){se(this._map._container,"leaflet-grab"),se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=et(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-r+c)%n+r-c,w=(m+r+c)%n-r-c,E=Math.abs(g+c)<Math.abs(w+c)?g:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(n){var r=this._map,c=r.options,m=!c.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),m)r.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,E=c.easeLinearity,M=g.multiplyBy(E/w),j=M.distanceTo([0,0]),X=Math.min(c.inertiaMaxSpeed,j),nt=M.multiplyBy(X/j),ht=X/(c.inertiaDeceleration*E),Et=nt.multiplyBy(-ht/2).round();!Et.x&&!Et.y?r.fire("moveend"):(Et=r._limitOffset(Et,r.options.maxBounds),Yt(function(){r.panBy(Et,{duration:ht,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",On),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $s=Sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),bt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,c=n.scrollTop||r.scrollTop,m=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},c=this.keyCodes,m,g;for(m=0,g=c.left.length;m<g;m++)r[c.left[m]]=[-1*n,0];for(m=0,g=c.right.length;m<g;m++)r[c.right[m]]=[n,0];for(m=0,g=c.down.length;m<g;m++)r[c.down[m]]=[0,n];for(m=0,g=c.up.length;m<g;m++)r[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},c=this.keyCodes,m,g;for(m=0,g=c.zoomIn.length;m<g;m++)r[c.zoomIn[m]]=n;for(m=0,g=c.zoomOut.length;m<g;m++)r[c.zoomOut[m]]=-n},_addHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,c=this._map,m;if(r in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[r],n.shiftKey&&(m=at(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(at(m),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(g)}else c.panBy(m)}else if(r in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;$n(n)}}});Mt.addInitHook("addHandler","keyboard",$s),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=Sn.extend({addHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=De(n),c=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),m),$n(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,w=c?Math.ceil(g/c)*c:g,E=n._limitZoom(r+(this._delta>0?w:-w))-r;this._delta=0,this._startTime=null,E&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+E):n.setZoomAround(this._lastMousePos,r+E))}});Mt.addInitHook("addHandler","scrollWheelZoom",nr);var Si=600;Mt.mergeOptions({tapHold:ct.touchNative&&ct.safari&&ct.mobile,tapTolerance:15});var Gr=Sn.extend({addHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new $(r.clientX,r.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(bt(document,"touchend",ce),bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Si),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Zt(document,"touchend",ce),Zt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new $(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});c._simulated=!0,r.target.dispatchEvent(c)}});Mt.addInitHook("addHandler","tapHold",Gr),Mt.mergeOptions({touchZoom:ct.touch,bounceAtZoomLimits:!0});var Ws=Sn.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){se(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var c=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),ce(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,c=r.mouseEventToContainerPoint(n.touches[0]),m=r.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(m)/this._startDist;if(this._zoom=r.getScaleZoom(g,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&g<1||this._zoom>r.getMaxZoom()&&g>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var w=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&w.x===0&&w.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),It(this._animRequest);var E=p(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Yt(E,this,!0),ce(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,It(this._animRequest),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Ws),Mt.BoxZoom=qe,Mt.DoubleClickZoom=Ir,Mt.Drag=On,Mt.Keyboard=$s,Mt.ScrollWheelZoom=nr,Mt.TapHold=Gr,Mt.TouchZoom=Ws,o.Bounds=A,o.Browser=ct,o.CRS=At,o.Canvas=Zr,o.Circle=jr,o.CircleMarker=$i,o.Class=_e,o.Control=Ve,o.DivIcon=Sl,o.DivOverlay=ze,o.DomEvent=zr,o.DomUtil=Ki,o.Draggable=Wn,o.Evented=tt,o.FeatureGroup=Tn,o.GeoJSON=Bn,o.GridLayer=na,o.Handler=Sn,o.Icon=En,o.ImageOverlay=ta,o.LatLng=st,o.LatLngBounds=F,o.Layer=cn,o.LayerGroup=Qi,o.LineUtil=$u,o.Map=Mt,o.Marker=Ya,o.Mixin=Yu,o.Path=xn,o.Point=$,o.PolyUtil=Ys,o.Polygon=Wi,o.Polyline=Un,o.Popup=$a,o.PosAnimation=Yi,o.Projection=dl,o.Rectangle=wi,o.Renderer=He,o.SVG=ia,o.SVGOverlay=qr,o.TileLayer=ni,o.Tooltip=Wa,o.Transformation=Bi,o.Util=zn,o.VideoOverlay=ei,o.bind=p,o.bounds=Z,o.canvas=tr,o.circle=vl,o.circleMarker=gl,o.control=jn,o.divIcon=nc,o.extend=d,o.featureGroup=_l,o.geoJSON=Hr,o.geoJson=Qa,o.gridLayer=Tl,o.icon=Ga,o.imageOverlay=yl,o.latLng=rt,o.latLngBounds=et,o.layerGroup=Wu,o.map=qs,o.marker=pl,o.point=at,o.polygon=tc,o.polyline=Fu,o.popup=wl,o.rectangle=ic,o.setOptions=P,o.stamp=y,o.svg=er,o.svgOverlay=bl,o.tileLayer=We,o.tooltip=ec,o.transformation=ci,o.version=u,o.videoOverlay=ea;var Fs=window.L;o.noConflict=function(){return window.L=Fs,this},window.L=o}))})(No,No.exports)),No.exports}var xs=ev();const Lu=Q_(xs);function zu(l,a,o){return Object.freeze({instance:l,context:a,container:o})}function Mu(l,a){return a==null?function(u,d){const _=_t.useRef(void 0);return _.current||(_.current=l(u,d)),_}:function(u,d){const _=_t.useRef(void 0);_.current||(_.current=l(u,d));const p=_t.useRef(u),{instance:b}=_.current;return _t.useEffect(function(){p.current!==u&&(a(b,u,p.current),p.current=u)},[b,u,a]),_}}function ep(l,a){_t.useEffect(function(){return(a.layerContainer??a.map).addLayer(l.instance),function(){a.layerContainer?.removeLayer(l.instance),a.map.removeLayer(l.instance)}},[a,l])}function np(l){return function(o){const u=Cu(),d=l(Ru(o,u),u);return W_(u.map,o.attribution),ff(d.current,o.eventHandlers),ep(d.current,u),d}}function nv(l,a){const o=_t.useRef(void 0);_t.useEffect(function(){if(a.pathOptions!==o.current){const d=a.pathOptions??{};l.instance.setStyle(d),o.current=d}},[l,a])}function iv(l){return function(o){const u=Cu(),d=l(Ru(o,u),u);return ff(d.current,o.eventHandlers),ep(d.current,u),nv(d.current,o),d}}function av(l,a){const o=Mu(l,a),u=np(o);return tp(u)}function rv(l,a){const o=Mu(l),u=Fg(o,a);return $g(u)}function sv(l,a){const o=Mu(l,a),u=iv(o);return tp(u)}function ov(l,a){const o=Mu(l,a),u=np(o);return Wg(u)}function lv(l,a,o){const{opacity:u,zIndex:d}=a;u!=null&&u!==o.opacity&&l.setOpacity(u),d!=null&&d!==o.zIndex&&l.setZIndex(d)}function df(){return Cu().map}const $h=sv(function({center:a,children:o,...u},d){const _=new xs.Circle(a,u);return zu(_,F_(d,{overlayContainer:_}))},Yg);function uv({bounds:l,boundsOptions:a,center:o,children:u,className:d,id:_,placeholder:p,style:b,whenReady:y,zoom:S,...C},R){const[k]=_t.useState({className:d,id:_,style:b}),[q,V]=_t.useState(null),P=_t.useRef(void 0);_t.useImperativeHandle(R,()=>q?.map??null,[q]);const Q=_t.useCallback(it=>{if(it!==null&&!P.current){const Y=new xs.Map(it,C);P.current=Y,o!=null&&S!=null?Y.setView(o,S):l!=null&&Y.fitBounds(l,a),y!=null&&Y.whenReady(y),V(Qg(Y))}},[]);_t.useEffect(()=>()=>{q?.map.remove()},[q]);const W=q?Kn.createElement(hf,{value:q},u):p??null;return Kn.createElement("div",{...k,ref:Q},W)}const cv=_t.forwardRef(uv),hv=av(function({position:a,...o},u){const d=new xs.Marker(a,o);return zu(d,F_(u,{overlayContainer:d}))},function(a,o,u){o.position!==u.position&&a.setLatLng(o.position),o.icon!=null&&o.icon!==u.icon&&a.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==u.zIndexOffset&&a.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==u.opacity&&a.setOpacity(o.opacity),a.dragging!=null&&o.draggable!==u.draggable&&(o.draggable===!0?a.dragging.enable():a.dragging.disable())}),Hh=rv(function(a,o){const u=new xs.Popup(a,o.overlayContainer);return zu(u,o)},function(a,o,{position:u},d){_t.useEffect(function(){const{instance:p}=a;function b(S){S.popup===p&&(p.update(),d(!0))}function y(S){S.popup===p&&d(!1)}return o.map.on({popupopen:b,popupclose:y}),o.overlayContainer==null?(u!=null&&p.setLatLng(u),p.openOn(o.map)):o.overlayContainer.bindPopup(p),function(){o.map.off({popupopen:b,popupclose:y}),o.overlayContainer?.unbindPopup(),o.map.removeLayer(p)}},[a,o,d,u])}),qh=ov(function({url:a,...o},u){const d=new xs.TileLayer(a,Ru(o,u));return zu(d,u)},function(a,o,u){lv(a,o,u);const{url:d}=o;d!=null&&d!==u.url&&a.setUrl(d)}),fv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",dv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let mv=Lu.icon({iconUrl:fv,shadowUrl:dv,iconSize:[25,41],iconAnchor:[12,41]});Lu.Marker.prototype.options.icon=mv;const _v=Lu.divIcon({className:"custom-red-pointer",html:`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#ff0000" stroke="white" stroke-width="2" width="40" height="40" style="filter: drop-shadow(0 4px 6px rgba(0,0,0,0.5));">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
        </svg>
    `,iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]});function pv({viewMode:l,userLocation:a,isFollowing:o,onMapDrag:u,data:d}){const _=df();return Kn.useEffect(()=>{_.invalidateSize()},[_]),Kn.useEffect(()=>{a&&o&&_.flyTo([a.lat,a.lng],16,{animate:!0,duration:1.5,easeLinearity:.25})},[_,a?.lat,a?.lng,o]),Kn.useEffect(()=>{const p=[];if(a&&p.push([a.lat,a.lng]),d?.sightings&&d.sightings.forEach(b=>p.push([b.lat,b.lng])),d?.dangerZones&&d.dangerZones.forEach(b=>p.push([b.lat,b.lng])),p.length>1){const b=Lu.latLngBounds(p);_.flyToBounds(b,{padding:[50,50],duration:1.5})}},[_,d,l]),Kn.useEffect(()=>{if(!u)return;const p=()=>{u()};return _.on("dragstart",p),()=>{_.off("dragstart",p)}},[_,u]),null}const E_=({position:l,children:a,...o})=>{const u=df();return G.jsx(hv,{position:l,...o,eventHandlers:{click:()=>{u.flyTo(l,16,{animate:!0,duration:1.5,easeLinearity:.25})},...o.eventHandlers},children:a})},gv=({center:l,children:a,...o})=>{const u=df();return G.jsx($h,{center:l,...o,eventHandlers:{click:d=>{u.flyTo(l,15,{animate:!0,duration:1.5}),d.target.openPopup()},...o.eventHandlers},children:a})},vv=({baseLayer:l,showHeatmap:a,showSightings:o,data:u,userLocation:d,isFollowing:_,onMapDrag:p,resetZoomTrigger:b})=>{const y=[12.3366,76.6187];return G.jsx("div",{className:"map-wrapper",style:{height:"100%",width:"100%",borderRadius:"16px",overflow:"hidden",border:"1px solid var(--color-border)"},children:G.jsxs(cv,{center:y,zoom:11,style:{height:"100%",width:"100%"},zoomControl:!0,children:[l==="satellite"?G.jsxs(G.Fragment,{children:[G.jsx(qh,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri  Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),G.jsx(qh,{url:"https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",attribution:' <a href="https://carto.com/attributions">CARTO</a>',zIndex:100})]}):G.jsx(G.Fragment,{children:G.jsx(qh,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'})}),G.jsx(pv,{viewMode:l,userLocation:d,isFollowing:_,onMapDrag:p,data:u,resetZoomTrigger:b}),d&&G.jsxs(G.Fragment,{children:[G.jsx(E_,{position:[d.lat,d.lng],icon:_v,children:G.jsx(Hh,{children:G.jsxs("div",{style:{textAlign:"center"},children:[G.jsx("strong",{children:"YOU ARE HERE"}),G.jsx("br",{}),"Accuracy: ",Math.round(d.accuracy),"m"]})})}),G.jsx($h,{center:[d.lat,d.lng],radius:d.accuracy,pathOptions:{color:"#007bff",fillColor:"#007bff",fillOpacity:.1,weight:1}}),G.jsx($h,{center:[d.lat,d.lng],radius:500,pathOptions:{color:"green",fillColor:"green",fillOpacity:.05,weight:1,dashArray:"5, 10"}})]}),o&&u.sightings.map(S=>G.jsx(E_,{position:[S.lat,S.lng],children:G.jsx(Hh,{className:"glass-popup",children:G.jsxs("div",{style:{color:"black"},children:[G.jsx("strong",{children:S.name}),G.jsx("br",{}),"Status: ",S.status,G.jsx("br",{}),"Loc: ",S.proximity]})})},S.id)),a&&u.dangerZones.map(S=>G.jsx(gv,{center:[S.lat,S.lng],pathOptions:{color:S.intensity==="High"?"red":"orange",fillColor:S.intensity==="High"?"red":"orange",fillOpacity:.5},radius:S.radius,eventHandlers:{mouseover:C=>C.target.openPopup(),mouseout:C=>C.target.closePopup()},children:G.jsxs(Hh,{children:["Danger Zone: ",S.intensity," Intensity"]})},S.id))]})})};const yv=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bv=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,u)=>u?u.toUpperCase():o.toLowerCase()),x_=l=>{const a=bv(l);return a.charAt(0).toUpperCase()+a.slice(1)},ip=(...l)=>l.filter((a,o,u)=>!!a&&a.trim()!==""&&u.indexOf(a)===o).join(" ").trim(),wv=l=>{for(const a in l)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var Sv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tv=_t.forwardRef(({color:l="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:_,iconNode:p,...b},y)=>_t.createElement("svg",{ref:y,...Sv,width:a,height:a,stroke:l,strokeWidth:u?Number(o)*24/Number(a):o,className:ip("lucide",d),...!_&&!wv(b)&&{"aria-hidden":"true"},...b},[...p.map(([S,C])=>_t.createElement(S,C)),...Array.isArray(_)?_:[_]]));const br=(l,a)=>{const o=_t.forwardRef(({className:u,...d},_)=>_t.createElement(Tv,{ref:_,iconNode:a,className:ip(`lucide-${yv(x_(l))}`,`lucide-${l}`,u),...d}));return o.displayName=x_(l),o};const Ev=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xv=br("activity",Ev);const Av=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],Ov=br("cloud-rain",Av);const Cv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Rv=br("globe",Cv);const Lv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zv=br("map-pin",Lv);const Mv=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kv=br("radio",Mv);const Dv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Nv=br("shield-alert",Dv);const jv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A_=br("triangle-alert",jv),Uv=(l,a,o,u)=>{if(!l||!a||!o||!u)return 0;const d=6371,_=bu(o-l),p=bu(u-a),b=Math.sin(_/2)*Math.sin(_/2)+Math.cos(bu(l))*Math.cos(bu(o))*Math.sin(p/2)*Math.sin(p/2),y=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return d*y};function bu(l){return l*(Math.PI/180)}const Bv=l=>l<1?`${Math.round(l*1e3)}m`:`${l.toFixed(1)}km`,Pv=({incidents:l,villageStatus:a,isOpen:o,onClose:u,t:d,userLocation:_,dangerZones:p})=>{const b=Kn.useMemo(()=>!_||!p?[]:p.map(y=>{const S=Uv(_.lat,_.lng,y.lat,y.lng);return{...y,distance:S}}).sort((y,S)=>y.distance-S.distance).slice(0,3),[_,p]);return G.jsxs("div",{className:`sidebar ${o?"open":""}`,children:[G.jsx("div",{className:"mobile-close",style:{alignSelf:"flex-end",display:o?"block":"none",cursor:"pointer",marginBottom:"1rem"},onClick:u,children:"X"}),G.jsxs("div",{className:"glass-panel sidebar-panel",style:{flex:1,display:"flex",flexDirection:"column"},children:[G.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)"},children:[G.jsx(kv,{size:20,className:"text-glow"})," ",d?.liveFeed||"Live Incident Feed"]}),G.jsxs("div",{className:"feed-list",style:{flex:1,overflowY:"auto"},children:[l.map(y=>G.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[G.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)",marginBottom:"0.2rem"},children:y.time}),G.jsx("div",{style:{fontSize:"0.9rem"},children:y.description})]},y.id)),l.length===0&&G.jsx("div",{style:{color:"var(--color-text-muted)",fontStyle:"italic"},children:"No recent incidents."})]})]}),G.jsxs("div",{className:"glass-panel sidebar-panel",children:[G.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-text-main)"},children:[G.jsx(Nv,{size:20})," ",d?.villageSafety||"Village Safety Status"]}),G.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:a.map((y,S)=>G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[G.jsx("span",{style:{fontSize:"0.9rem"},children:y.name}),G.jsx("div",{style:{display:"flex",gap:"0.2rem"},children:G.jsx("div",{style:{width:"30px",height:"8px",borderRadius:"4px",backgroundColor:y.color==="green"?"var(--color-primary)":y.color==="yellow"?"var(--color-accent)":"var(--color-danger)",boxShadow:y.color==="red"?"0 0 8px var(--color-danger)":"none"}})})]},S))})]}),G.jsxs("div",{className:"glass-panel sidebar-panel",children:[G.jsxs("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-text-main)"},children:[G.jsx(zv,{size:20})," ",d?.nearbyDangerZones||"Nearby Danger Zones"]}),G.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:b.length>0?b.map((y,S)=>G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.05)",paddingBottom:"0.5rem"},children:[G.jsx("span",{style:{fontSize:"0.9rem"},children:y.name||"Unknown Zone"}),G.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-accent)",fontFamily:"monospace"},children:Bv(y.distance)})]},S)):G.jsx("div",{style:{color:"var(--color-text-muted)",fontStyle:"italic",fontSize:"0.8rem"},children:_?"No nearby zones.":"Locating user..."})})]}),G.jsx("div",{className:"glass-panel danger-glow sidebar-panel",style:{background:"rgba(255, 0, 60, 0.1)",border:"1px solid var(--color-danger)"},children:G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[G.jsxs("div",{children:[G.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-danger)",fontWeight:"bold"},children:d?.proximityAlert||"PROXIMITY ALERT"}),G.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"500m"})]}),G.jsx(xv,{size:32,color:"var(--color-danger)",className:"pulse"})]})})]})};function ku(l,a){var o={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&a.indexOf(u)<0&&(o[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(l);d<u.length;d++)a.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(l,u[d])&&(o[u[d]]=l[u[d]]);return o}function Hv(l,a,o,u){function d(_){return _ instanceof o?_:new o(function(p){p(_)})}return new(o||(o=Promise))(function(_,p){function b(C){try{S(u.next(C))}catch(R){p(R)}}function y(C){try{S(u.throw(C))}catch(R){p(R)}}function S(C){C.done?_(C.value):d(C.value).then(b,y)}S((u=u.apply(l,a||[])).next())})}const qv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class mf extends Error{constructor(a,o="FunctionsError",u){super(a),this.name=o,this.context=u}}class Zv extends mf{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class O_ extends mf{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class C_ extends mf{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Wh;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Wh||(Wh={}));class Iv{constructor(a,{headers:o={},customFetch:u,region:d=Wh.Any}={}){this.url=a,this.headers=o,this.region=d,this.fetch=qv(u)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Hv(this,arguments,void 0,function*(o,u={}){var d;let _,p;try{const{headers:b,method:y,body:S,signal:C,timeout:R}=u;let k={},{region:q}=u;q||(q=this.region);const V=new URL(`${this.url}/${o}`);q&&q!=="any"&&(k["x-region"]=q,V.searchParams.set("forceFunctionRegion",q));let P;S&&(b&&!Object.prototype.hasOwnProperty.call(b,"Content-Type")||!b)?typeof Blob<"u"&&S instanceof Blob||S instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",P=S):typeof S=="string"?(k["Content-Type"]="text/plain",P=S):typeof FormData<"u"&&S instanceof FormData?P=S:(k["Content-Type"]="application/json",P=JSON.stringify(S)):S&&typeof S!="string"&&!(typeof Blob<"u"&&S instanceof Blob)&&!(S instanceof ArrayBuffer)&&!(typeof FormData<"u"&&S instanceof FormData)?P=JSON.stringify(S):P=S;let Q=C;R&&(p=new AbortController,_=setTimeout(()=>p.abort(),R),C?(Q=p.signal,C.addEventListener("abort",()=>p.abort())):Q=p.signal);const W=yield this.fetch(V.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),b),body:P,signal:Q}).catch(zt=>{throw new Zv(zt)}),it=W.headers.get("x-relay-error");if(it&&it==="true")throw new O_(W);if(!W.ok)throw new C_(W);let Y=((d=W.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),dt;return Y==="application/json"?dt=yield W.json():Y==="application/octet-stream"||Y==="application/pdf"?dt=yield W.blob():Y==="text/event-stream"?dt=W:Y==="multipart/form-data"?dt=yield W.formData():dt=yield W.text(),{data:dt,error:null,response:W}}catch(b){return{data:null,error:b,response:b instanceof C_||b instanceof O_?b.context:void 0}}finally{_&&clearTimeout(_)}})}}var Gv=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Vv=class{constructor(l){var a,o;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(o=l.isMaybeSingle)!==null&&o!==void 0?o:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{let p=null,b=null,y=null,S=_.status,C=_.statusText;if(_.ok){var R,k;if(o.method!=="HEAD"){var q;const W=await _.text();W===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((q=o.headers.get("Accept"))===null||q===void 0)&&q.includes("application/vnd.pgrst.plan+text"))?b=W:b=JSON.parse(W))}const P=(R=o.headers.get("Prefer"))===null||R===void 0?void 0:R.match(/count=(exact|planned|estimated)/),Q=(k=_.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");P&&Q&&Q.length>1&&(y=parseInt(Q[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(b)&&(b.length>1?(p={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,S=406,C="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{var V;const P=await _.text();try{p=JSON.parse(P),Array.isArray(p)&&_.status===404&&(b=[],p=null,S=200,C="OK")}catch{_.status===404&&P===""?(S=204,C="No Content"):p={message:P}}if(p&&o.isMaybeSingle&&(!(p==null||(V=p.details)===null||V===void 0)&&V.includes("0 rows"))&&(p=null,S=200,C="OK"),p&&o.shouldThrowOnError)throw new Gv(p)}return{error:p,data:b,count:y,status:S,statusText:C}});return this.shouldThrowOnError||(d=d.catch(_=>{var p;let b="";const y=_?.cause;if(y){var S,C,R,k;const V=(S=y?.message)!==null&&S!==void 0?S:"",P=(C=y?.code)!==null&&C!==void 0?C:"";b=`${(R=_?.name)!==null&&R!==void 0?R:"FetchError"}: ${_?.message}`,b+=`

Caused by: ${(k=y?.name)!==null&&k!==void 0?k:"Error"}: ${V}`,P&&(b+=` (${P})`),y?.stack&&(b+=`
${y.stack}`)}else{var q;b=(q=_?.stack)!==null&&q!==void 0?q:""}return{error:{message:`${(p=_?.name)!==null&&p!==void 0?p:"FetchError"}: ${_?.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}},Kv=class extends Vv{select(l){let a=!1;const o=(l??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const _=d?`${d}.order`:"order",p=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${p?`${p},`:""}${l}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${l}`),this}range(l,a,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,_=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(_,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:_="text"}={}){var p;const b=[l?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${_}; for="${y}"; options=${b};`),_==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const R_=new RegExp("[,()]");var bs=class extends Kv{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&R_.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`in.(${o})`),this}notIn(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&R_.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`not.in.(${o})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:o,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const _=o===void 0?"":`(${o})`;return this.url.searchParams.append(l,`${d}fts${_}.${a}`),this}match(l){return Object.entries(l).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(l,a,o){return this.url.searchParams.append(l,`not.${a}.${o}`),this}or(l,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${l})`),this}filter(l,a,o){return this.url.searchParams.append(l,`${a}.${o}`),this}},Yv=class{constructor(l,{headers:a={},schema:o,fetch:u}){this.url=l,this.headers=new Headers(a),this.schema=o,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:o=!1,count:u}=a??{},d=o?"HEAD":"GET";let _=!1;const p=(l??"*").split("").map(S=>/\s/.test(S)&&!_?"":(S==='"'&&(_=!_),S)).join(""),{url:b,headers:y}=this.cloneRequestState();return b.searchParams.set("select",p),u&&y.append("Prefer",`count=${u}`),new bs({method:d,url:b,headers:y,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:o=!0}={}){var u;const d="POST",{url:_,headers:p}=this.cloneRequestState();if(a&&p.append("Prefer",`count=${a}`),o||p.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((y,S)=>y.concat(Object.keys(S)),[]);if(b.length>0){const y=[...new Set(b)].map(S=>`"${S}"`);_.searchParams.set("columns",y.join(","))}}return new bs({method:d,url:_,headers:p,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var _;const p="POST",{url:b,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&b.searchParams.set("on_conflict",a),u&&y.append("Prefer",`count=${u}`),d||y.append("Prefer","missing=default"),Array.isArray(l)){const S=l.reduce((C,R)=>C.concat(Object.keys(R)),[]);if(S.length>0){const C=[...new Set(S)].map(R=>`"${R}"`);b.searchParams.set("columns",C.join(","))}}return new bs({method:p,url:b,headers:y,schema:this.schema,body:l,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}update(l,{count:a}={}){var o;const u="PATCH",{url:d,headers:_}=this.cloneRequestState();return a&&_.append("Prefer",`count=${a}`),new bs({method:u,url:d,headers:_,schema:this.schema,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:l}={}){var a;const o="DELETE",{url:u,headers:d}=this.cloneRequestState();return l&&d.append("Prefer",`count=${l}`),new bs({method:o,url:u,headers:d,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Xv=class ap{constructor(a,{headers:o={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Yv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new ap(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:d=!1,count:_}={}){var p;let b;const y=new URL(`${this.url}/rpc/${a}`);let S;const C=q=>q!==null&&typeof q=="object"&&(!Array.isArray(q)||q.some(C)),R=u&&Object.values(o).some(C);R?(b="POST",S=o):u||d?(b=u?"HEAD":"GET",Object.entries(o).filter(([q,V])=>V!==void 0).map(([q,V])=>[q,Array.isArray(V)?`{${V.join(",")}}`:`${V}`]).forEach(([q,V])=>{y.searchParams.append(q,V)})):(b="POST",S=o);const k=new Headers(this.headers);return R?k.set("Prefer",_?`count=${_},return=minimal`:"return=minimal"):_&&k.set("Prefer",`count=${_}`),new bs({method:b,url:y,headers:k,schema:this.schemaName,body:S,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class Jv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const o=globalThis.process;if(o){const u=o.versions;if(u&&u.node){const d=u.node,_=parseInt(d.replace(/^v/,"").split(".")[0]);return _>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${_} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${_} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`

Suggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){const u=this.getWebSocketConstructor();return new u(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Qv="2.90.1",$v=`realtime-js/${Qv}`,rp="1.0.0",Wv="2.0.0",L_=rp,Fh=1e4,Fv=1e3,ty=100;var Ta;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ta||(Ta={}));var Ce;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Ce||(Ce={}));var Vn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Vn||(Vn={}));var tf;(function(l){l.websocket="websocket"})(tf||(tf={}));var gr;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(gr||(gr={}));class ey{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(a));let u=[a.join_ref,a.ref,a.topic,a.event,a.payload];return o(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer((o=a.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:{},p=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(a,o,u){var d,_;const p=a.topic,b=(d=a.ref)!==null&&d!==void 0?d:"",y=(_=a.join_ref)!==null&&_!==void 0?_:"",S=a.payload.event,C=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},R=Object.keys(C).length===0?"":JSON.stringify(C);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`ref length ${b.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`userEvent length ${S.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`metadata length ${R.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+b.length+p.length+S.length+R.length,q=new ArrayBuffer(this.HEADER_LENGTH+k);let V=new DataView(q),P=0;V.setUint8(P++,this.KINDS.userBroadcastPush),V.setUint8(P++,y.length),V.setUint8(P++,b.length),V.setUint8(P++,p.length),V.setUint8(P++,S.length),V.setUint8(P++,R.length),V.setUint8(P++,o),Array.from(y,W=>V.setUint8(P++,W.charCodeAt(0))),Array.from(b,W=>V.setUint8(P++,W.charCodeAt(0))),Array.from(p,W=>V.setUint8(P++,W.charCodeAt(0))),Array.from(S,W=>V.setUint8(P++,W.charCodeAt(0))),Array.from(R,W=>V.setUint8(P++,W.charCodeAt(0)));var Q=new Uint8Array(q.byteLength+u.byteLength);return Q.set(new Uint8Array(q),0),Q.set(new Uint8Array(u),q.byteLength),Q.buffer}decode(a,o){if(this._isArrayBuffer(a)){let u=this._binaryDecode(a);return o(u)}if(typeof a=="string"){const u=JSON.parse(a),[d,_,p,b,y]=u;return o({join_ref:d,ref:_,topic:p,event:b,payload:y})}return o({})}_binaryDecode(a){const o=new DataView(a),u=o.getUint8(0),d=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,d)}_decodeUserBroadcast(a,o,u){const d=o.getUint8(1),_=o.getUint8(2),p=o.getUint8(3),b=o.getUint8(4);let y=this.HEADER_LENGTH+4;const S=u.decode(a.slice(y,y+d));y=y+d;const C=u.decode(a.slice(y,y+_));y=y+_;const R=u.decode(a.slice(y,y+p));y=y+p;const k=a.slice(y,a.byteLength),q=b===this.JSON_ENCODING?JSON.parse(u.decode(k)):k,V={type:this.BROADCAST_EVENT,event:C,payload:q};return p>0&&(V.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:S,event:this.BROADCAST_EVENT,payload:V}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||((o=a?.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(a,o){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([u])=>o.includes(u)))}}class sp{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ee||(ee={}));const z_=(l,a,o={})=>{var u;const d=(u=o.skipTypes)!==null&&u!==void 0?u:[];return a?Object.keys(a).reduce((_,p)=>(_[p]=ny(p,l,a,d),_),{}):{}},ny=(l,a,o,u)=>{const d=a.find(b=>b.name===l),_=d?.type,p=o[l];return _&&!u.includes(_)?op(_,p):ef(p)},op=(l,a)=>{if(l.charAt(0)==="_"){const o=l.slice(1,l.length);return sy(a,o)}switch(l){case ee.bool:return iy(a);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return ay(a);case ee.json:case ee.jsonb:return ry(a);case ee.timestamp:return oy(a);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return ef(a);default:return ef(a)}},ef=l=>l,iy=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},ay=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},ry=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},sy=(l,a)=>{if(typeof l!="string")return l;const o=l.length-1,u=l[o];if(l[0]==="{"&&u==="}"){let _;const p=l.slice(1,o);try{_=JSON.parse("["+p+"]")}catch{_=p?p.split(","):[]}return _.map(b=>op(a,b))}return l},oy=l=>typeof l=="string"?l.replace(" ","T"):l,lp=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Zh{constructor(a,o,u={},d=Fh){this.channel=a,this.event=o,this.payload=u,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var u;return this._hasReceived(a)&&o((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var M_;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(M_||(M_={}));class Uo{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},d=>{const{onJoin:_,onLeave:p,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uo.syncState(this.state,d,_,p),this.pendingDiffs.forEach(y=>{this.state=Uo.syncDiff(this.state,y,_,p)}),this.pendingDiffs=[],b()}),this.channel._on(u.diff,{},d=>{const{onJoin:_,onLeave:p,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Uo.syncDiff(this.state,d,_,p),b())}),this.onJoin((d,_,p)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:_,newPresences:p})}),this.onLeave((d,_,p)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:_,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,u,d){const _=this.cloneDeep(a),p=this.transformState(o),b={},y={};return this.map(_,(S,C)=>{p[S]||(y[S]=C)}),this.map(p,(S,C)=>{const R=_[S];if(R){const k=C.map(Q=>Q.presence_ref),q=R.map(Q=>Q.presence_ref),V=C.filter(Q=>q.indexOf(Q.presence_ref)<0),P=R.filter(Q=>k.indexOf(Q.presence_ref)<0);V.length>0&&(b[S]=V),P.length>0&&(y[S]=P)}else b[S]=C}),this.syncDiff(_,{joins:b,leaves:y},u,d)}static syncDiff(a,o,u,d){const{joins:_,leaves:p}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return u||(u=()=>{}),d||(d=()=>{}),this.map(_,(b,y)=>{var S;const C=(S=a[b])!==null&&S!==void 0?S:[];if(a[b]=this.cloneDeep(y),C.length>0){const R=a[b].map(q=>q.presence_ref),k=C.filter(q=>R.indexOf(q.presence_ref)<0);a[b].unshift(...k)}u(b,C,y)}),this.map(p,(b,y)=>{let S=a[b];if(!S)return;const C=y.map(R=>R.presence_ref);S=S.filter(R=>C.indexOf(R.presence_ref)<0),a[b]=S,d(b,S,y),S.length===0&&delete a[b]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(u=>o(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,u)=>{const d=a[u];return"metas"in d?o[u]=d.metas.map(_=>(_.presence_ref=_.phx_ref,delete _.phx_ref,delete _.phx_ref_prev,_)):o[u]=d,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k_;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(k_||(k_={}));var Bo;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Bo||(Bo={}));var ji;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(ji||(ji={}));class Ts{constructor(a,o={config:{}},u){var d,_;if(this.topic=a,this.params=o,this.socket=u,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Zh(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new sp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(p,b)=>{this._trigger(this._replyEventName(b),p)}),this.presence=new Uo(this),this.broadcastEndpointURL=lp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((_=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||_===void 0)&&_.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var u,d,_;if(this.socket.isConnected()||this.socket.connect(),this.state==Ce.closed){const{config:{broadcast:p,presence:b,private:y}}=this.params,S=(d=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(q=>q.filter))!==null&&d!==void 0?d:[],C=!!this.bindings[Bo.PRESENCE]&&this.bindings[Bo.PRESENCE].length>0||((_=this.params.config.presence)===null||_===void 0?void 0:_.enabled)===!0,R={},k={broadcast:p,presence:Object.assign(Object.assign({},b),{enabled:C}),postgres_changes:S,private:y};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(q=>a?.(ji.CHANNEL_ERROR,q)),this._onClose(()=>a?.(ji.CLOSED)),this.updateJoinPayload(Object.assign({config:k},R)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:q})=>{var V;if(this.socket._isManualToken()||this.socket.setAuth(),q===void 0){a?.(ji.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,Q=(V=P?.length)!==null&&V!==void 0?V:0,W=[];for(let it=0;it<Q;it++){const Y=P[it],{filter:{event:dt,schema:zt,table:mt,filter:ot}}=Y,Kt=q&&q[it];if(Kt&&Kt.event===dt&&Ts.isFilterValueEqual(Kt.schema,zt)&&Ts.isFilterValueEqual(Kt.table,mt)&&Ts.isFilterValueEqual(Kt.filter,ot))W.push(Object.assign(Object.assign({},Y),{id:Kt.id}));else{this.unsubscribe(),this.state=Ce.errored,a?.(ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=W,a&&a(ji.SUBSCRIBED);return}}).receive("error",q=>{this.state=Ce.errored,a?.(ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(q).join(", ")||"error")))}).receive("timeout",()=>{a?.(ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,o={}){return await this.send({type:"presence",event:"track",payload:a},o.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,o,u){return this.state===Ce.joined&&a===Bo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,o,u)}async httpSend(a,o,u={}){var d;if(o==null)return Promise.reject("Payload is required for httpSend()");const _={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(_.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:_,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(d=u.timeout)!==null&&d!==void 0?d:this.timeout);if(b.status===202)return{success:!0};let y=b.statusText;try{const S=await b.json();y=S.error||S.message||y}catch{}return Promise.reject(new Error(y))}async send(a,o={}){var u,d;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:_,payload:p}=a,b={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(b.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:b,body:JSON.stringify({messages:[{topic:this.subTopic,event:_,payload:p,private:this.private}]})};try{const S=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);return await((d=S.body)===null||d===void 0?void 0:d.cancel()),S.ok?"ok":"error"}catch(S){return S.name==="AbortError"?"timed out":"error"}}else return new Promise(_=>{var p,b,y;const S=this._push(a.type,a,o.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(b=(p=this.params)===null||p===void 0?void 0:p.config)===null||b===void 0?void 0:b.broadcast)===null||y===void 0)&&y.ack)&&_("ok"),S.receive("ok",()=>_("ok")),S.receive("error",()=>_("error")),S.receive("timeout",()=>_("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ce.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(d=>{u=new Zh(this,Vn.leave,{},a),u.receive("ok",()=>{o(),d("ok")}).receive("timeout",()=>{o(),d("timed out")}).receive("error",()=>{d("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ce.closed,this.bindings={}}async _fetchWithTimeout(a,o,u){const d=new AbortController,_=setTimeout(()=>d.abort(),u),p=await this.socket.fetch(a,Object.assign(Object.assign({},o),{signal:d.signal}));return clearTimeout(_),p}_push(a,o,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Zh(this,a,o,u);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>ty){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,u){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,u){var d,_;const p=a.toLocaleLowerCase(),{close:b,error:y,leave:S,join:C}=Vn;if(u&&[b,y,S,C].indexOf(p)>=0&&u!==this._joinRef())return;let k=this._onMessage(p,o,u);if(o&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(q=>{var V,P,Q;return((V=q.filter)===null||V===void 0?void 0:V.event)==="*"||((Q=(P=q.filter)===null||P===void 0?void 0:P.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())===p}).map(q=>q.callback(k,u)):(_=this.bindings[p])===null||_===void 0||_.filter(q=>{var V,P,Q,W,it,Y,dt,zt;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in q){const mt=q.id,ot=(V=q.filter)===null||V===void 0?void 0:V.event;return mt&&((P=o.ids)===null||P===void 0?void 0:P.includes(mt))&&(ot==="*"||ot?.toLocaleLowerCase()===((Q=o.data)===null||Q===void 0?void 0:Q.type.toLocaleLowerCase()))&&(!(!((W=q.filter)===null||W===void 0)&&W.table)||q.filter.table===((it=o.data)===null||it===void 0?void 0:it.table))}else{const mt=(dt=(Y=q?.filter)===null||Y===void 0?void 0:Y.event)===null||dt===void 0?void 0:dt.toLocaleLowerCase();return mt==="*"||mt===((zt=o?.event)===null||zt===void 0?void 0:zt.toLocaleLowerCase())}else return q.type.toLocaleLowerCase()===p}).map(q=>{if(typeof k=="object"&&"ids"in k){const V=k.data,{schema:P,table:Q,commit_timestamp:W,type:it,errors:Y}=V;k=Object.assign(Object.assign({},{schema:P,table:Q,commit_timestamp:W,eventType:it,new:{},old:{},errors:Y}),this._getPayloadRecords(V))}q.callback(k,u)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,u){const d=a.toLocaleLowerCase(),_={type:d,filter:o,callback:u};return this.bindings[d]?this.bindings[d].push(_):this.bindings[d]=[_],this}_off(a,o){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(d=>{var _;return!(((_=d.type)===null||_===void 0?void 0:_.toLocaleLowerCase())===u&&Ts.isEqual(d.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const u in a)if(a[u]!==o[u])return!1;return!0}static isFilterValueEqual(a,o){return(a??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Vn.close,{},a)}_onError(a){this._on(Vn.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(o.new=z_(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(o.old=z_(a.columns,a.old_record)),o}}const Ih=()=>{},wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ly=[1e3,2e3,5e3,1e4],uy=1e4,cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hy{constructor(a,o){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fh,this.transport=null,this.heartbeatIntervalMs=wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ih,this.ref=0,this.reconnectTimer=null,this.vsn=L_,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new ey,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(..._)=>d(..._):(..._)=>fetch(..._),!(!((u=o?.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${tf.websocket}`,this.httpEndpoint=lp(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const o=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const a=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,o,u){this.logger(a,o,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return gr.Connecting;case Ta.open:return gr.Open;case Ta.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,o={config:{}}){const u=`realtime:${a}`,d=this.getChannels().find(_=>_.topic===u);if(d)return d;{const _=new Ts(`realtime:${a}`,o,this);return this.channels.push(_),_}}push(a){const{topic:o,event:u,payload:d,ref:_}=a,p=()=>{this.encode(a,b=>{var y;(y=this.conn)===null||y===void 0||y.send(b)})};this.log("push",`${o} ${u} (${_})`,d),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Fv,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply"&&o.ref&&o.ref===this.pendingHeartbeatRef){const S=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error",S)}catch(C){this.log("error","error in heartbeat callback",C)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:d,payload:_,ref:p}=o,b=p?`(${p})`:"",y=_.status||"";this.log("receive",`${y} ${u} ${d} ${b}`.trim(),_),this.channels.filter(S=>S._isMember(u)).forEach(S=>S._trigger(d,_,p)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Ta.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Vn.error))}_appendParams(a,o){if(Object.keys(o).length===0)return a;const u=a.match(/\?/)?"&":"?",d=new URLSearchParams(o);return`${a}${u}${d}`}_workerObjectUrl(a){let o;if(a)o=a;else{const u=new Blob([cy],{type:"application/javascript"});o=URL.createObjectURL(u)}return o}_setConnectionState(a,o=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(a=null){let o,u=!1;if(a)o=a,u=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),o=this.accessTokenValue}else o=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(d=>{const _={access_token:o,version:$v};o&&d.updateJoinPayload(_),d.joinedOnce&&d._isJoined()&&d._push(Vn.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(o)}catch(d){this.log("error",`error in ${a} callback`,d)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new sp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var o,u,d,_,p,b,y,S,C,R,k,q;switch(this.transport=(o=a?.transport)!==null&&o!==void 0?o:null,this.timeout=(u=a?.timeout)!==null&&u!==void 0?u:Fh,this.heartbeatIntervalMs=(d=a?.heartbeatIntervalMs)!==null&&d!==void 0?d:wu.HEARTBEAT_INTERVAL,this.worker=(_=a?.worker)!==null&&_!==void 0?_:!1,this.accessToken=(p=a?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(b=a?.heartbeatCallback)!==null&&b!==void 0?b:Ih,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:L_,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(S=a?.reconnectAfterMs)!==null&&S!==void 0?S:(V=>ly[V-1]||uy),this.vsn){case rp:this.encode=(C=a?.encode)!==null&&C!==void 0?C:((V,P)=>P(JSON.stringify(V))),this.decode=(R=a?.decode)!==null&&R!==void 0?R:((V,P)=>P(JSON.parse(V)));break;case Wv:this.encode=(k=a?.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(q=a?.decode)!==null&&q!==void 0?q:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Po=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fy(l,a,o){const u=new URL(a,l);if(o)for(const[d,_]of Object.entries(o))_!==void 0&&u.searchParams.set(d,_);return u.toString()}async function dy(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function my(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:o,path:u,query:d,body:_,headers:p}){const b=fy(l.baseUrl,u,d),y=await dy(l.auth),S=await a(b,{method:o,headers:{..._?{"Content-Type":"application/json"}:{},...y,...p},body:_?JSON.stringify(_):void 0}),C=await S.text(),R=(S.headers.get("content-type")||"").includes("application/json"),k=R&&C?JSON.parse(C):C;if(!S.ok){const q=R?k:void 0,V=q?.error;throw new Po(V?.message??`Request failed with status ${S.status}`,{status:S.status,icebergType:V?.type,icebergCode:V?.code,details:q})}return{status:S.status,headers:S.headers,data:k}}}}function Su(l){return l.join("")}var _y=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:Su(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(l,a){const o={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Su(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Su(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Su(l.namespace)}`}),!0}catch(a){if(a instanceof Po&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(o){if(o instanceof Po&&o.status===409)return;throw o}}};function ds(l){return l.join("")}var py=class{constructor(l,a="",o){this.client=l,this.prefix=a,this.accessDelegation=o}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ds(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ds(l.namespace)}/tables`,body:a,headers:o})).data.metadata}async updateTable(l,a){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ds(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ds(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ds(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ds(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(o){if(o instanceof Po&&o.status===404)return!1;throw o}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(o){if(o instanceof Po&&o.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw o}}},gy=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const o=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=my({baseUrl:o,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new _y(this.client,a),this.tableOps=new py(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},Du=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function ue(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var vy=class extends Du{constructor(l,a,o){super(l),this.name="StorageApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nf=class extends Du{constructor(l,a){super(l),this.name="StorageUnknownError",this.originalError=a}};const _f=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),yy=()=>Response,af=l=>{if(Array.isArray(l))return l.map(o=>af(o));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([o,u])=>{const d=o.replace(/([-_][a-z])/gi,_=>_.toUpperCase().replace(/[-_]/g,""));a[d]=af(u)}),a},by=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},wy=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function Ho(l){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ho(l)}function Sy(l,a){if(Ho(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Ho(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function Ty(l){var a=Sy(l,"string");return Ho(a)=="symbol"?a:a+""}function Ey(l,a,o){return(a=Ty(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function D_(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function yt(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?D_(Object(o),!0).forEach(function(u){Ey(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):D_(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const Gh=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},xy=async(l,a,o)=>{l instanceof await yy()&&!o?.noResolveJson?l.json().then(u=>{const d=l.status||500,_=u?.statusCode||d+"";a(new vy(Gh(u),d,_))}).catch(u=>{a(new nf(Gh(u),u))}):a(new nf(Gh(l),l))},Ay=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"||!u?d:(by(u)?(d.headers=yt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,a?.duplex&&(d.duplex=a.duplex),yt(yt({},d),o))};async function Vo(l,a,o,u,d,_){return new Promise((p,b)=>{l(o,Ay(a,u,d,_)).then(y=>{if(!y.ok)throw y;return u?.noResolveJson?y:y.json()}).then(y=>p(y)).catch(y=>xy(y,b,u))})}async function qo(l,a,o,u){return Vo(l,"GET",a,o,u)}async function Gn(l,a,o,u,d){return Vo(l,"POST",a,u,d,o)}async function rf(l,a,o,u,d){return Vo(l,"PUT",a,u,d,o)}async function Oy(l,a,o,u){return Vo(l,"HEAD",a,yt(yt({},o),{},{noResolveJson:!0}),u)}async function pf(l,a,o,u,d){return Vo(l,"DELETE",a,u,d,o)}var Cy=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(ue(a))return{data:null,error:a};throw a}}};let up;up=Symbol.toStringTag;var Ry=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[up]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cy(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(ue(a))return{data:null,error:a};throw a}}};const Ly={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zy=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.bucketId=o,this.fetch=_f(u)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,a,o,u){var d=this;try{let _;const p=yt(yt({},N_),u);let b=yt(yt({},d.headers),l==="POST"&&{"x-upsert":String(p.upsert)});const y=p.metadata;typeof Blob<"u"&&o instanceof Blob?(_=new FormData,_.append("cacheControl",p.cacheControl),y&&_.append("metadata",d.encodeMetadata(y)),_.append("",o)):typeof FormData<"u"&&o instanceof FormData?(_=o,_.has("cacheControl")||_.append("cacheControl",p.cacheControl),y&&!_.has("metadata")&&_.append("metadata",d.encodeMetadata(y))):(_=o,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType,y&&(b["x-metadata"]=d.toBase64(d.encodeMetadata(y))),(typeof ReadableStream<"u"&&_ instanceof ReadableStream||_&&typeof _=="object"&&"pipe"in _&&typeof _.pipe=="function")&&!p.duplex&&(p.duplex="half")),u?.headers&&(b=yt(yt({},b),u.headers));const S=d._removeEmptyFolders(a),C=d._getFinalPath(S),R=await(l=="PUT"?rf:Gn)(d.fetch,`${d.url}/object/${C}`,_,yt({headers:b},p?.duplex?{duplex:p.duplex}:{}));return{data:{path:S,id:R.Id,fullPath:R.Key},error:null}}catch(_){if(d.shouldThrowOnError)throw _;if(ue(_))return{data:null,error:_};throw _}}async upload(l,a,o){return this.uploadOrUpdate("POST",l,a,o)}async uploadToSignedUrl(l,a,o,u){var d=this;const _=d._removeEmptyFolders(l),p=d._getFinalPath(_),b=new URL(d.url+`/object/upload/sign/${p}`);b.searchParams.set("token",a);try{let y;const S=yt({upsert:N_.upsert},u),C=yt(yt({},d.headers),{"x-upsert":String(S.upsert)});return typeof Blob<"u"&&o instanceof Blob?(y=new FormData,y.append("cacheControl",S.cacheControl),y.append("",o)):typeof FormData<"u"&&o instanceof FormData?(y=o,y.append("cacheControl",S.cacheControl)):(y=o,C["cache-control"]=`max-age=${S.cacheControl}`,C["content-type"]=S.contentType),{data:{path:_,fullPath:(await rf(d.fetch,b.toString(),y,{headers:C})).Key},error:null}}catch(y){if(d.shouldThrowOnError)throw y;if(ue(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(l,a){var o=this;try{let u=o._getFinalPath(l);const d=yt({},o.headers);a?.upsert&&(d["x-upsert"]="true");const _=await Gn(o.fetch,`${o.url}/object/upload/sign/${u}`,{},{headers:d}),p=new URL(o.url+_.url),b=p.searchParams.get("token");if(!b)throw new Du("No token returned by API");return{data:{signedUrl:p.toString(),path:l,token:b},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ue(u))return{data:null,error:u};throw u}}async update(l,a,o){return this.uploadOrUpdate("PUT",l,a,o)}async move(l,a,o){var u=this;try{return{data:await Gn(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers}),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ue(d))return{data:null,error:d};throw d}}async copy(l,a,o){var u=this;try{return{data:{path:(await Gn(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers})).Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ue(d))return{data:null,error:d};throw d}}async createSignedUrl(l,a,o){var u=this;try{let d=u._getFinalPath(l),_=await Gn(u.fetch,`${u.url}/object/sign/${d}`,yt({expiresIn:a},o?.transform?{transform:o.transform}:{}),{headers:u.headers});const p=o?.download?`&download=${o.download===!0?"":o.download}`:"";return _={signedUrl:encodeURI(`${u.url}${_.signedURL}${p}`)},{data:_,error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ue(d))return{data:null,error:d};throw d}}async createSignedUrls(l,a,o){var u=this;try{const d=await Gn(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:a,paths:l},{headers:u.headers}),_=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(p=>yt(yt({},p),{},{signedUrl:p.signedURL?encodeURI(`${u.url}${p.signedURL}${_}`):null})),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ue(d))return{data:null,error:d};throw d}}download(l,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),d=u?`?${u}`:"",_=this._getFinalPath(l),p=()=>qo(this.fetch,`${this.url}/${o}/${_}${d}`,{headers:this.headers,noResolveJson:!0});return new Ry(p,this.shouldThrowOnError)}async info(l){var a=this;const o=a._getFinalPath(l);try{return{data:af(await qo(a.fetch,`${a.url}/object/info/${o}`,{headers:a.headers})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(ue(u))return{data:null,error:u};throw u}}async exists(l){var a=this;const o=a._getFinalPath(l);try{return await Oy(a.fetch,`${a.url}/object/${o}`,{headers:a.headers}),{data:!0,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(ue(u)&&u instanceof nf){const d=u.originalError;if([400,404].includes(d?.status))return{data:!1,error:u}}throw u}}getPublicUrl(l,a){const o=this._getFinalPath(l),u=[],d=a?.download?`download=${a.download===!0?"":a.download}`:"";d!==""&&u.push(d);const _=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&u.push(p);let b=u.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${_}/public/${o}${b}`)}}}async remove(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}async list(l,a,o){var u=this;try{const d=yt(yt(yt({},Ly),a),{},{prefix:l||""});return{data:await Gn(u.fetch,`${u.url}/object/list/${u.bucketId}`,d,{headers:u.headers},o),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ue(d))return{data:null,error:d};throw d}}async listV2(l,a){var o=this;try{const u=yt({},l);return{data:await Gn(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,u,{headers:o.headers},a),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ue(u))return{data:null,error:u};throw u}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const cp="2.90.1",hp={"X-Client-Info":`storage-js/${cp}`};var My=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1;const d=new URL(l);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=yt(yt({},hp),a),this.fetch=_f(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var a=this;try{const o=a.listBucketOptionsToQueryString(l);return{data:await qo(a.fetch,`${a.url}/bucket${o}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await qo(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}async createBucket(l,a={public:!1}){var o=this;try{return{data:await Gn(o.fetch,`${o.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ue(u))return{data:null,error:u};throw u}}async updateBucket(l,a){var o=this;try{return{data:await rf(o.fetch,`${o.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ue(u))return{data:null,error:u};throw u}}async emptyBucket(l){var a=this;try{return{data:await Gn(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},ky=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},hp),a),this.fetch=_f(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await Gn(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}async listBuckets(l){var a=this;try{const o=new URLSearchParams;l?.limit!==void 0&&o.set("limit",l.limit.toString()),l?.offset!==void 0&&o.set("offset",l.offset.toString()),l?.sortColumn&&o.set("sortColumn",l.sortColumn),l?.sortOrder&&o.set("sortOrder",l.sortOrder),l?.search&&o.set("search",l.search);const u=o.toString(),d=u?`${a.url}/bucket?${u}`:`${a.url}/bucket`;return{data:await qo(a.fetch,d,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}}from(l){var a=this;if(!wy(l))throw new Du("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new gy({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(o,{get(d,_){const p=d[_];return typeof p!="function"?p:async(...b)=>{try{return{data:await p.apply(d,b),error:null}}catch(y){if(u)throw y;return{data:null,error:y}}}}})}};const gf={"X-Client-Info":`storage-js/${cp}`,"Content-Type":"application/json"};var fp=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function gn(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var Vh=class extends fp{constructor(l,a,o){super(l),this.name="StorageVectorsApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Dy=class extends fp{constructor(l,a){super(l),this.name="StorageVectorsUnknownError",this.originalError=a}};const vf=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Ny=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},j_=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),jy=async(l,a,o)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!o?.noResolveJson){const u=l.status||500,d=l;if(typeof d.json=="function")d.json().then(_=>{const p=_?.statusCode||_?.code||u+"";a(new Vh(j_(_),u,p))}).catch(()=>{const _=u+"";a(new Vh(d.statusText||`HTTP ${u} error`,u,_))});else{const _=u+"";a(new Vh(d.statusText||`HTTP ${u} error`,u,_))}}else a(new Dy(j_(l),l))},Uy=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return u?(Ny(u)?(d.headers=yt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,yt(yt({},d),o)):d};async function By(l,a,o,u,d,_){return new Promise((p,b)=>{l(o,Uy(a,u,d,_)).then(y=>{if(!y.ok)throw y;if(u?.noResolveJson)return y;const S=y.headers.get("content-type");return!S||!S.includes("application/json")?{}:y.json()}).then(y=>p(y)).catch(y=>jy(y,b,u))})}async function vn(l,a,o,u,d){return By(l,"POST",a,u,d,o)}var Py=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},gf),a),this.fetch=vf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var a=this;try{return{data:await vn(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async getIndex(l,a){var o=this;try{return{data:await vn(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(gn(u))return{data:null,error:u};throw u}}async listIndexes(l){var a=this;try{return{data:await vn(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async deleteIndex(l,a){var o=this;try{return{data:await vn(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers})||{},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(gn(u))return{data:null,error:u};throw u}}},Hy=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},gf),a),this.fetch=vf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var a=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await vn(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async getVectors(l){var a=this;try{return{data:await vn(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async listVectors(l){var a=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await vn(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async queryVectors(l){var a=this;try{return{data:await vn(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async deleteVectors(l){var a=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await vn(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}},qy=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},gf),a),this.fetch=vf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await vn(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await vn(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async listBuckets(l={}){var a=this;try{return{data:await vn(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await vn(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gn(o))return{data:null,error:o};throw o}}},Zy=class extends qy{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new Iy(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,o=this;return a().call(o,l)}async getBucket(l){var a=()=>super.getBucket,o=this;return a().call(o,l)}async listBuckets(l={}){var a=()=>super.listBuckets,o=this;return a().call(o,l)}async deleteBucket(l){var a=()=>super.deleteBucket,o=this;return a().call(o,l)}},Iy=class extends Py{constructor(l,a,o,u){super(l,a,u),this.vectorBucketName=o}async createIndex(l){var a=()=>super.createIndex,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,o=this;return a().call(o,o.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,o=this;return a().call(o,o.vectorBucketName,l)}index(l){return new Gy(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Gy=class extends Hy{constructor(l,a,o,u,d){super(l,a,d),this.vectorBucketName=o,this.indexName=u}async putVectors(l){var a=()=>super.putVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(l){var a=()=>super.getVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},Vy=class extends My{constructor(l,a={},o,u){super(l,a,o,u)}from(l){return new zy(this.url,this.headers,l,this.fetch)}get vectors(){return new Zy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ky(this.url+"/iceberg",this.headers,this.fetch)}};const dp="2.90.1",ws=30*1e3,sf=3,Kh=sf*ws,Ky="http://localhost:9999",Yy="supabase.auth.token",Xy={"X-Client-Info":`gotrue-js/${dp}`},of="X-Supabase-Api-Version",mp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qy=600*1e3;class Zo extends Error{constructor(a,o,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=u}}function ft(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class $y extends Zo{constructor(a,o,u){super(a,o,u),this.name="AuthApiError",this.status=o,this.code=u}}function Wy(l){return ft(l)&&l.name==="AuthApiError"}class vr extends Zo{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class Ui extends Zo{constructor(a,o,u,d){super(a,u,d),this.name=o,this.status=u}}class pn extends Ui{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fy(l){return ft(l)&&l.name==="AuthSessionMissingError"}class ms extends Ui{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tu extends Ui{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Eu extends Ui{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t0(l){return ft(l)&&l.name==="AuthImplicitGrantRedirectError"}class U_ extends Ui{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e0 extends Ui{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lf extends Ui{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function Yh(l){return ft(l)&&l.name==="AuthRetryableFetchError"}class B_ extends Ui{constructor(a,o,u){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=u}}class uf extends Ui{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),P_=` 	
\r=`.split(""),n0=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<P_.length;a+=1)l[P_[a].charCodeAt(0)]=-2;for(let a=0;a<xu.length;a+=1)l[xu[a].charCodeAt(0)]=a;return l})();function H_(l,a,o){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(xu[u]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(xu[u]),a.queuedBits-=6}}function _p(l,a,o){const u=n0[l];if(u>-1)for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function q_(l){const a=[],o=p=>{a.push(String.fromCodePoint(p))},u={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},_=p=>{r0(p,u,o)};for(let p=0;p<l.length;p+=1)_p(l.charCodeAt(p),d,_);return a.join("")}function i0(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function a0(l,a){for(let o=0;o<l.length;o+=1){let u=l.charCodeAt(o);if(u>55295&&u<=56319){const d=(u-55296)*1024&65535;u=(l.charCodeAt(o+1)-56320&65535|d)+65536,o+=1}i0(u,a)}}function r0(l,a,o){if(a.utf8seq===0){if(l<=127){o(l);return}for(let u=1;u<6;u+=1)if((l>>7-u&1)===0){a.utf8seq=u;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&o(a.codepoint)}}function Es(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};for(let d=0;d<l.length;d+=1)_p(l.charCodeAt(d),o,u);return new Uint8Array(a)}function s0(l){const a=[];return a0(l,o=>a.push(o)),new Uint8Array(a)}function yr(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};return l.forEach(d=>H_(d,o,u)),H_(null,o,u),a.join("")}function o0(l){return Math.round(Date.now()/1e3)+l}function l0(){return Symbol("auth-callback")}const Pe=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},pp=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function u0(l){const a={},o=new URL(l);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((d,_)=>{a[_]=d})}catch{}return o.searchParams.forEach((u,d)=>{a[d]=u}),a}const gp=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),c0=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ss=async(l,a,o)=>{await l.setItem(a,JSON.stringify(o))},_r=async(l,a)=>{const o=await l.getItem(a);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Be=async(l,a)=>{await l.removeItem(a)};class Nu{constructor(){this.promise=new Nu.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}Nu.promiseConstructor=Promise;function Xh(l){const a=l.split(".");if(a.length!==3)throw new uf("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!Jy.test(a[u]))throw new uf("JWT not in base64url format");return{header:JSON.parse(q_(a[0])),payload:JSON.parse(q_(a[1])),signature:Es(a[2]),raw:{header:a[0],payload:a[1]}}}async function h0(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function f0(l,a){return new Promise((u,d)=>{(async()=>{for(let _=0;_<1/0;_++)try{const p=await l(_);if(!a(_,null,p)){u(p);return}}catch(p){if(!a(_,p)){d(p);return}}})()})}function d0(l){return("0"+l.toString(16)).substr(-2)}function m0(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=o.length;let d="";for(let _=0;_<56;_++)d+=o.charAt(Math.floor(Math.random()*u));return d}return crypto.getRandomValues(a),Array.from(a,d0).join("")}async function _0(l){const o=new TextEncoder().encode(l),u=await crypto.subtle.digest("SHA-256",o),d=new Uint8Array(u);return Array.from(d).map(_=>String.fromCharCode(_)).join("")}async function p0(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const o=await _0(l);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(l,a,o=!1){const u=m0();let d=u;o&&(d+="/PASSWORD_RECOVERY"),await Ss(l,`${a}-code-verifier`,d);const _=await p0(u);return[_,u===_?"plain":"s256"]}const g0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v0(l){const a=l.headers.get(of);if(!a||!a.match(g0))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function y0(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function b0(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ps(l){if(!w0.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jh(){const l={};return new Proxy(l,{get:(a,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function S0(l,a){return new Proxy(l,{get:(o,u,d)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const _=u.toString();if(_==="Symbol(Symbol.toPrimitive)"||_==="Symbol(Symbol.toStringTag)"||_==="Symbol(util.inspect.custom)"||_==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,u,d)}return!a.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,u,d)}})}function Z_(l){return JSON.parse(JSON.stringify(l))}const pr=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),T0=[502,503,504];async function I_(l){var a;if(!c0(l))throw new lf(pr(l),0);if(T0.includes(l.status))throw new lf(pr(l),l.status);let o;try{o=await l.json()}catch(_){throw new vr(pr(_),_)}let u;const d=v0(l);if(d&&d.getTime()>=mp["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?u=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(u=o.error_code),u){if(u==="weak_password")throw new B_(pr(o),l.status,((a=o.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(u==="session_not_found")throw new pn}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((_,p)=>_&&typeof p=="string",!0))throw new B_(pr(o),l.status,o.weak_password.reasons);throw new $y(pr(o),l.status||500,u)}const E0=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),d.body=JSON.stringify(u),Object.assign(Object.assign({},d),o))};async function vt(l,a,o,u){var d;const _=Object.assign({},u?.headers);_[of]||(_[of]=mp["2024-01-01"].name),u?.jwt&&(_.Authorization=`Bearer ${u.jwt}`);const p=(d=u?.query)!==null&&d!==void 0?d:{};u?.redirectTo&&(p.redirect_to=u.redirectTo);const b=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",y=await x0(l,a,o+b,{headers:_,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(y):{data:Object.assign({},y),error:null}}async function x0(l,a,o,u,d,_){const p=E0(a,u,d,_);let b;try{b=await l(o,Object.assign({},p))}catch(y){throw console.error(y),new lf(pr(y),0)}if(b.ok||await I_(b),u?.noResolveJson)return b;try{return await b.json()}catch(y){await I_(y)}}function In(l){var a;let o=null;C0(l)&&(o=Object.assign({},l),l.expires_at||(o.expires_at=o0(l.expires_in)));const u=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:o,user:u},error:null}}function G_(l){const a=In(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Ea(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function A0(l){return{data:l,error:null}}function O0(l){const{action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:_}=l,p=ku(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:_},y=Object.assign({},p);return{data:{properties:b,user:y},error:null}}function V_(l){return l}function C0(l){return l.access_token&&l.refresh_token&&l.expires_in}const Qh=["global","local","others"];class R0{constructor({url:a="",headers:o={},fetch:u}){this.url=a,this.headers=o,this.fetch=gp(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,o=Qh[0]){if(Qh.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qh.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(u){if(ft(u))return{data:null,error:u};throw u}}async inviteUserByEmail(a,o={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ea})}catch(u){if(ft(u))return{data:{user:null},error:u};throw u}}async generateLink(a){try{const{options:o}=a,u=ku(a,["options"]),d=Object.assign(Object.assign({},u),o);return"newEmail"in u&&(d.new_email=u?.newEmail,delete d.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:O0,redirectTo:o?.redirectTo})}catch(o){if(ft(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(a){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ea})}catch(o){if(ft(o))return{data:{user:null},error:o};throw o}}async listUsers(a){var o,u,d,_,p,b,y;try{const S={nextPage:null,lastPage:0,total:0},C=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(_=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&_!==void 0?_:""},xform:V_});if(C.error)throw C.error;const R=await C.json(),k=(p=C.headers.get("x-total-count"))!==null&&p!==void 0?p:0,q=(y=(b=C.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&y!==void 0?y:[];return q.length>0&&(q.forEach(V=>{const P=parseInt(V.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(V.split(";")[1].split("=")[1]);S[`${Q}Page`]=P}),S.total=parseInt(k)),{data:Object.assign(Object.assign({},R),S),error:null}}catch(S){if(ft(S))return{data:{users:[]},error:S};throw S}}async getUserById(a){ps(a);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ea})}catch(o){if(ft(o))return{data:{user:null},error:o};throw o}}async updateUserById(a,o){ps(a);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:o,headers:this.headers,xform:Ea})}catch(u){if(ft(u))return{data:{user:null},error:u};throw u}}async deleteUser(a,o=!1){ps(a);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ea})}catch(u){if(ft(u))return{data:{user:null},error:u};throw u}}async _listFactors(a){ps(a.userId);try{const{data:o,error:u}=await vt(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:o,error:u}}catch(o){if(ft(o))return{data:null,error:o};throw o}}async _deleteFactor(a){ps(a.userId),ps(a.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(o){if(ft(o))return{data:null,error:o};throw o}}async _listOAuthClients(a){var o,u,d,_,p,b,y;try{const S={nextPage:null,lastPage:0,total:0},C=await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(_=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&_!==void 0?_:""},xform:V_});if(C.error)throw C.error;const R=await C.json(),k=(p=C.headers.get("x-total-count"))!==null&&p!==void 0?p:0,q=(y=(b=C.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&y!==void 0?y:[];return q.length>0&&(q.forEach(V=>{const P=parseInt(V.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(V.split(";")[1].split("=")[1]);S[`${Q}Page`]=P}),S.total=parseInt(k)),{data:Object.assign(Object.assign({},R),S),error:null}}catch(S){if(ft(S))return{data:{clients:[]},error:S};throw S}}async _createOAuthClient(a){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ft(o))return{data:null,error:o};throw o}}async _getOAuthClient(a){try{return await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ft(o))return{data:null,error:o};throw o}}async _updateOAuthClient(a,o){try{return await vt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:o,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(ft(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(a){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ft(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(a){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ft(o))return{data:null,error:o};throw o}}}function K_(l={}){return{getItem:a=>l[a]||null,setItem:(a,o)=>{l[a]=o},removeItem:a=>{delete l[a]}}}const gs={debug:!!(globalThis&&pp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class L0 extends vp{}async function z0(l,a,o){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async d=>{if(d){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,d.name);try{return await o()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,d.name)}}else{if(a===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new L0(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(gs.debug)try{const _=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(_,null,"  "))}catch(_){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",_)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function M0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yp(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function k0(l){return parseInt(l,16)}function D0(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}function N0(l){var a;const{chainId:o,domain:u,expirationTime:d,issuedAt:_=new Date,nonce:p,notBefore:b,requestId:y,resources:S,scheme:C,uri:R,version:k}=l;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const q=yp(l.address),V=C?`${C}://${u}`:u,P=l.statement?`${l.statement}
`:"",Q=`${V} wants you to sign in with your Ethereum account:
${q}

${P}`;let W=`URI: ${R}
Version: ${k}
Chain ID: ${o}${p?`
Nonce: ${p}`:""}
Issued At: ${_.toISOString()}`;if(d&&(W+=`
Expiration Time: ${d.toISOString()}`),b&&(W+=`
Not Before: ${b.toISOString()}`),y&&(W+=`
Request ID: ${y}`),S){let it=`
Resources:`;for(const Y of S){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);it+=`
- ${Y}`}W+=it}return`${Q}
${W}`}class Ee extends Error{constructor({message:a,code:o,cause:u,name:d}){var _;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=(_=d??(u instanceof Error?u.name:void 0))!==null&&_!==void 0?_:"Unknown Error",this.code=o}}class Au extends Ee{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function j0({error:l,options:a}){var o,u,d;const{publicKey:_}=a;if(!_)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((o=_.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((u=_.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((d=_.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ee({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return _.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const p=window.location.hostname;if(bp(p)){if(_.rp.id!==p)return new Ee({message:`The RP ID "${_.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(_.user.id.byteLength<1||_.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function U0({error:l,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ee({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const u=window.location.hostname;if(bp(u)){if(o.rpId!==u)return new Ee({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class B0{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const P0=new B0;function H0(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:o,excludeCredentials:u}=l,d=ku(l,["challenge","user","excludeCredentials"]),_=Es(a).buffer,p=Object.assign(Object.assign({},o),{id:Es(o.id).buffer}),b=Object.assign(Object.assign({},d),{challenge:_,user:p});if(u&&u.length>0){b.excludeCredentials=new Array(u.length);for(let y=0;y<u.length;y++){const S=u[y];b.excludeCredentials[y]=Object.assign(Object.assign({},S),{id:Es(S.id).buffer,type:S.type||"public-key",transports:S.transports})}}return b}function q0(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:o}=l,u=ku(l,["challenge","allowCredentials"]),d=Es(a).buffer,_=Object.assign(Object.assign({},u),{challenge:d});if(o&&o.length>0){_.allowCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const b=o[p];_.allowCredentials[p]=Object.assign(Object.assign({},b),{id:Es(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return _}function Z0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l;return{id:l.id,rawId:l.id,response:{attestationObject:yr(new Uint8Array(l.response.attestationObject)),clientDataJSON:yr(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function I0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l,u=l.getClientExtensionResults(),d=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:yr(new Uint8Array(d.authenticatorData)),clientDataJSON:yr(new Uint8Array(d.clientDataJSON)),signature:yr(new Uint8Array(d.signature)),userHandle:d.userHandle?yr(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function bp(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Y_(){var l,a;return!!(Pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function G0(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Au("Browser returned unexpected credential type",a)}:{data:null,error:new Au("Empty credential response",a)}}catch(a){return{data:null,error:j0({error:a,options:l})}}}async function V0(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Au("Browser returned unexpected credential type",a)}:{data:null,error:new Au("Empty credential response",a)}}catch(a){return{data:null,error:U0({error:a,options:l})}}}const K0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Y0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ou(...l){const a=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),o=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),u={};for(const d of l)if(d)for(const _ in d){const p=d[_];if(p!==void 0)if(Array.isArray(p))u[_]=p;else if(o(p))u[_]=p;else if(a(p)){const b=u[_];a(b)?u[_]=Ou(b,p):u[_]=Ou(p)}else u[_]=p}return u}function X0(l,a){return Ou(K0,l,a||{})}function J0(l,a){return Ou(Y0,l,a||{})}class Q0{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:o,friendlyName:u,signal:d},_){try{const{data:p,error:b}=await this.client.mfa.challenge({factorId:a,webauthn:o});if(!p)return{data:null,error:b};const y=d??P0.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:S}=p.webauthn.credential_options.publicKey;S.name||(S.name=`${S.id}:${u}`),S.displayName||(S.displayName=S.name)}switch(p.webauthn.type){case"create":{const S=X0(p.webauthn.credential_options.publicKey,_?.create),{data:C,error:R}=await G0({publicKey:S,signal:y});return C?{data:{factorId:a,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:C}},error:null}:{data:null,error:R}}case"request":{const S=J0(p.webauthn.credential_options.publicKey,_?.request),{data:C,error:R}=await V0(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:S,signal:y}));return C?{data:{factorId:a,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:C}},error:null}:{data:null,error:R}}}}catch(p){return ft(p)?{data:null,error:p}:{data:null,error:new vr("Unexpected error in challenge",p)}}}async _verify({challengeId:a,factorId:o,webauthn:u}){return this.client.mfa.verify({factorId:o,challengeId:a,webauthn:u})}async _authenticate({factorId:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},_){if(!o)return{data:null,error:new Zo("rpId is required for WebAuthn authentication")};try{if(!Y_())return{data:null,error:new vr("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this.challenge({factorId:a,webauthn:{rpId:o,rpOrigins:u},signal:d},{request:_});if(!p)return{data:null,error:b};const{webauthn:y}=p;return this._verify({factorId:a,challengeId:p.challengeId,webauthn:{type:y.type,rpId:o,rpOrigins:u,credential_response:y.credential_response}})}catch(p){return ft(p)?{data:null,error:p}:{data:null,error:new vr("Unexpected error in authenticate",p)}}}async _register({friendlyName:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},_){if(!o)return{data:null,error:new Zo("rpId is required for WebAuthn registration")};try{if(!Y_())return{data:null,error:new vr("Browser does not support WebAuthn",null)};const{data:p,error:b}=await this._enroll({friendlyName:a});if(!p)return await this.client.mfa.listFactors().then(C=>{var R;return(R=C.data)===null||R===void 0?void 0:R.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===a&&k.status!=="unverified")}).then(C=>C?this.client.mfa.unenroll({factorId:C?.id}):void 0),{data:null,error:b};const{data:y,error:S}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:o,rpOrigins:u},signal:d},{create:_});return y?this._verify({factorId:p.id,challengeId:y.challengeId,webauthn:{rpId:o,rpOrigins:u,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:S}}catch(p){return ft(p)?{data:null,error:p}:{data:null,error:new vr("Unexpected error in register",p)}}}}M0();const $0={url:Ky,storageKey:Yy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function X_(l,a,o){return await o()}const vs={};class Io{get jwks(){var a,o;return(o=(a=vs[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(a){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,o;return(o=(a=vs[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:a})}constructor(a){var o,u,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const _=Object.assign(Object.assign({},$0),a);if(this.storageKey=_.storageKey,this.instanceID=(o=Io.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,Io.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!_.debug,typeof _.debug=="function"&&(this.logger=_.debug),this.instanceID>0&&Pe()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=_.persistSession,this.autoRefreshToken=_.autoRefreshToken,this.admin=new R0({url:_.url,headers:_.headers,fetch:_.fetch}),this.url=_.url,this.headers=_.headers,this.fetch=gp(_.fetch),this.lock=_.lock||X_,this.detectSessionInUrl=_.detectSessionInUrl,this.flowType=_.flowType,this.hasCustomAuthorizationHeader=_.hasCustomAuthorizationHeader,this.throwOnError=_.throwOnError,this.lockAcquireTimeout=_.lockAcquireTimeout,_.lock?this.lock=_.lock:this.persistSession&&Pe()&&(!((u=globalThis?.navigator)===null||u===void 0)&&u.locks)?this.lock=z0:this.lock=X_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Q0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(_.storage?this.storage=_.storage:pp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=K_(this.memoryStorage)),_.userStorage&&(this.userStorage=_.userStorage)):(this.memoryStorage={},this.storage=K_(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dp}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let o={},u="none";if(Pe()&&(o=u0(window.location.href),this._isImplicitGrantCallback(o)?u="implicit":await this._isPKCECallback(o)&&(u="pkce")),Pe()&&this.detectSessionInUrl&&u!=="none"){const{data:d,error:_}=await this._getSessionFromURL(o,u);if(_){if(this._debug("#_initialize()","error detecting session from URL",_),t0(_)){const y=(a=_.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:_}}return{error:_}}const{session:p,redirectType:b}=d;return this._debug("#_initialize()","detected session in URL",p,"redirect type",b),await this._saveSession(p),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return ft(o)?this._returnResult({error:o}):this._returnResult({error:new vr("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var o,u,d;try{const _=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(o=a?.options)===null||o===void 0?void 0:o.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(d=a?.options)===null||d===void 0?void 0:d.captchaToken}},xform:In}),{data:p,error:b}=_;if(b||!p)return this._returnResult({data:{user:null,session:null},error:b});const y=p.session,S=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:S,session:y},error:null})}catch(_){if(ft(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signUp(a){var o,u,d;try{let _;if("email"in a){const{email:C,password:R,options:k}=a;let q=null,V=null;this.flowType==="pkce"&&([q,V]=await _s(this.storage,this.storageKey)),_=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:C,password:R,data:(o=k?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:q,code_challenge_method:V},xform:In})}else if("phone"in a){const{phone:C,password:R,options:k}=a;_=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:R,data:(u=k?.data)!==null&&u!==void 0?u:{},channel:(d=k?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:In})}else throw new Tu("You must provide either an email or phone number and a password");const{data:p,error:b}=_;if(b||!p)return await Be(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:b});const y=p.session,S=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:S,session:y},error:null})}catch(_){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ft(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithPassword(a){try{let o;if("email"in a){const{email:_,password:p,options:b}=a;o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:_,password:p,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:G_})}else if("phone"in a){const{phone:_,password:p,options:b}=a;o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:_,password:p,gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:G_})}else throw new Tu("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const _=new ms;return this._returnResult({data:{user:null,session:null},error:_})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:d})}catch(o){if(ft(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(a){var o,u,d,_;return await this._handleProviderSignIn(a.provider,{redirectTo:(o=a.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=a.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=a.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(_=a.options)===null||_===void 0?void 0:_.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:o}=a;switch(o){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(a){var o,u,d,_,p,b,y,S,C,R,k;let q,V;if("message"in a)q=a.message,V=a.signature;else{const{chain:P,wallet:Q,statement:W,options:it}=a;let Y;if(Pe())if(typeof Q=="object")Y=Q;else{const Wt=window;if("ethereum"in Wt&&typeof Wt.ethereum=="object"&&"request"in Wt.ethereum&&typeof Wt.ethereum.request=="function")Y=Wt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!it?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=Q}const dt=new URL((o=it?.url)!==null&&o!==void 0?o:window.location.href),zt=await Y.request({method:"eth_requestAccounts"}).then(Wt=>Wt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!zt||zt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const mt=yp(zt[0]);let ot=(u=it?.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!ot){const Wt=await Y.request({method:"eth_chainId"});ot=k0(Wt)}const Kt={domain:dt.host,address:mt,statement:W,uri:dt.href,version:"1",chainId:ot,nonce:(d=it?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(p=(_=it?.signInWithEthereum)===null||_===void 0?void 0:_.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(b=it?.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(y=it?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(S=it?.signInWithEthereum)===null||S===void 0?void 0:S.requestId,resources:(C=it?.signInWithEthereum)===null||C===void 0?void 0:C.resources};q=N0(Kt),V=await Y.request({method:"personal_sign",params:[D0(q),mt]})}try{const{data:P,error:Q}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:q,signature:V},!((R=a.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(k=a.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:In});if(Q)throw Q;if(!P||!P.session||!P.user){const W=new ms;return this._returnResult({data:{user:null,session:null},error:W})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:Q})}catch(P){if(ft(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(a){var o,u,d,_,p,b,y,S,C,R,k,q;let V,P;if("message"in a)V=a.message,P=a.signature;else{const{chain:Q,wallet:W,statement:it,options:Y}=a;let dt;if(Pe())if(typeof W=="object")dt=W;else{const mt=window;if("solana"in mt&&typeof mt.solana=="object"&&("signIn"in mt.solana&&typeof mt.solana.signIn=="function"||"signMessage"in mt.solana&&typeof mt.solana.signMessage=="function"))dt=mt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof W!="object"||!Y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");dt=W}const zt=new URL((o=Y?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in dt&&dt.signIn){const mt=await dt.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y?.signInWithSolana),{version:"1",domain:zt.host,uri:zt.href}),it?{statement:it}:null));let ot;if(Array.isArray(mt)&&mt[0]&&typeof mt[0]=="object")ot=mt[0];else if(mt&&typeof mt=="object"&&"signedMessage"in mt&&"signature"in mt)ot=mt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ot&&"signature"in ot&&(typeof ot.signedMessage=="string"||ot.signedMessage instanceof Uint8Array)&&ot.signature instanceof Uint8Array)V=typeof ot.signedMessage=="string"?ot.signedMessage:new TextDecoder().decode(ot.signedMessage),P=ot.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in dt)||typeof dt.signMessage!="function"||!("publicKey"in dt)||typeof dt!="object"||!dt.publicKey||!("toBase58"in dt.publicKey)||typeof dt.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");V=[`${zt.host} wants you to sign in with your Solana account:`,dt.publicKey.toBase58(),...it?["",it,""]:[""],"Version: 1",`URI: ${zt.href}`,`Issued At: ${(d=(u=Y?.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((_=Y?.signInWithSolana)===null||_===void 0)&&_.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((p=Y?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((b=Y?.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((y=Y?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((S=Y?.signInWithSolana)===null||S===void 0)&&S.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((R=(C=Y?.signInWithSolana)===null||C===void 0?void 0:C.resources)===null||R===void 0)&&R.length?["Resources",...Y.signInWithSolana.resources.map(ot=>`- ${ot}`)]:[]].join(`
`);const mt=await dt.signMessage(new TextEncoder().encode(V),"utf8");if(!mt||!(mt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=mt}}try{const{data:Q,error:W}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:V,signature:yr(P)},!((k=a.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(q=a.options)===null||q===void 0?void 0:q.captchaToken}}:null),xform:In});if(W)throw W;if(!Q||!Q.session||!Q.user){const it=new ms;return this._returnResult({data:{user:null,session:null},error:it})}return Q.session&&(await this._saveSession(Q.session),await this._notifyAllSubscribers("SIGNED_IN",Q.session)),this._returnResult({data:Object.assign({},Q),error:W})}catch(Q){if(ft(Q))return this._returnResult({data:{user:null,session:null},error:Q});throw Q}}async _exchangeCodeForSession(a){const o=await _r(this.storage,`${this.storageKey}-code-verifier`),[u,d]=(o??"").split("/");try{if(!u&&this.flowType==="pkce")throw new e0;const{data:_,error:p}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:u},xform:In});if(await Be(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!_||!_.session||!_.user){const b=new ms;return this._returnResult({data:{user:null,session:null,redirectType:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign(Object.assign({},_),{redirectType:d??null}),error:p})}catch(_){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ft(_))return this._returnResult({data:{user:null,session:null,redirectType:null},error:_});throw _}}async signInWithIdToken(a){try{const{options:o,provider:u,token:d,access_token:_,nonce:p}=a,b=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:d,access_token:_,nonce:p,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:In}),{data:y,error:S}=b;if(S)return this._returnResult({data:{user:null,session:null},error:S});if(!y||!y.session||!y.user){const C=new ms;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:S})}catch(o){if(ft(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(a){var o,u,d,_,p;try{if("email"in a){const{email:b,options:y}=a;let S=null,C=null;this.flowType==="pkce"&&([S,C]=await _s(this.storage,this.storageKey));const{error:R}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(o=y?.data)!==null&&o!==void 0?o:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:S,code_challenge_method:C},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in a){const{phone:b,options:y}=a,{data:S,error:C}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(d=y?.data)!==null&&d!==void 0?d:{},create_user:(_=y?.shouldCreateUser)!==null&&_!==void 0?_:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(p=y?.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:S?.message_id},error:C})}throw new Tu("You must provide either an email or phone number.")}catch(b){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ft(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async verifyOtp(a){var o,u;try{let d,_;"options"in a&&(d=(o=a.options)===null||o===void 0?void 0:o.redirectTo,_=(u=a.options)===null||u===void 0?void 0:u.captchaToken);const{data:p,error:b}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:_}}),redirectTo:d,xform:In});if(b)throw b;if(!p)throw new Error("An error occurred on token verification.");const y=p.session,S=p.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:S,session:y},error:null})}catch(d){if(ft(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(a){var o,u,d,_,p;try{let b=null,y=null;this.flowType==="pkce"&&([b,y]=await _s(this.storage,this.storageKey));const S=await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(u=(o=a.options)===null||o===void 0?void 0:o.redirectTo)!==null&&u!==void 0?u:void 0}),!((d=a?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:b,code_challenge_method:y}),headers:this.headers,xform:A0});return!((_=S.data)===null||_===void 0)&&_.url&&Pe()&&!(!((p=a.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(S.data.url),this._returnResult(S)}catch(b){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ft(b))return this._returnResult({data:null,error:b});throw b}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)throw u;if(!o)throw new pn;const{error:d}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(ft(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const o=`${this.url}/resend`;if("email"in a){const{email:u,type:d,options:_}=a,{error:p}=await vt(this.fetch,"POST",o,{headers:this.headers,body:{email:u,type:d,gotrue_meta_security:{captcha_token:_?.captchaToken}},redirectTo:_?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in a){const{phone:u,type:d,options:_}=a,{data:p,error:b}=await vt(this.fetch,"POST",o,{headers:this.headers,body:{phone:u,type:d,gotrue_meta_security:{captcha_token:_?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:b})}throw new Tu("You must provide either an email or phone number and a type")}catch(o){if(ft(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async o=>o))}async _acquireLock(a,o){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await u,await o()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=o();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await a(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const o=await _r(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?a=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const u=a.expires_at?a.expires_at*1e3-Date.now()<Kh:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",a.expires_at),!u){if(this.userStorage){const p=await _r(this.userStorage,this.storageKey+"-user");p?.user?a.user=p.user:a.user=Jh()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};a.user=S0(a.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:d,error:_}=await this._callRefreshToken(a.refresh_token);return _?this._returnResult({data:{session:null},error:_}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const o=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(a){try{return a?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ea}):await this._useSession(async o=>{var u,d,_;const{data:p,error:b}=o;if(b)throw b;return!(!((u=p.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(_=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&_!==void 0?_:void 0,xform:Ea})})}catch(o){if(ft(o))return Fy(o)&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(a,o={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,o))}async _updateUser(a,o={}){try{return await this._useSession(async u=>{const{data:d,error:_}=u;if(_)throw _;if(!d.session)throw new pn;const p=d.session;let b=null,y=null;this.flowType==="pkce"&&a.email!=null&&([b,y]=await _s(this.storage,this.storageKey));const{data:S,error:C}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:b,code_challenge_method:y}),jwt:p.access_token,xform:Ea});if(C)throw C;return p.user=S.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(u){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ft(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new pn;const o=Date.now()/1e3;let u=o,d=!0,_=null;const{payload:p}=Xh(a.access_token);if(p.exp&&(u=p.exp,d=u<=o),d){const{data:b,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!b)return{data:{user:null,session:null},error:null};_=b}else{const{data:b,error:y}=await this._getUser(a.access_token);if(y)throw y;_={access_token:a.access_token,refresh_token:a.refresh_token,user:b.user,token_type:"bearer",expires_in:u-o,expires_at:u},await this._saveSession(_),await this._notifyAllSubscribers("SIGNED_IN",_)}return this._returnResult({data:{user:_.user,session:_},error:null})}catch(o){if(ft(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async o=>{var u;if(!a){const{data:p,error:b}=o;if(b)throw b;a=(u=p.session)!==null&&u!==void 0?u:void 0}if(!a?.refresh_token)throw new pn;const{data:d,error:_}=await this._callRefreshToken(a.refresh_token);return _?this._returnResult({data:{user:null,session:null},error:_}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(ft(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(a,o){try{if(!Pe())throw new Eu("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Eu(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new U_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Eu("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new U_("No code detected.");const{data:it,error:Y}=await this._exchangeCodeForSession(a.code);if(Y)throw Y;const dt=new URL(window.location.href);return dt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",dt.toString()),{data:{session:it.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:d,access_token:_,refresh_token:p,expires_in:b,expires_at:y,token_type:S}=a;if(!_||!b||!p||!S)throw new Eu("No session defined in URL");const C=Math.round(Date.now()/1e3),R=parseInt(b);let k=C+R;y&&(k=parseInt(y));const q=k-C;q*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${q}s, should have been closer to ${R}s`);const V=k-R;C-V>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",V,k,C):C-V<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",V,k,C);const{data:P,error:Q}=await this._getUser(_);if(Q)throw Q;const W={provider_token:u,provider_refresh_token:d,access_token:_,expires_in:R,expires_at:k,refresh_token:p,token_type:S,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:W,redirectType:a.type},error:null})}catch(u){if(ft(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const o=await _r(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&o)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async o=>{var u;const{data:d,error:_}=o;if(_)return this._returnResult({error:_});const p=(u=d.session)===null||u===void 0?void 0:u.access_token;if(p){const{error:b}=await this.admin.signOut(p,a);if(b&&!(Wy(b)&&(b.status===404||b.status===401||b.status===403)))return this._returnResult({error:b})}return a!=="others"&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const o=l0(),u={id:o,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:u}}}async _emitInitialSession(a){return await this._useSession(async o=>{var u,d;try{const{data:{session:_},error:p}=o;if(p)throw p;await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",_)),this._debug("INITIAL_SESSION","callback id",a,"session",_)}catch(_){await((d=this.stateChangeEmitters.get(a))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",_),console.error(_)}})}async resetPasswordForEmail(a,o={}){let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _s(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:u,code_challenge_method:d,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(_){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ft(_))return this._returnResult({data:null,error:_});throw _}}async getUserIdentities(){var a;try{const{data:o,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(a=o.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var o;try{const{data:u,error:d}=await this._useSession(async _=>{var p,b,y,S,C;const{data:R,error:k}=_;if(k)throw k;const q=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(p=a.options)===null||p===void 0?void 0:p.redirectTo,scopes:(b=a.options)===null||b===void 0?void 0:b.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",q,{headers:this.headers,jwt:(C=(S=R.session)===null||S===void 0?void 0:S.access_token)!==null&&C!==void 0?C:void 0})});if(d)throw d;return Pe()&&!(!((o=a.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u?.url),this._returnResult({data:{provider:a.provider,url:u?.url},error:null})}catch(u){if(ft(u))return this._returnResult({data:{provider:a.provider,url:null},error:u});throw u}}async linkIdentityIdToken(a){return await this._useSession(async o=>{var u;try{const{error:d,data:{session:_}}=o;if(d)throw d;const{options:p,provider:b,token:y,access_token:S,nonce:C}=a,R=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=_?.access_token)!==null&&u!==void 0?u:void 0,body:{provider:b,id_token:y,access_token:S,nonce:C,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:In}),{data:k,error:q}=R;return q?this._returnResult({data:{user:null,session:null},error:q}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new ms}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:q}))}catch(d){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ft(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(a){try{return await this._useSession(async o=>{var u,d;const{data:_,error:p}=o;if(p)throw p;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(d=(u=_.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(a){const o=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{const u=Date.now();return await f0(async d=>(d>0&&await h0(200*Math.pow(2,d-1)),this._debug(o,"refreshing attempt",d),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:In})),(d,_)=>{const p=200*Math.pow(2,d);return _&&Yh(_)&&Date.now()+p-u<ws})}catch(u){if(this._debug(o,"error",u),ft(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(o,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,o){const u=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",o,"url",u),Pe()&&!o.skipBrowserRedirect&&window.location.assign(u),{data:{provider:a,url:u},error:null}}async _recoverAndRefresh(){var a,o;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const d=await _r(this.storage,this.storageKey);if(d&&this.userStorage){let p=await _r(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:d.user},await Ss(this.userStorage,this.storageKey+"-user",p)),d.user=(a=p?.user)!==null&&a!==void 0?a:Jh()}else if(d&&!d.user&&!d.user){const p=await _r(this.storage,this.storageKey+"-user");p&&p?.user?(d.user=p.user,await Be(this.storage,this.storageKey+"-user"),await Ss(this.storage,this.storageKey,d)):d.user=Jh()}if(this._debug(u,"session from storage",d),!this._isValidSession(d)){this._debug(u,"session is not valid"),d!==null&&await this._removeSession();return}const _=((o=d.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Kh;if(this._debug(u,`session has${_?"":" not"} expired with margin of ${Kh}s`),_){if(this.autoRefreshToken&&d.refresh_token){const{error:p}=await this._callRefreshToken(d.refresh_token);p&&(console.error(p),Yh(p)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:b}=await this._getUser(d.access_token);!b&&p?.user?(d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(u,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(u,"error",d),console.error(d);return}finally{this._debug(u,"end")}}async _callRefreshToken(a){var o,u;if(!a)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Nu;const{data:_,error:p}=await this._refreshAccessToken(a);if(p)throw p;if(!_.session)throw new pn;await this._saveSession(_.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",_.session);const b={data:_.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(_){if(this._debug(d,"error",_),ft(_)){const p={data:null,error:_};return Yh(_)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(p),p}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(_),_}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,o,u=!0){const d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",o,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:a,session:o});const _=[],p=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(a,o)}catch(y){_.push(y)}});if(await Promise.all(p),_.length>0){for(let b=0;b<_.length;b+=1)console.error(_[b]);throw _[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Be(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},a),u=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&o.user&&await Ss(this.userStorage,this.storageKey+"-user",{user:o.user});const d=Object.assign({},o);delete d.user;const _=Z_(d);await Ss(this.storage,this.storageKey,_)}else{const d=Z_(o);await Ss(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Be(this.storage,this.storageKey),await Be(this.storage,this.storageKey+"-code-verifier"),await Be(this.storage,this.storageKey+"-user"),this.userStorage&&await Be(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Pe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const o=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=o,o&&typeof o=="object"&&typeof o.unref=="function"?o.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(o)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const o=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,o&&clearTimeout(o)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async o=>{const{data:{session:u}}=o;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((u.expires_at*1e3-a)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${ws}ms, refresh threshold is ${sf} ticks`),d<=sf&&await this._callRefreshToken(u.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof vp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const o=`#_onVisibilityChanged(${a})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,o,u){const d=[`provider=${encodeURIComponent(o)}`];if(u?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&d.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[_,p]=await _s(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(_)}`,code_challenge_method:`${encodeURIComponent(p)}`});d.push(b.toString())}if(u?.queryParams){const _=new URLSearchParams(u.queryParams);d.push(_.toString())}return u?.skipBrowserRedirect&&d.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async o=>{var u;const{data:d,error:_}=o;return _?this._returnResult({data:null,error:_}):await vt(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token})})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(a){try{return await this._useSession(async o=>{var u,d;const{data:_,error:p}=o;if(p)return this._returnResult({data:null,error:p});const b=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:S}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(u=_?.session)===null||u===void 0?void 0:u.access_token});return S?this._returnResult({data:null,error:S}):(a.factorType==="totp"&&y.type==="totp"&&(!((d=y?.totp)===null||d===void 0)&&d.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:_}=o;if(_)return this._returnResult({data:null,error:_});const p=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Z0(a.webauthn.credential_response):I0(a.webauthn.credential_response)})}:{code:a.code}),{data:b,error:y}=await vt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:p,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),this._returnResult({data:b,error:y}))})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:_}=o;if(_)return this._returnResult({data:null,error:_});const p=await vt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});if(p.error)return p;const{data:b}=p;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:H0(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:q0(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(a){const{data:o,error:u}=await this._challenge({factorId:a.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:a.factorId,challengeId:o.id,code:a.code})}async _listFactors(){var a;const{data:{user:o},error:u}=await this.getUser();if(u)return{data:null,error:u};const d={all:[],phone:[],totp:[],webauthn:[]};for(const _ of(a=o?.factors)!==null&&a!==void 0?a:[])d.all.push(_),_.status==="verified"&&d[_.factor_type].push(_);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var a,o;const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:_}=Xh(u.access_token);let p=null;_.aal&&(p=_.aal);let b=p;((o=(a=u.user.factors)===null||a===void 0?void 0:a.filter(C=>C.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(b="aal2");const S=_.amr||[];return{data:{currentLevel:p,nextLevel:b,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?await vt(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:u.access_token,xform:_=>({data:_,error:null})}):this._returnResult({data:null,error:new pn})})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:_}=u;if(_)return this._returnResult({data:null,error:_});if(!d)return this._returnResult({data:null,error:new pn});const p=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&Pe()&&!o?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(u){if(ft(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:_}=u;if(_)return this._returnResult({data:null,error:_});if(!d)return this._returnResult({data:null,error:new pn});const p=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return p.data&&p.data.redirect_url&&Pe()&&!o?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(u){if(ft(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;return u?this._returnResult({data:null,error:u}):o?await vt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new pn})})}catch(a){if(ft(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?(await vt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pn})})}catch(o){if(ft(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(a,o={keys:[]}){let u=o.keys.find(b=>b.kid===a);if(u)return u;const d=Date.now();if(u=this.jwks.keys.find(b=>b.kid===a),u&&this.jwks_cached_at+Qy>d)return u;const{data:_,error:p}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!_.keys||_.keys.length===0||(this.jwks=_,this.jwks_cached_at=d,u=_.keys.find(b=>b.kid===a),!u)?null:u}async getClaims(a,o={}){try{let u=a;if(!u){const{data:q,error:V}=await this.getSession();if(V||!q.session)return this._returnResult({data:null,error:V});u=q.session.access_token}const{header:d,payload:_,signature:p,raw:{header:b,payload:y}}=Xh(u);o?.allowExpired||y0(_.exp);const S=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!S){const{error:q}=await this.getUser(u);if(q)throw q;return{data:{claims:_,header:d,signature:p},error:null}}const C=b0(d.alg),R=await crypto.subtle.importKey("jwk",S,C,!0,["verify"]);if(!await crypto.subtle.verify(C,R,p,s0(`${b}.${y}`)))throw new uf("Invalid JWT signature");return{data:{claims:_,header:d,signature:p},error:null}}catch(u){if(ft(u))return this._returnResult({data:null,error:u});throw u}}}Io.nextInstanceID={};const W0=Io,F0="2.90.1";let jo="";typeof Deno<"u"?jo="deno":typeof document<"u"?jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jo="react-native":jo="node";const tb={"X-Client-Info":`supabase-js-${jo}/${F0}`},eb={headers:tb},nb={schema:"public"},ib={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ab={};function Go(l){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Go(l)}function rb(l,a){if(Go(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Go(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function sb(l){var a=rb(l,"string");return Go(a)=="symbol"?a:a+""}function ob(l,a,o){return(a=sb(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function J_(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function me(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?J_(Object(o),!0).forEach(function(u){ob(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):J_(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const lb=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ub=()=>Headers,cb=(l,a,o)=>{const u=lb(o),d=ub();return async(_,p)=>{var b;const y=(b=await a())!==null&&b!==void 0?b:l;let S=new d(p?.headers);return S.has("apikey")||S.set("apikey",l),S.has("Authorization")||S.set("Authorization",`Bearer ${y}`),u(_,me(me({},p),{},{headers:S}))}};function hb(l){return l.endsWith("/")?l:l+"/"}function fb(l,a){var o,u;const{db:d,auth:_,realtime:p,global:b}=l,{db:y,auth:S,realtime:C,global:R}=a,k={db:me(me({},y),d),auth:me(me({},S),_),realtime:me(me({},C),p),storage:{},global:me(me(me({},R),b),{},{headers:me(me({},(o=R?.headers)!==null&&o!==void 0?o:{}),(u=b?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return l.accessToken?k.accessToken=l.accessToken:delete k.accessToken,k}function db(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mb=class extends W0{constructor(l){super(l)}},_b=class{constructor(l,a,o){var u,d;this.supabaseUrl=l,this.supabaseKey=a;const _=db(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const p=`sb-${_.hostname.split(".")[0]}-auth-token`,b={db:nb,realtime:ab,auth:me(me({},ib),{},{storageKey:p}),global:eb},y=fb(o??{},b);if(this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(C,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}});else{var S;this.auth=this._initSupabaseAuthClient((S=y.auth)!==null&&S!==void 0?S:{},this.headers,y.global.fetch)}this.fetch=cb(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new Xv(new URL("rest/v1",_).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Vy(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Iv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,o)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,o;if(l.accessToken)return await l.accessToken();const{data:u}=await l.auth.getSession();return(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,storageKey:_,flowType:p,lock:b,debug:y,throwOnError:S},C,R){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mb({url:this.authUrl.href,headers:me(me({},k),C),storageKey:_,autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,flowType:p,lock:b,debug:y,throwOnError:S,fetch:R,hasCustomAuthorizationHeader:Object.keys(this.headers).some(q=>q.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new hy(this.realtimeUrl.href,me(me({},l),{},{params:me(me({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,o){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pb=(l,a,o)=>new _b(l,a,o);function gb(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const o=a.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}gb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vb="https://exdngohfltuhhvviruse.supabase.co",yb="sb_publishable_Wh9QALe9YyNyitPSVRTLUg_HM1ku7Yj";let wp=null;try{wp=pb(vb,yb),console.log("Supabase client initialized successfully")}catch(l){console.error("FAILED to initialize Supabase client:",l)}const ys=wp,bb=()=>{const[l,a]=_t.useState([]),[o,u]=_t.useState([]),[d,_]=_t.useState([]),[p,b]=_t.useState([]),[y,S]=_t.useState(!0),[C,R]=_t.useState(null),k=q=>q?new Date(q).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return _t.useEffect(()=>{(async()=>{try{S(!0);const[{data:P,error:Q},{data:W,error:it},{data:Y,error:dt},{data:zt,error:mt}]=await Promise.all([ys.from("sightings").select("*"),ys.from("incidents").select("*").order("created_at",{ascending:!1}),ys.from("danger_zones").select("*"),ys.from("village_status").select("*")]);if(Q)throw Q;if(it)throw it;if(dt)throw dt;if(mt)throw mt;a(P||[]),u(W?.map(ot=>({...ot,time:k(ot.time)}))||[]),_(Y||[]),b(zt||[])}catch(P){console.error("Error fetching dashboard data:",P),R(P.message)}finally{S(!1)}})();const V=ys.channel("custom-all-channel").on("postgres_changes",{event:"*",schema:"public",table:"sightings"},P=>{console.log("Realtime change sightings:",P),P.eventType==="INSERT"?a(Q=>[...Q,P.new]):P.eventType==="UPDATE"?a(Q=>Q.map(W=>W.id===P.new.id?P.new:W)):P.eventType==="DELETE"&&a(Q=>Q.filter(W=>W.id!==P.old.id))}).on("postgres_changes",{event:"*",schema:"public",table:"village_status"},P=>{console.log("Realtime change village_status:",P),P.eventType==="INSERT"?b(Q=>[...Q,P.new]):P.eventType==="UPDATE"?b(Q=>Q.map(W=>W.id===P.new.id?P.new:W)):P.eventType==="DELETE"&&b(Q=>Q.filter(W=>W.id!==P.old.id))}).on("postgres_changes",{event:"INSERT",schema:"public",table:"incidents"},P=>{console.log("Realtime change incidents:",P);const Q={...P.new,time:k(P.new.time)};u(W=>[Q,...W])}).subscribe();return()=>{ys.removeChannel(V)}},[]),{sightings:l,incidents:o,dangerZones:d,villageStatus:p,loading:y,error:C}},wb={en:{appTitle:"Gaja-Vani Monitor",liveFeed:"Live Incident Feed",villageSafety:"Village Safety Status",proximityAlert:"PROXIMITY ALERT",nearbyDangerZones:"Nearby Danger Zones",reportIncident:"Report Sighting",submit:"Submit Alert",cancel:"Cancel",location:"Location",description:"Description",incidentType:"Incident Type",selectLanguage:"Select Language",fit:"Fit",satellite:"Satellite",street:"Street",systemOnline:"SYSTEM ONLINE",region:"MYSURU REGION",incidentTypes:{sighting:"Elephant Sighting",cropDamage:"Crop Damage",fenceDamage:"Fence Damage",propertyDamage:"Property Damage",other:"Other"}},kn:{appTitle:"- ",liveFeed:"  ",villageSafety:"  ",proximityAlert:" ",nearbyDangerZones:"  ",reportIncident:"    ",submit:"",cancel:"",location:"",description:"",incidentType:" ",selectLanguage:" ",fit:"",satellite:"",street:"",systemOnline:" ",region:" ",incidentTypes:{sighting:" ",cropDamage:" ",fenceDamage:" ",propertyDamage:" ",other:""}},hi:{appTitle:"- ",liveFeed:"  ",villageSafety:"  ",proximityAlert:" ",nearbyDangerZones:"   ",reportIncident:" ",submit:" ",cancel:" ",location:"",description:"",incidentType:"  ",selectLanguage:" ",fit:"",satellite:"",street:"",systemOnline:" ",region:" ",incidentTypes:{sighting:"  ",cropDamage:"  ",fenceDamage:"  ",propertyDamage:"  ",other:""}},ta:{appTitle:"- ",liveFeed:"  ",villageSafety:"  ",proximityAlert:" ",nearbyDangerZones:"  ",reportIncident:"",submit:"",cancel:" ",location:"",description:"",incidentType:" ",selectLanguage:" ",fit:"",satellite:"",street:"",systemOnline:" ",region:" ",incidentTypes:{sighting:" ",cropDamage:" ",fenceDamage:" ",propertyDamage:" ",other:""}},te:{appTitle:"- ",liveFeed:"  ",villageSafety:"  ",proximityAlert:" ",nearbyDangerZones:"  ",reportIncident:" ",submit:"",cancel:" ",location:"",description:" ",incidentType:" ",selectLanguage:" ",fit:"",satellite:"",street:"",systemOnline:" ",region:" ",incidentTypes:{sighting:" ",cropDamage:" ",fenceDamage:" ",propertyDamage:" ",other:""}},ml:{appTitle:"- ",liveFeed:" ",villageSafety:"  ",proximityAlert:" ",nearbyDangerZones:"  ",reportIncident:" ",submit:"",cancel:"",location:"",description:"",incidentType:" ",selectLanguage:" ",fit:"",satellite:"",street:"",systemOnline:" ",region:" ",incidentTypes:{sighting:" ",cropDamage:" ",fenceDamage:" ",propertyDamage:" ",other:""}},ur:{appTitle:"- ",liveFeed:" ",villageSafety:"  ",proximityAlert:"  ",nearbyDangerZones:"   ",reportIncident:" ",submit:" ",cancel:" ",location:"",description:"",incidentType:"  ",selectLanguage:"  ",fit:"",satellite:"",street:"",systemOnline:"  ",region:" ",incidentTypes:{sighting:"  ",cropDamage:"  ",fenceDamage:"  ",propertyDamage:"  ",other:""}},mr:{appTitle:"- ",liveFeed:"  ",villageSafety:"  ",proximityAlert:" ",nearbyDangerZones:"  ",reportIncident:" ",submit:" ",cancel:" ",location:"",description:"",incidentType:" ",selectLanguage:" ",fit:"",satellite:"",street:"",systemOnline:" ",region:" ",incidentTypes:{sighting:" ",cropDamage:" ",fenceDamage:" ",propertyDamage:" ",other:""}}},Sb=[{code:"en",name:"English"},{code:"kn",name:" (Kannada)"},{code:"hi",name:" (Hindi)"},{code:"ta",name:" (Tamil)"},{code:"te",name:" (Telugu)"},{code:"ml",name:" (Malayalam)"},{code:"ur",name:" (Urdu)"},{code:"mr",name:" (Marathi)"}],Tb=()=>{const{sightings:l,incidents:a,dangerZones:o,villageStatus:u}=bb(),[d,_]=_t.useState("satellite"),[p,b]=_t.useState({sightings:!0,heatmap:!1}),[y,S]=_t.useState([]),[C,R]=_t.useState("en"),k=wb[C],[q,V]=_t.useState(!1),[P,Q]=_t.useState("sighting"),[W,it]=_t.useState(!1),[Y,dt]=_t.useState(null),[zt,mt]=_t.useState(!0),[ot,Kt]=_t.useState({windSpeed:null});_t.useEffect(()=>{l&&l.length>0&&S(l)},[l]),Kn.useEffect(()=>{if(!navigator.geolocation){console.log("Geolocation is not supported by this browser.");return}const Nt=navigator.geolocation.watchPosition(B=>{dt({lat:B.coords.latitude,lng:B.coords.longitude,accuracy:B.coords.accuracy,speed:B.coords.speed,heading:B.coords.heading})},B=>{console.error("Error fetching location: ",B)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0});return()=>navigator.geolocation.clearWatch(Nt)},[]),Kn.useEffect(()=>{if(!Y)return;const Nt=async()=>{try{const $=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${Y.lat}&longitude=${Y.lng}&current=wind_speed_10m&wind_speed_unit=kmh`)).json();$.current&&Kt({windSpeed:$.current.wind_speed_10m})}catch(tt){console.error("Failed to fetch weather data",tt)}};Nt();const B=setInterval(Nt,3e5);return()=>clearInterval(B)},[Y?.lat,Y?.lng]),Kn.useEffect(()=>{const Nt=setInterval(()=>{S(B=>B.map(tt=>({...tt,lat:tt.lat+(Math.random()-.5)*.002,lng:tt.lng+(Math.random()-.5)*.002})))},2e3);return()=>clearInterval(Nt)},[]);const[Wt,yn]=_t.useState(!1),Yt=Nt=>{b(B=>({...B,[Nt]:!B[Nt]}))},[It,zn]=_t.useState(0),_e=()=>{zn(Nt=>Nt+1)};return G.jsxs("div",{className:"dashboard-layout",children:[G.jsxs("header",{className:"glass-panel dashboard-header",children:[G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[G.jsxs("div",{className:"menu-toggle mobile-menu-btn",onClick:()=>yn(!Wt),style:{cursor:"pointer"},children:[G.jsx("div",{style:{width:"24px",height:"2px",background:"white",marginBottom:"5px"}}),G.jsx("div",{style:{width:"24px",height:"2px",background:"white",marginBottom:"5px"}}),G.jsx("div",{style:{width:"24px",height:"2px",background:"white"}})]}),G.jsxs("div",{children:[G.jsxs("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)",textTransform:"uppercase",letterSpacing:"2px",display:"flex",alignItems:"center",gap:"10px"},children:[G.jsx("span",{style:{fontSize:"1.8rem"},children:""})," ",k.appTitle]}),G.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)",display:"flex",alignItems:"center",gap:"5px"},children:[G.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#00ff41",boxShadow:"0 0 5px #00ff41"}}),k.systemOnline,"  ",k.region]})]})]}),G.jsxs("div",{className:"view-toggle",style:{display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[G.jsxs("div",{className:"lang-switcher",style:{position:"relative",display:"flex",alignItems:"center"},children:[G.jsx(Rv,{size:16,style:{color:"var(--color-text-muted)",marginRight:"5px"}}),G.jsx("select",{value:C,onChange:Nt=>R(Nt.target.value),style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"white",borderRadius:"4px",padding:"0.2rem 0.5rem",fontSize:"0.8rem",cursor:"pointer",outline:"none"},children:Sb.map(Nt=>G.jsx("option",{value:Nt.code,style:{color:"black"},children:Nt.name},Nt.code))})]}),G.jsxs("button",{onClick:_e,title:k.fit,style:{padding:"0.4rem",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.3)",background:"rgba(255,255,255,0.1)",color:"white",cursor:"pointer"},children:[" ",k.fit]}),G.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"4px",borderRadius:"8px",display:"flex",gap:"4px"},children:[G.jsx("button",{onClick:()=>_("satellite"),style:{padding:"0.4rem 0.8rem",borderRadius:"6px",border:"none",background:d==="satellite"?"var(--color-primary)":"transparent",color:d==="satellite"?"black":"white",cursor:"pointer",fontSize:"0.8rem",fontWeight:"bold"},children:k.satellite}),G.jsx("button",{onClick:()=>_("street"),style:{padding:"0.4rem 0.8rem",borderRadius:"6px",border:"none",background:d==="street"?"var(--color-primary)":"transparent",color:d==="street"?"black":"white",cursor:"pointer",fontSize:"0.8rem",fontWeight:"bold"},children:k.street})]}),G.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[G.jsx("button",{onClick:()=>Yt("sightings"),style:{padding:"0.4rem 0.8rem",borderRadius:"6px",border:"1px solid var(--color-primary)",background:p.sightings?"rgba(0, 255, 65, 0.2)":"transparent",color:"white",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:p.sightings?"":""}),G.jsx("button",{onClick:()=>Yt("heatmap"),style:{padding:"0.4rem 0.8rem",borderRadius:"6px",border:"1px solid var(--color-danger)",background:p.heatmap?"rgba(255, 0, 0, 0.2)":"transparent",color:"white",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"5px"},children:p.heatmap?"":""})]})]})]}),G.jsxs("div",{className:"dashboard-content",children:[G.jsxs("div",{className:"map-section glass-panel",children:[G.jsx("div",{className:"map-wrapper",children:G.jsx(vv,{baseLayer:d,showHeatmap:p.heatmap,showSightings:p.sightings,data:{sightings:y,dangerZones:o},userLocation:Y,isFollowing:zt,onMapDrag:()=>mt(!1),resetZoomTrigger:It})}),G.jsx("button",{className:"fab-report",onClick:()=>V(!0),title:k.reportIncident,children:G.jsx(A_,{size:24})}),G.jsxs("div",{className:"coordinates-panel glass-panel",style:{position:"absolute",top:"1rem",right:"1rem",padding:"0.8rem",zIndex:1e3,minWidth:"150px"},children:[G.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)",marginBottom:"0.2rem"},children:"YOUR LOCATION"}),G.jsx("div",{style:{fontSize:"0.9rem",fontFamily:"monospace"},children:Y?`${Y.lat.toFixed(6)}, ${Y.lng.toFixed(6)}`:"Locating..."}),G.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-primary)",marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:[G.jsx(Ov,{size:12})," ",ot.windSpeed?`${ot.windSpeed} km/h`:"Loading..."]})]})]}),G.jsx(Pv,{incidents:a,villageStatus:u,isOpen:Wt,onClose:()=>yn(!1),t:k,userLocation:Y,dangerZones:o})]}),q&&G.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:G.jsxs("div",{className:"glass-panel",style:{width:"90%",maxWidth:"500px",padding:"2rem"},children:[G.jsxs("h2",{style:{color:"var(--color-primary)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"10px"},children:[G.jsx(A_,{})," ",k.reportIncident]}),G.jsxs("div",{style:{marginBottom:"1rem"},children:[G.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:k.incidentType}),G.jsxs("select",{value:P,onChange:Nt=>Q(Nt.target.value),style:{width:"100%",padding:"0.8rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",color:"white",borderRadius:"4px"},children:[G.jsx("option",{value:"sighting",style:{color:"black"},children:k.incidentTypes.sighting}),G.jsx("option",{value:"cropDamage",style:{color:"black"},children:k.incidentTypes.cropDamage}),G.jsx("option",{value:"fenceDamage",style:{color:"black"},children:k.incidentTypes.fenceDamage}),G.jsx("option",{value:"propertyDamage",style:{color:"black"},children:k.incidentTypes.propertyDamage}),G.jsx("option",{value:"other",style:{color:"black"},children:k.incidentTypes.other})]})]}),G.jsxs("div",{style:{marginBottom:"1rem"},children:[G.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:k.location}),G.jsx("input",{type:"text",value:Y?`${Y.lat}, ${Y.lng}`:"Unknown",disabled:!0,style:{width:"100%",padding:"0.8rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",color:"white",borderRadius:"4px"}})]}),G.jsxs("div",{style:{marginBottom:"1.5rem"},children:[G.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:[k.description," (Optional)"]}),G.jsx("textarea",{placeholder:"Describe the elephant activity...",style:{width:"100%",padding:"0.8rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",color:"white",borderRadius:"4px",minHeight:"100px"}})]}),G.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[G.jsx("button",{onClick:()=>V(!1),style:{padding:"0.8rem 1.5rem",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"transparent",color:"white",cursor:"pointer"},children:k.cancel}),G.jsx("button",{onClick:()=>{alert("Report Submitted! Nearby villages will be alerted."),V(!1)},style:{padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",background:"var(--color-danger)",color:"white",cursor:"pointer",fontWeight:"bold",boxShadow:"0 0 10px var(--color-danger-glow)"},children:k.submit})]})]})})]})};function Eb(){return G.jsx(Tb,{})}Kg.createRoot(document.getElementById("root")).render(G.jsx(_t.StrictMode,{children:G.jsx(Eb,{})}));
